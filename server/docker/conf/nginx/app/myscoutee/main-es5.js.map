{"version":3,"sources":["webpack:///src/lib/ms-list/ms-panel/index.ts","webpack:///src/lib/ms-list/ms-panel/index.html","webpack:///src/lib/ms-list/ms-calendar/utils.ts","webpack:///src/app/navigation.service.ts","webpack:///src/lib/ms-menu/ms-frame/repositories/interpolate.ts","webpack:///src/app/animation.ts","webpack:///src/lib/ms-editor/magnifier.ts","webpack:///src/app/services/transform.service.ts","webpack:///src/lib/ms-menu/ms-frame/svg-load/index.ts","webpack:///src/lib/ms-menu/ms-frame/svg-load/index.html","webpack:///src/app/auth-guard.service.ts","webpack:///src/environments/environment.ts","webpack:///src/lib/ms-list/ms-calendar/index.ts","webpack:///src/lib/ms-list/ms-calendar/index.html","webpack:///src/lib/ms-menu/ms-frame/repositories/segment.ts","webpack:///src/app/services/data.service.ts","webpack:///src/lib/ms-list/ms-action/index.ts","webpack:///src/lib/ms-list/ms-action/index.html","webpack:///src/lib/ms-qrcode/index.ts","webpack:///src/lib/ms-qrcode/index.html","webpack:///src/app/services/http.service.ts","webpack:///src/lib/ms-menu/ms-frame/index.ts","webpack:///src/lib/ms-menu/ms-frame/index.html","webpack:///src/lib/ms-menu/index.ts","webpack:///src/lib/ms-menu/index.html","webpack:///src/lib/ms-list/index.ts","webpack:///src/lib/ms-list/index.html","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/services/list.service.ts","webpack:///src/app/app.module.ts","webpack:///src/lib/ms-dialog/index.ts","webpack:///src/lib/ms-dialog/index.html","webpack:///src/app/dating/components/forms/group-filter/group-filter.component.ts","webpack:///src/app/dating/components/forms/group-filter/group-filter.component.html","webpack:///src/lib/ms-menu/ms-frame/svg-path/parse.ts","webpack:///src/lib/ms-menu/ms-frame/repositories/index.ts","webpack:///src/app/app-routing.strategy.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/index.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/svg-path-properties.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/arc.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/bezier.ts","webpack:///src/lib/ms-menu/ms-frame/repositories/utils.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/bezier-functions.ts","webpack:///src/app/services/event-bus.service.ts","webpack:///src/lib/index.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/linear.ts","webpack:///src/lib/ms-menu/ms-frame/svg-path/bezier-values.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/lib/ms-editor/index.ts","webpack:///src/lib/ms-editor/index.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["MsPanel","cd","dialog","router","menu","listService","msSelect","msRate","msEnlarge","msRemove","currentIdx","focused","selected","enlarged","rated","actionable","idx","type","data","children","url","indexOf","emit","itemUrl","navigate","open","alias","actions","chat","positions","msg","markForCheck","isEnlarge","rate","undefined","next","pos","elementView","nativeElement","getBoundingClientRect","isAlways","always","isFocused","isRated","isSelected","isShow","isEnlarged","visible","monthlyTable","jsDate","from","Date","getFullYear","getMonth","to","fromDayIdx","getDay","toDayIdx","weekNum","Math","ceil","getDate","rows","Array","dayNum","i","j","day","title","date","getTime","value","NavigationService","_reset","_online","online","_server","_msg","_xlink","xlink","_token","token","_prevUrl","prevUrl","_selected","_pos","_groupName","groupName","_groupType","groupType","_notif","notif","_profileId","profileId","route","push","_locale","Interpolate","path","point","bound","pathLength","getTotalLength","precision","best","bestLength","bestDistance","Infinity","scan","scanLength","scanDistance","distance2","getPointAtLength","before","after","beforeLength","afterLength","beforeDistance","afterDistance","len2","rotation","getRotation","slideInAnimation","position","opacity","top","left","width","Transform","mtx","scale","angle","x","y","_mtx","uiScale","uiDiff","deg","Magnifier","element","_renderer","_transform","touches","_callback","listen","event","preventDefault","sign","wheelDelta","uiOrigin","pageX","offsetLeft","pageY","offsetTop","tr","updateTouch","touch","targetTouches","dragStart","touch1","touch2","start","end","diff","dist","sqrt","dragEnd","move","changedTouches","identifier","rotate","length","physiques","s","a","sp","m","TransformService","datePipe","inList","refresh","table","alignItemZone","role","transformProfile","key","transformCar","transformSchool","info","transformEvent","transformEventItem","transformFeedback","transformMember","transformJob","transformIdea","transformGroup","transformPromotion","alignZone","sortKey","groupKey","shiftWithTimeZone","Number","isInteger","oldLength","substring","map","slot","isNaN","offset","getTimezoneOffset","toISOString","id","state","header","main","desc","imgs","image","location","origin","color","param","isPromotion","isMember","max","min","category","name","extra","num","createdBy","chatKey","range","footer","transform","sub","member","age","floor","icon","now","ref","replace","c","r","random","v","toString","SvgLoad","sanitizer","bypassSecurityTrustResourceUrl","svg_url","rs_url","sanitize","target","srcElement","appendStroke","contentDocument","documentElement","doc","strokeWidth","linkNS","svgNS","parseInt","getAttribute","height","setAttribute","getElementsByTagName","g","usePath","document","createElementNS","setAttributeNS","append","onload","AuthGuardService","navService","httpService","segments","observer","complete","environment","production","serverUrl","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","vapid","groupTypes","d","b","t","MsCalendar","items","days","init","forEach","item","startDay","endDay","isFound","isRangeFound","calItem","JSON","parse","stringify","cal","cell","console","log","Segment","segmentData","limit","values","points","distribute","handles","handleSize","svgX","rect","svgY","svgPoint","pointIdx","minDistance","distance","professions","viewValue","religions","languages","categories","currencies","eventCategories","eventTypes","statuses","groupVisibilities","roles","profileStatuses","templateTypes","DataService","MsAction","buildMapLink","action","edit","status","share","code","clone","join","recommend","window","dismiss","link","MsQrcode","msScanned","qrMessage","lastResult","turnCamera","html5Qrcode","Html5Qrcode","camera","on","sQRCode","config","fps","facingMode","onScanSuccess","err","stop","then","ignore","qrCode","setTimeout","QRCode","toCanvas","qrCodeViewRef","error","AUTH_FIREBASE_HEADER","AUTH_LINK_HEADER","HttpService","httpClient","isPending","openReq","indexedDB","onsuccess","e","db","result","onupgradeneeded","objectStoreNames","contains","os","createObjectStore","autoIncrement","createIndex","unique","urlPart","params","headers","get","pipe","handleError","like","objStore","transaction","objectStore","add","created","Promise","resolve","reject","batch","res","post","subscribe","IDBKeyRange","upperBound","toDate","index","openCursor","cursor","body","lastPart","substr","lastIndexOf","uuidRegex","match","patch","reportProgress","observe","errorMessage","ErrorEvent","message","HEART_DELTA","HEART_FRAME","delta","MsFrame","isGroup","entered","leaved","changed","isInitialized","style","bypassSecurityTrustStyle","frame_width","isPicked","isPickedMoved","closed","detectChanges","splice","wrapper","stopPropagation","pointHandleRef","handle","selectedDiv","elementFromPoint","clientX","clientY","handleIdx","textContent","handleGroup","pressTimer","picked","clearTimeout","div","classList","ptOffset","itp","segment","_path","pt","_bound","wRatio","hRatio","nearby","loc","_points","nextPointIdx","isPrevUp","hasOverlay","sectionNum","isUp","svg","viewBoxVal","viewBox","baseVal","str","rules","createCSSClass","fromPart","toPart","percentRange","createElement","head","appendChild","cssRulesAppended","createTextNode","MsMenu","obj","hovers","find","hover","highlighted","removeClass","addClass","onEntered","onLeaved","months","MAX_INT","injector","create","providers","provide","deps","pairRate","actionMap","L","R","A","P","CA","W","MsList","resolver","activatedRoute","transformService","_snackBar","msDelete","progress","mode","isRefreshing","isLoading","direction","touched","isRefreshed","scrollTop","selectedItems","sortedItems","isOverlay","multiple","isEvent","group","rangeDist","currentFrom","isPull","isAdmin","evt","findIndex","openDialog","save","duration","reset","locale","dialogSub","listUrl","leave","resp","doStatus","overlay","overlayData","lastProgressState","events","inbox","itemsRef","parentElement","scrollTo","clear","updatePage","promoMsg","dialogRef","btn","afterClosed","overlayRef","onEnter","show","oldOverlayRef","removable","component","instance","focus","selectedItem","hasOwnProperty","update","scrollView","hostView","viewRef","panel","oldAlias","clientHeight","scrollHeight","remove","isOffset","createPage","offsetHeight","onRate","overrideUrl","isAdd","shareUrl","navigator","text","alert","maxWidth","maxHeight","filter","step","options","unsubscribe","n","snapshot","addEventListener","pop","passive","_startY","IntersectionObserver","entries","entry","isIntersecting","itemFactory","resolveComponentFactory","sync","month","year","offsetItem","encodeURIComponent","set","reverse","addToList","addToTable","groupView","dividerRef","createEmbeddedView","calView","calendarRef","insert","selectable","createItemFunction","groupViewRef","createGroupCmp","viewIdx","rootNodes","alreadySelected","hasRated","pairObj","baseUrl","AppComponent","zone","updates","facebookService","domSanitizer","itemKeys","queryParams","regex","test","links","itemLinks","subLinks","basePath","onLine","initParams","xfbml","version","geolocation","getCurrentPosition","coords","longitude","latitude","video","routerEvent","routeConfig","rootPath","urlParts","split","startIdx","redirectTo","loadChildren","routes","available","_","activateUpdate","reload","notificationClicks","click","apps","initializeApp","auth","onIdTokenChanged","user","getIdToken","timer","clearInterval","setInterval","currentUser","onAuthStateChanged","groups","root","profile","serviceWorker","ready","registration","messaging","onMessage","getToken","vapidKey","serviceWorkerRegistration","currentToken","deviceKey","outlet","activatedRouteData","animation","selectedIdx","ListService","_edit","_remove","_add","_move","_code","_share","_overlay","_status","_clone","_join","_dialog","_refresh","_recommend","_delete","AppModule","register","enabled","registrationStrategy","forRoot","MsDialog","val","close","onClick","GroupFilterComponent","fb","dataService","actionUrl","formGroup","controls","setValue","setting","addControl","valid","raw","getRawValue","back","h","l","q","z","segmentRegExp","numberRegExp","Error","reduce","segmentsArray","segmentString","command","charAt","toLowerCase","args","parseValues","numbers","getUrl","CustomRouteReuseStrategy","handlers","shouldReuse","reuse","handler","future","curr","_svgPathProperties","svgPath","inst","fractionLength","getTangentAtLength","getPropertiesAtLength","getParts","svgPathProperties","SVGPathProperties","string","partial_lengths","functions","initial_point","getPartAtLength","fraction","fractionPart","functionAtPart","tangentX","tangentY","parts","properties","parsed","cur","prev_point","curve","ringStart","pow","abs","getC","getD","linearCurve","arcCurve","Arc","x0","y0","rx","ry","xAxisRotate","LargeArcFlag","SweepFlag","x1","y1","pointOnEllipticalArc","point_dist","p1","p2","xDist","yDist","tangent","lengthProperties","approximateArcLengthOfCurve","arcLength","p0","xAxisRotation","largeArcFlag","sweepFlag","mod","xAxisRotationRadians","toRadians","ellipticalArcAngle","dx","dy","transformedPoint","cos","sin","radiiCheck","cSquareNumerator","cSquareRootDenom","cRadicand","cCoef","transformedCenter","center","startVector","startAngle","angleBetween","endVector","sweepAngle","PI","ellipseComponentX","ellipseComponentY","ellipticalArcStartAngle","ellipticalArcEndAngle","ellipticalArcCenter","resultantRx","resultantRy","resolution","pointOnCurveFunc","resultantArcLength","arcLengthMap","approximationLines","prevPoint","nextPoint","clamp","v0","v1","p","acos","Bezier","ax","ay","bx","by","cx","cy","xs","xy","getArcLength","getPoint","derivative","getDerivative","mdl","DEG","Calc","atan2","DefaultDistributor","totalLength","atLength","txt","percent","cubicPoint","ys","cubicDerivative","quadraticPoint","getCubicArcLength","sum","correctedT","BFunc","getQuadraticArcLength","B","C","u","k","uuk","bbk","term","quadraticDerivative","xbase","ybase","combined","vs","_vs","t2length","func","numIterations","increasedTLength","increasedTError","decreasedTLength","decreasedTError","EventBusService","_select","_rate","_rotate","_grow","_list","LinearPosition","newDeltaX","newDeltaY","module","tValues","cValues","binomialCoefficients","DatingModule","canLoad","BusinessModule","JobModule","AppRoutingModule","scrollPositionRestoration","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","uiShown","getElementById","display","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","EmailAuthProvider","tosUrl","privacyPolicyUrl","LoginComponent","server","initFirebase","ui","AuthUI","getInstance","MsEditor","src","changes","notify","matrix","magnifier","editorRef","degree","setStyle","itemRef","img","size","clientWidth","loaded","bootstrapModule","webpackEmptyAsyncContext","req","keys","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { Subject } from 'rxjs';\nimport { ListService } from 'src/app/services/list.service';\nimport { ILazy } from '../interface';\nimport { MsAction } from '../ms-action';\n\n/* changeDetection: ChangeDetectionStrategy.OnPush*/\n@Component({\n  selector: 'ms-panel',\n  templateUrl: './index.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MsPanel implements OnDestroy, OnInit, ILazy {\n  @ViewChild('panel') elementView: ElementRef;\n\n  msSelect = new Subject<any>();\n  msRate = new Subject<any>();\n  msEnlarge = new Subject<any>();\n\n  @Input() alias: string;\n  @Input() data: any;\n  @Input() visible: boolean;\n  @Input() removable: boolean;\n  @Input() selectable: boolean;\n  @Input() actionable: boolean;\n\n  @Output() msRemove = new EventEmitter<any>();\n\n  currentIdx = 0;\n\n  focused: any = false;\n  selected: any = false;\n  enlarged: any = false;\n  rated: any = false;\n\n  mapLink: any;\n\n  constructor(\n    private cd: ChangeDetectorRef,\n    public dialog: MatDialog,\n    private router: Router,\n    private menu: MatBottomSheet,\n    private listService: ListService\n  ) {}\n\n  ngOnInit() {\n    this.actionable = true;\n  }\n\n  slide(idx): void {\n    this.currentIdx = idx;\n  }\n\n  content(type): void {\n    if (this.data.children && this.data.url) {\n      if (this.data.url.indexOf('templates') !== -1) {\n        this.listService.dialog.emit({ itemUrl: this.data.url });\n      } else {\n        this.router.navigate([this.data.url]);\n      }\n    }\n  }\n\n  more(): void {\n    this.menu.open(MsAction, {\n      data: {\n        alias: this.alias,\n        actions: this.data.actions,\n        chat: this.data.chat,\n        positions: this.data.positions,\n      },\n    });\n  }\n\n  onEnter(alias: any, msg): void {\n    this.alias = alias;\n\n    // default load\n    if (msg) {\n      this.data = msg;\n      this.cd.markForCheck();\n    }\n  }\n\n  enlarge(isEnlarge): void {\n    if (this.data.rate !== undefined) {\n      this.rate(isEnlarge && this.rated);\n    }\n\n    this.msEnlarge.next({\n      pos: this.elementView.nativeElement.getBoundingClientRect(),\n      alias: this.alias,\n      enlarged: isEnlarge,\n      rated: this.rated,\n    });\n  }\n\n  rate(isAlways = false): void {\n    this.rated = true;\n    this.cd.markForCheck();\n    this.msRate.next({\n      rate: this.data.rate,\n      alias: this.alias,\n      always: isAlways,\n    });\n  }\n\n  remove(): void {\n    this.msRemove.emit(this.alias);\n  }\n\n  select(): void {\n    this.selected = true;\n    this.cd.markForCheck();\n    this.msSelect.next({ alias: this.alias });\n  }\n\n  focus(isFocused, isRated = false, isSelected = false): void {\n    this.focused = isFocused;\n    if (isFocused === false && !isRated && !isSelected) {\n      this.rated = false;\n      this.selected = false;\n    } else {\n      this.rated = isRated;\n      this.selected = isSelected;\n    }\n    this.cd.markForCheck();\n  }\n\n  update(rate): void {\n    if (this.data) {\n      this.data.rate = rate;\n      this.cd.markForCheck();\n    }\n  }\n\n  show(isShow, isEnlarged = false): void {\n    this.visible = isShow;\n    this.enlarged = isEnlarged;\n    this.cd.markForCheck();\n  }\n\n  onLeave() {}\n\n  ngOnDestroy() {}\n}\n","<div\n  class=\"panel\"\n  [id]=\"alias\"\n  [ngClass]=\"{'panel_highlighted' : focused}\"\n  #panel\n>\n  <ng-container *ngIf=\"data\" [ngSwitch]=\"data.type\">\n    <div\n      class=\"panel_content panel_default\"\n      [ngClass]=\"{'panel_large': enlarged, 'panel_removable': removable}\"\n    >\n      <ng-container *ngSwitchCase=\"'evt'\">\n        <mat-card\n          (click)=\"content()\"\n          matRipple\n          [style.background-color]=\"data.color\"\n        >\n          <mat-card-header *ngIf=\"data.header\">\n            <mat-card-title>{{data.header.main}}</mat-card-title>\n            <mat-card-subtitle *ngIf=\"data.header.sub\">\n              {{data.header.sub}}\n            </mat-card-subtitle>\n          </mat-card-header>\n          <mat-card-content>\n            <p>{{data.desc}}</p>\n          </mat-card-content>\n          <mat-card-footer *ngIf=\"data.footer\">{{data.footer}}</mat-card-footer>\n        </mat-card>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"'img'\">\n        <img matRipple\n          *ngIf=\"data.imgs && visible\"\n          [src]=\"data.imgs[currentIdx]\"\n          class=\"img_content\"\n          (click)=\"content()\"\n        />\n        <div *ngIf=\"data.imgs && data.imgs.size > 0 && visible\" class=\"slide_bar\">\n          <div\n            class=\"slide\"\n            *ngFor=\"let img of data.imgs; let idx = index\"\n            (click)=\"slide(idx)\"\n          >\n            <div\n              class=\"slide_anchor\"\n              [ngClass]=\"{'slide_active' : currentIdx === idx}\"\n            ></div>\n          </div>\n        </div>\n        <div *ngIf=\"data.header && visible\" class=\"panel_header_main\" [style.background]=\"data.color\">\n          <b>{{data.header.main}}&nbsp;</b>\n        </div>\n        <div *ngIf=\"data.header && visible\" class=\"panel_header_sub\">\n          <b>{{data.header.sub}}&nbsp;</b>\n          <div style=\"float: right; height: 2vmax;\" *ngIf=\"data.role\">\n            <mat-icon [style.color]=\"data.role.color\">{{data.role.icon}}</mat-icon\n            >\n          </div>\n        </div>\n      </ng-container>\n      <button\n        *ngIf=\"data.rate !== undefined\"\n        mat-icon-button\n        [color]=\"rated ? 'warn' : 'primary'\"\n        class=\"panel_icon_top\"\n        (click)=\"rate()\"\n      >\n        <mat-icon fontSet=\"material-icons-outlined\">rate_ext</mat-icon>\n        <div *ngIf=\"data.rate\" class=\"btn_label\">{{data.rate}}</div>\n      </button>\n      <button\n        mat-icon-button\n        *ngIf=\"data.actions !== undefined && data.actions.length > 0 && !enlarged\"\n        [color]=\"'primary'\"\n        class=\"panel_icon_top\"\n        (click)=\"more()\"\n      >\n        <mat-icon fontSet=\"material-icons-outlined\">more_horiz</mat-icon>\n      </button>\n      <button\n        mat-icon-button\n        *ngIf=\"!enlarged && selectable\"\n        [color]=\"selected ? 'warn' : 'primary'\"\n        class=\"panel_icon_middle\"\n        (click)=\"select()\"\n      >\n        <mat-icon fontSet=\"material-icons-outlined\"\n          >{{ selected ? 'radio_button_checked': 'radio_button_unchecked'\n          }}</mat-icon\n        >\n      </button>\n      <button\n        mat-icon-button\n        *ngIf=\"!enlarged && removable\"\n        [color]=\"removable ? 'warn' : 'primary'\"\n        class=\"panel_icon_middle_left\"\n        (click)=\"remove()\"\n      >\n        <mat-icon fontSet=\"material-icons-outlined\">highlight_off</mat-icon>\n      </button>\n      <button\n        mat-icon-button\n        class=\"panel_icon_tf\"\n        (click)=\"enlarge(!enlarged)\"\n      >\n        <mat-icon fontSet=\"material-icons-outlined\" *ngIf=\"!enlarged\"\n          >unfold_more</mat-icon\n        >\n        <mat-icon fontSet=\"material-icons-outlined\" *ngIf=\"enlarged\"\n          >unfold_less</mat-icon\n        >\n      </button>\n    </div>\n  </ng-container>\n</div>\n","export function monthlyTable(jsDate: Date, data?: Array<string>) {\n    let from = new Date(jsDate.getFullYear(), jsDate.getMonth(), 1);\n    let to = new Date(jsDate.getFullYear(), jsDate.getMonth() + 1, 0);\n\n    let fromDayIdx = from.getDay() || 7;\n    let toDayIdx = to.getDay() || 7;\n\n    let weekNum = Math.ceil((fromDayIdx - 1 + to.getDate()) / 7);\n\n    let rows = new Array<Array<any>>();\n\n    let dayNum = 1;\n    for (let i = 0; i < weekNum; i++) {\n        rows[i] = new Array<any>();\n        if (i === 0) {\n            for (let j = fromDayIdx - 1; j < 7; j++) {\n                let day = new Date(from.getFullYear(), from.getMonth(), dayNum);\n                rows[i][j] = { title: dayNum, date: day.getTime() };\n                if (data) {\n                    rows[i][j].value = data[day.getTime()];\n                }\n                dayNum++;\n            }\n        } else if (i === weekNum - 1) {\n            for (let j = 0; j < toDayIdx; j++) {\n                let day = new Date(from.getFullYear(), from.getMonth(), dayNum);\n                rows[i][j] = { title: dayNum, date: day.getTime() };\n                if (data) {\n                    rows[i][j].value = data[day.getTime()];\n                }\n                dayNum++;\n            }\n\n            for (let j = toDayIdx; j < 7; j++) {\n                rows[i][j] = undefined;\n            }\n        } else {\n            for (let j = 0; j < 7; j++) {\n                let day = new Date(from.getFullYear(), from.getMonth(), dayNum);\n                rows[i][j] = { title: dayNum, date: day.getTime() };\n                if (data) {\n                    rows[i][j].value = data[day.getTime()];\n                }\n                dayNum++;\n            }\n        }\n    }\n\n    return rows;\n}","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NavigationService {\n  private _reset = new Subject<void>();\n  private _online = new BehaviorSubject<any>({ online: true });\n  private _server = new Subject<any>();\n  private _token: string;\n  private _profileId: string; // = 'b33ec186-aea8-4636-b635-4a2f620a0c54';\n  private _pos: any;\n  private _prevUrl: any;\n  private _selected: any;\n  private _groupName: any;\n  private _groupType: any;\n\n  private _notif: any;\n\n  private _locale: any;\n\n  private _xlink: any;\n\n  private _msg = new Array();\n\n  constructor() {}\n\n  get xlink(): any {\n    return this._xlink;\n  }\n\n  set xlink(xlink: any) {\n    this._xlink = xlink;\n  }\n\n  get reset(): Subject<void> {\n    return this._reset;\n  }\n\n  get online(): Subject<any> {\n    return this._online;\n  }\n\n  get server(): Subject<any> {\n    return this._server;\n  }\n\n  get token(): string {\n    return this._token;\n  }\n\n  set token(token) {\n    this._token = token;\n  }\n\n  get prevUrl(): string {\n    return this._prevUrl;\n  }\n\n  set prevUrl(prevUrl) {\n    this._prevUrl = prevUrl;\n  }\n\n  get selected(): string {\n    return this._selected;\n  }\n\n  set selected(selected) {\n    this._selected = selected;\n  }\n\n  get pos(): any {\n    return this._pos;\n  }\n\n  set pos(pos) {\n    this._pos = pos;\n  }\n\n  get groupName(): any {\n    return this._groupName;\n  }\n\n  set groupName(groupName) {\n    this._groupName = groupName;\n  }\n\n  get groupType(): any {\n    return this._groupType;\n  }\n\n  set groupType(groupType) {\n    this._groupType = groupType;\n  }\n\n\n  get notif(): any {\n    return this._notif;\n  }\n\n  set notif(notif) {\n    this._notif = notif;\n  }\n\n  get profileId(): string {\n    return this._profileId;\n  }\n\n  set profileId(profileId) {\n    this._profileId = profileId;\n  }\n\n  addMsg(route: string, msg: string) {\n    if (this._msg[route] === undefined) {\n      this._msg[route] = new Array();\n    }\n\n    (this._msg[route] as Array<string>).push(msg);\n  }\n\n  getMsg(route: string): Array<string> {\n    return this._msg[route];\n  }\n\n  get locale(): any {\n    return this._locale;\n  }\n\n  set locale(msg: any) {\n    this._locale = msg;\n  }\n}\n","import { Nearby } from \"./iface\";\nimport { Calc, DEG } from \"./utils\";\n\n//https://github.com/rveciana/svg-path-properties/\n\nexport class Interpolate implements Nearby {\n    private path;\n\n    constructor(path) {\n        this.path = path;\n    }\n\n    public nearby(idx, point, bound) : any {\n        let pathLength = this.path.getTotalLength();\n        var precision = 8,\n            best,\n            bestLength,\n            bestDistance = Infinity;\n\n        // linear scan for coarse approximation\n        for (var scan, scanLength = 0, scanDistance; scanLength <= pathLength; scanLength += precision) {\n            if ((scanDistance = Calc.distance2(scan = this.path.getPointAtLength(scanLength), point)) < bestDistance) {\n                best = scan, bestLength = scanLength, bestDistance = scanDistance;\n            }\n        }\n\n        // binary search for precise estimate\n        precision /= 2;\n        while (precision > 0.5) {\n            var before,\n                after,\n                beforeLength,\n                afterLength,\n                beforeDistance,\n                afterDistance;\n            if ((beforeLength = bestLength - precision) >= 0 && (beforeDistance = Calc.distance2(before = this.path.getPointAtLength(beforeLength), point)) < bestDistance) {\n                best = before, bestLength = beforeLength, bestDistance = beforeDistance;\n            } else if ((afterLength = bestLength + precision) <= pathLength && (afterDistance = Calc.distance2(after = this.path.getPointAtLength(afterLength), point)) < bestDistance) {\n                best = after, bestLength = afterLength, bestDistance = afterDistance;\n            } else {\n                precision /= 2;\n            }\n        }\n\n        var len2 = bestLength + (bestLength === pathLength ? -0.1 : 0.1);\n        var rotation = Calc.getRotation(best, this.path.getPointAtLength(len2));\n\n        return {\n            point: best,\n            rotation: rotation * DEG,\n            // distance: Math.sqrt(bestDistance),\n        };\n    }\n}","import {\n  animate,\n  animateChild,\n  group,\n  query,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\n\nexport const slideInAnimation = trigger('routeAnimations', [\n  transition('One1 => One, Two1 => Two, Three1 => Three, Three2 => Three1, * => Four', [\n    style({ position: 'relative' }),\n    query(\n      ':enter .mat-fab-container',\n      style({\n        opacity: 0,\n        position: 'fixed'\n      })\n    ),\n    query(\n      ':leave .mat-fab-container',\n      style({\n        opacity: 1,\n        position: 'fixed'\n      })\n    ),\n    query(':enter, :leave', [\n      style({\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n      }),\n    ]),\n    query(':enter', [style({ left: '-100%' })]),\n    query(':leave', animateChild()),\n    group([\n      query(':leave', [animate('300ms ease-out', style({ left: '100%' }))]),\n      query(':enter', [animate('300ms ease-out', style({ left: '0%' }))]),\n      query(':enter .mat-fab-container', animate(300, style({ opacity: 1 }))),\n      query(':leave .mat-fab-container', animate(300, style({ opacity: 0 }))),\n    ]),\n    query(':enter', animateChild()),\n  ]),\n  transition('One => One1, Two => Two1, Three => Three1, Three1 => Three2, Four => *', [\n    style({ position: 'relative' }),\n    query(\n      ':enter .mat-fab-container',\n      style({\n        opacity: 0,\n        position: 'fixed'\n      })\n    ),\n    query(\n      ':leave .mat-fab-container',\n      style({\n        opacity: 1,\n        position: 'fixed'\n      })\n    ),\n    query(':enter, :leave', [\n      style({\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n      }),\n    ]),\n    query(':enter', [style({ left: '100%' })]),\n    query(':leave', animateChild()),\n    group([\n      query(':leave', [animate('200ms ease-out', style({ left: '-100%' }))]),\n      query(':enter', [animate('300ms ease-out', style({ left: '0%' }))]),\n      query(':enter .mat-fab-container', animate(300, style({ opacity: 1 }))),\n      query(':leave .mat-fab-container', animate(300, style({ opacity: 0 }))),\n    ]),\n    query(':enter', animateChild()),\n  ]),\n]);\n","import { Renderer2 } from '@angular/core';\n\nexport class Transform {\n  private _mtx: { scale; angle; pos: { x; y } };\n\n  constructor(mtx = { scale: 1, angle: 0, pos: { x: 0, y: 0 } }) {\n    this._mtx = mtx;\n  }\n\n  public scale(uiScale) {\n    this._mtx.scale += uiScale;\n    return this._mtx;\n  }\n\n  public move(uiDiff) {\n    this._mtx.pos.x += uiDiff.x;\n    this._mtx.pos.y += uiDiff.y;\n    return this._mtx;\n  }\n\n  public rotate(deg) {\n    this._mtx.angle += deg;\n    return this._mtx;\n  }\n\n  get mtx() {\n    return this._mtx;\n  }\n}\n\n//tab/canvas zoom\nexport class Magnifier {\n  private dragStart: { x; y };\n  private dist;\n\n  private touches: Array<any>;\n\n  constructor(private element, private _renderer: Renderer2, private _transform: Transform) {\n    this.touches = new Array();\n  }\n\n  listen(_callback) {\n    this._renderer.listen(this.element, 'mousewheel', (event) => {\n      event.preventDefault();\n\n      let uiScale = Math.sign(event.wheelDelta) * 0.1;\n      let uiOrigin = {\n        x: event.pageX - this.element.offsetLeft,\n        y: event.pageY - this.element.offsetTop,\n      };\n\n      let tr = this._transform.scale(uiScale);\n      _callback(tr);\n    });\n\n    this._renderer.listen(this.element, 'touchstart', (event) => {\n      this.updateTouch(event);\n\n      if (this.touches[0] && this.touches[1]) {\n      } else if (this.touches[0] || this.touches[1]) {\n        let touch = event.targetTouches[0];\n        if (this.dragStart === undefined) {\n          this.dragStart = {\n            x: touch.pageX - this.element.offsetLeft,\n            y: touch.pageY - this.element.offsetTop,\n          };\n        }\n      }\n    });\n\n    this._renderer.listen(this.element, 'touchmove', (event) => {\n      this.updateTouch(event);\n\n      if (this.touches[0] && this.touches[1]) {\n        let touch1 = this.touches[0];\n        let touch2 = this.touches[1];\n\n        let start;\n        let end;\n        if (touch1.pageX >= touch2.pageX) {\n          start = touch1;\n          end = touch2;\n        } else {\n          start = touch2;\n          end = touch1;\n        }\n\n        let diff = { x: end.pageX - start.pageX, y: end.pageY - start.pageY };\n        let dist = Math.sqrt(diff.x * diff.x + diff.y * diff.y);\n\n        if (this.dist === undefined) {\n          this.dist = dist;\n        }\n\n        let uiScale = dist / this.dist - 1;\n        this.dist = dist;\n\n        let tr = this._transform.scale(uiScale);\n        _callback(tr);\n      } else if (this.touches[0] || this.touches[1]) {\n        let touch = this.touches[0] || this.touches[1];\n\n        if (this.dragStart !== undefined) {\n          let dragEnd = {\n            x: touch.pageX - this.element.offsetLeft,\n            y: touch.pageY - this.element.offsetTop,\n          };\n          let uiDiff = {\n            x: dragEnd.x - this.dragStart.x,\n            y: dragEnd.y - this.dragStart.y,\n          };\n          this.dragStart = dragEnd;\n          let tr = this._transform.move(uiDiff);\n          _callback(tr);\n        }\n      }\n    });\n\n    this._renderer.listen(this.element, 'touchend', (event) => {\n      for (let touch of event.changedTouches) {\n        delete this.touches[touch.identifier];\n      }\n\n      if (this.touches[0] || this.touches[1]) {\n        let touch = this.touches[0] || this.touches[1];\n        this.dragStart = {\n          x: touch.pageX - this.element.offsetLeft,\n          y: touch.pageY - this.element.offsetTop,\n        };\n      } else {\n        this.dragStart = undefined;\n      }\n\n      this.dist = undefined;\n    });\n  }\n\n  public rotate(deg) {\n    return this._transform.rotate(deg);\n  }\n\n  private updateTouch(event) {\n    if (event.targetTouches.length === 1) {\n      this.touches[event.targetTouches[0].identifier] = event.targetTouches[0];\n    }\n\n    if (event.targetTouches.length === 2) {\n      this.touches[event.targetTouches[1].identifier] = event.targetTouches[1];\n    }\n  }\n\n  get transform(): Transform {\n    return this._transform;\n  }\n}\n","import { DatePipe } from '@angular/common';\nimport { Injectable } from '@angular/core';\n\nconst physiques = { s: 'Slim', a: 'Average', sp: 'Sum plus', m: 'Muscular' };\n@Injectable({\n  providedIn: 'any',\n})\nexport class TransformService {\n  constructor(private datePipe: DatePipe) {}\n\n  transform(value, url?, inList = false, refresh = false, table = false): any {\n    // for mixed type of list, we need to identify profile\n    /*if (value['_links']) {\n      const url = value['_links'].self.href;\n      value['key'] = url.substr(url.lastIndexOf('/') + 1);\n    }\n\n    const id = value['key'] !== undefined ? value['key'] : value['id'];\n\n    if (id === undefined) {\n      return;\n    }*/\n\n    let data;\n\n    if (value !== undefined) {\n      if (value['profile'] !== undefined) {\n        this.alignItemZone(value['profile']);\n\n        value['profile'].role = value['role'];\n        data = this.transformProfile(\n          value['profile'].key,\n          value['profile'],\n          url,\n          inList,\n          refresh,\n          value\n        );\n      } else if (value['car'] !== undefined) {\n        this.alignItemZone(value['car']);\n\n        data = this.transformCar(value['car'].key, value['car'], url, inList);\n      } else if (value['school'] !== undefined) {\n        this.alignItemZone(value['school']);\n\n        data = this.transformSchool(\n          value['school'].key,\n          value['school'],\n          url,\n          inList\n        );\n      } else if (value['event'] !== undefined) {\n        this.alignItemZone(value['event'].info);\n\n        data = this.transformEvent(\n          value['event'].key,\n          value['event'],\n          url,\n          inList,\n          table,\n          value\n        );\n      } else if (value['item'] !== undefined) {\n        this.alignItemZone(value['item']);\n\n        data = this.transformEventItem(\n          value['item'].key,\n          value['item'],\n          url,\n          inList,\n          value\n        );\n      } else if (value['feedback'] !== undefined) {\n        this.alignItemZone(value['feedback']);\n\n        data = this.transformFeedback(\n          value['feedback'].key,\n          value['feedback'],\n          url,\n          inList\n        );\n      } else if (value['member'] !== undefined) {\n        this.alignItemZone(value['member']);\n\n        data = this.transformMember(\n          value['member'].key,\n          value['member'],\n          url,\n          inList\n        );\n      } else if (value['job'] !== undefined) {\n        this.alignItemZone(value['job']);\n\n        data = this.transformJob(value['job'].key, value['job'], url, inList);\n      } else if (value['idea'] !== undefined) {\n        this.alignItemZone(value['idea']);\n\n        data = this.transformIdea(\n          value['idea'].key,\n          value['idea'],\n          url,\n          inList\n        );\n      } else if (value['group'] !== undefined) {\n        this.alignItemZone(value['group']);\n\n        data = this.transformGroup(\n          value['group'].key,\n          value['group'],\n          url,\n          inList\n        );\n      } else if (value['promotion'] !== undefined) {\n        this.alignItemZone(value['promotion']);\n\n        data = this.transformPromotion(\n          value['promotion'].key,\n          value['promotion'],\n          url,\n          inList\n        );\n      }\n\n      this.alignZone(value);\n\n      data.sortKey = value.sortKey;\n      data.groupKey = value.groupKey;\n      data.rate = value.rate;\n      data.role = value.role;\n\n      return data;\n    }\n  }\n\n  alignZone(value) {\n    if (value !== undefined) {\n      value['sortKey'] = this.shiftWithTimeZone(value['sortKey']);\n\n      if (\n        value['groupKey'] !== undefined &&\n        !Number.isInteger(value['groupKey'])\n      ) {\n        const oldLength = value['groupKey'].length;\n        value['groupKey'] = this.shiftWithTimeZone(value['groupKey']).substring(\n          0,\n          oldLength\n        );\n      }\n    }\n  }\n\n  alignItemZone(value) {\n    if (value !== undefined) {\n      value['createdDate'] = this.shiftWithTimeZone(value['createdDate']);\n\n      if (value['range'] !== undefined) {\n        value['range'].start = this.shiftWithTimeZone(value['range'].start);\n        value['range'].end = this.shiftWithTimeZone(value['range'].end);\n      }\n\n      if (value['slots'] !== undefined) {\n        (value['slots'] as Array<Object>).map((slot) => {\n          if (slot['range'] !== undefined) {\n            slot['range'].start = this.shiftWithTimeZone(slot['range'].start);\n            slot['range'].end = this.shiftWithTimeZone(slot['range'].end);\n          }\n          return slot;\n        });\n      }\n    }\n  }\n\n  shiftWithTimeZone(date): string {\n    if (date === undefined) {\n      return date;\n    }\n\n    const start = new Date(date);\n    if (isNaN(start.getTime())) {\n      return date;\n    } else {\n      const offset = start.getTimezoneOffset() * 60000;\n      return new Date(start.getTime() - offset).toISOString();\n    }\n  }\n\n  transformGroup(id, value, url, inList): any {\n    let actions = ['E', 'S']; // edit\n\n    if (url.indexOf('recommendations') !== -1) {\n      actions = ['J'];\n    }\n\n    let itemUrl = url.substring(1);\n    itemUrl = itemUrl.substring(itemUrl.indexOf('/'));\n\n    const data = {\n      id,\n      type: 'evt',\n      state: 'E',\n      header: { main: value['name'] },\n      desc: value['desc'],\n      actions,\n      imgs: (value['images'] !== undefined\n        ? (value['images'] as Array<string>)\n        : []\n      ).map(\n        (image) =>\n          location.origin +\n          '/backend' +\n          itemUrl +\n          (inList ? '/' + id : '') +\n          '/images/' +\n          image['name']\n      ),\n      children: url.indexOf('recommendations') === -1,\n      value,\n      url: url + '/' + id,\n    };\n    return data;\n  }\n\n  transformIdea(id, value, url, inList): any {\n    const actions = ['E']; // edit\n\n    const data = {\n      id,\n      type: 'evt',\n      state: 'E',\n      header: { main: value['name'] },\n      desc: value['desc'],\n      actions,\n      value,\n      url: url + '/' + id,\n    };\n    return data;\n  }\n\n  transformJob(id, value, url, inList): any {\n    const actions = ['E']; // edit\n\n    const data = {\n      id,\n      type: 'evt',\n      state: 'E',\n      header: { main: value['name'] },\n      desc: value['desc'],\n      actions,\n      value,\n      url: url + '/' + id,\n    };\n    return data;\n  }\n\n  transformFeedback(id, value, url, inList): any {\n    const actions = ['E']; // edit\n\n    const data = {\n      id,\n      type: 'evt',\n      state: 'E',\n      color:\n        value['rate'] < 3\n          ? 'red'\n          : value['rate'] > 7\n          ? 'yellowgreen'\n          : 'bisque',\n      desc: value['desc'],\n      value,\n      url: url + '/' + id,\n      actions,\n    };\n    return data;\n  }\n\n  transformEventItem(id, value, url, inList, param?): any {\n    let state = 'E';\n    let actions = []; // edit\n\n    const main = param && param['main'] === true;\n\n    let isPromotion = param && param['isPromotion'] === true;\n    let isMember = param && param['isMember'] === true;\n    let role = param && param['role'];\n\n    if (main) {\n      actions = ['E']; // edit\n    } else {\n      actions = ['E', 'D']; // edit\n    }\n\n    let children = false;\n\n    if (url) {\n      if (url.indexOf('invitations') !== -1) {\n        state = 'I';\n        actions = [];\n      } else if (url.indexOf('recommendations') !== -1) {\n        actions = [];\n      } else if (url.indexOf('promotions') !== -1) {\n        if (url.indexOf('activity') !== -1) {\n          actions = [];\n        }\n      } else if (url.indexOf('activity') !== -1) {\n        if (url.indexOf('events') !== -1) {\n          if (value['optional'] === true) {\n            if (\n              (isPromotion && role === 'P') ||\n              (!isPromotion && role === 'M')\n            ) {\n              actions = ['E', 'D']; // edit\n            }\n\n            if (isMember && (role === 'U' || role === 'M')) {\n              actions.push('L');\n            } else {\n              actions.push('J');\n            }\n            children = true;\n          }\n        }\n      }\n    }\n\n    let color = 'cornsilk';\n    if (value['type'] === 'g') {\n      color = 'yellowgreen';\n    } else if (value['type'] === 'c') {\n      color = 'aliceblue';\n    }\n\n    if (value['optional'] === true) {\n      color = 'pink';\n\n      if (value['num'] === value['capacity'].max) {\n        color = 'gray';\n      } else if (value['num'] < value['capacity'].min) {\n        color = 'red';\n      }\n    }\n\n    if (main) {\n      color = 'coral';\n    }\n\n    const category = param && param['category'];\n\n    const positions =\n      value['positions'] && value['positions']\n        ? value['positions']\n        : param && param['positions']\n        ? param['positions']\n        : value['position']\n        ? [value['position']]\n        : undefined;\n\n    if (positions !== undefined) {\n      actions.push('M');\n    }\n\n    const data = {\n      id,\n      type: 'evt',\n      state,\n      header: { main: value.name },\n      actions,\n      value,\n      desc: value.desc,\n      url: url + '/' + id,\n      color,\n      children,\n      extra: {\n        main,\n        category,\n      },\n      positions,\n      num: value.num,\n    };\n\n    return data;\n  }\n\n  transformEvent(id, value, url, inList, table, param?): any {\n    const info = value['info'];\n\n    let isPromotion = param && param['isPromotion'] === true;\n    let role = param && param['role'];\n\n    let state = 'E';\n    let actions = []; // leave, edit, qr code\n    if (url) {\n      if (url.indexOf('invitations') !== -1) {\n        state = 'I';\n        if (info['num'] === info['capacity'].max) {\n          actions = ['W', 'R']; // waiting, reject\n        } else {\n          actions = ['A', 'R']; // accept, reject\n        }\n      } else if (url.indexOf('recommendations') !== -1) {\n        if (url.indexOf('events') !== -1) {\n          if (\n            param &&\n            param['groupType'] === 'd' &&\n            param['promoType'] === 'e'\n          ) {\n            actions = ['C'];\n            // nasty hack\n            param['rate'] = undefined;\n          }\n        } else {\n          actions = [];\n        }\n      } else if (url.indexOf('promotions') !== -1) {\n        if (url.indexOf('activity') !== -1) {\n          if (url.indexOf('business') !== -1) {\n            if (info['num'] === info['capacity'].max) {\n              actions = ['W', 'R']; // waiting, reject\n            } else {\n              actions = ['A', 'R']; // accept, reject\n            }\n          } else {\n            actions = [];\n          }\n        } else {\n          actions = ['E']; // edit\n        }\n      } else if (url.indexOf('activity') !== -1) {\n        if (url.indexOf('business') === -1) {\n          if ((isPromotion && role === 'P') || (!isPromotion && role === 'M')) {\n            actions = ['E']; // edit\n          }\n          actions.push('L', 'Q', 'CH', 'U');\n        } else {\n          actions = ['CA', 'Q', 'CH'];\n        }\n      } else if (url.indexOf('groups') !== -1) {\n        actions = ['P', 'R'];\n      }\n    }\n\n    let color = 'aliceblue';\n    if (value['status'] === 'P') {\n      color = 'orange';\n    } else if (value['status'] === 'C') {\n      color = 'darkgrey';\n    } else if (value['status'] === 'A') {\n      if (isPromotion) {\n        color = 'pink';\n      }\n    }\n\n    if (info['num'] === info['capacity'].max) {\n      color = 'gray';\n    } else if (info['num'] < info['capacity'].min) {\n      color = 'red';\n    }\n\n    const positions =\n      value['positions'] && value['positions']\n        ? value['positions']\n        : param && param['positions']\n        ? param['positions']\n        : value['position']\n        ? [value['position']]\n        : undefined;\n\n    if (positions !== undefined) {\n      actions.push('M');\n    }\n\n    let data;\n\n    if (table !== true) {\n      data = {\n        id,\n        type: 'evt',\n        createdBy: value.createdBy,\n        state,\n        header: { main: info ? info.name : '' },\n        actions,\n        value: info,\n        desc: info ? info.desc : '',\n        url: url ? url + '/' + id : undefined,\n        children: true,\n        color,\n        chat: info ? info.chatKey : undefined,\n        name: info ? info.name : undefined,\n        isPromotion,\n        positions,\n        num: info ? info.num : 0,\n      };\n    } else {\n      data = {\n        id,\n        title: info.name,\n        range: info.range,\n        color,\n        name: info ? info.name : undefined,\n        isPromotion,\n        num: info ? info.num : 0,\n      };\n    }\n\n    return data;\n  }\n\n  transformPromotion(id, value, url, inList): any {\n    const state = 'E';\n    let actions = ['E']; // edit\n\n    if (url.indexOf('recommendations') !== -1) {\n      actions = [];\n    }\n\n    const data = {\n      id,\n      type: 'evt',\n      state,\n      header: { main: value.name },\n      actions,\n      value,\n      desc: value.desc,\n      url: url + '/' + id,\n      footer:\n        this.datePipe.transform(value['range'].start, 'dd/MMM/y') +\n        ' - ' +\n        this.datePipe.transform(value['range'].end, 'dd/MMM/y'),\n      children: true,\n      color: 'lightpink',\n    };\n    return data;\n  }\n\n  transformSchool(id, value, url, inList): any {\n    const actions = ['E', 'D']; // edit\n\n    const data = {\n      id,\n      type: 'evt',\n      state: 'E',\n      header: { main: value['name'] },\n      color: value['type'] === 'w' ? 'aliceblue' : 'beige',\n      desc: value['role'],\n      actions,\n      value,\n      url: url + '/' + id,\n      footer:\n        this.datePipe.transform(value['range'].start, 'MMM/y') +\n        ' - ' +\n        this.datePipe.transform(value['range'].end, 'MMM/y'),\n    };\n    return data;\n  }\n\n  transformCar(id, value, url, inList): any {\n    const actions = ['E', 'D']; // edit\n\n    let itemUrl = url.substring(1);\n    itemUrl = itemUrl.substring(itemUrl.indexOf('/'));\n\n    const data = {\n      id,\n      type: 'img',\n      state: 'E',\n      header: {\n        main:\n          value['make'] +\n          ' ' +\n          value['model'] +\n          ' (' +\n          value['capacity'] +\n          ') ',\n        sub: value['regNum'],\n      },\n      imgs: (value['images'] !== undefined\n        ? (value['images'] as Array<string>)\n        : []\n      ).map(\n        (image) =>\n          location.origin +\n          '/backend' +\n          itemUrl +\n          (inList ? '/' + id : '') +\n          '/images/' +\n          image['name']\n      ),\n      value,\n      url: url + '/' + id,\n      actions,\n    };\n    return data;\n  }\n\n  transformMember(id, member, url, inList): any {\n    const value = member['profile'];\n\n    let itemUrl = url.substring(1);\n    itemUrl = itemUrl.substring(itemUrl.indexOf('/'));\n\n    const age = Math.floor(\n      (new Date().getTime() - new Date(value['birthday']).getTime()) /\n        (1000 * 3600 * 24 * 365)\n    );\n\n    let color;\n    switch (member['status']) {\n      case 'F':\n        color = 'orange';\n        break;\n      case 'I':\n        color = 'gray';\n        break;\n      case 'P':\n        color = 'black';\n        break;\n      case 'S':\n        color = 'red';\n        break;\n      default:\n        color = 'green';\n    }\n\n    // header main\n    let main;\n    if (value['firstName'] !== undefined) {\n      main = value['firstName'] + ' (' + age + ' / ' + value['height'] + 'cm)';\n    }\n\n    // header sub\n    let sub = '';\n\n    if (value['physique'] !== undefined) {\n      if (value['physique'] !== 'a') {\n        sub += physiques[value['physique']];\n      }\n    }\n\n    if (value['smoker'] === true) {\n      sub += ' \\uD83D\\uDEAD';\n    }\n\n    if (value['hasChild'] === true) {\n      sub += ' \\uD83D\\uDC76';\n    }\n\n    const data = {\n      id,\n      type: 'img',\n      state: 'E',\n      header: {\n        main,\n        sub,\n      },\n      imgs: (value['images'] !== undefined\n        ? (value['images'] as Array<string>)\n        : []\n      ).map(\n        (image) =>\n          location.origin +\n          '/backend' +\n          itemUrl +\n          (inList ? '/' + id : '') +\n          '/images/' +\n          image['name']\n      ),\n      value,\n      url: url + '/' + id,\n      rate: 0,\n      color,\n    };\n    return data;\n  }\n\n  transformProfile(id, value, url, inList, refresh, param?): any {\n    const age =\n      value['birthday'] !== undefined\n        ? Math.floor(\n            (new Date().getTime() - new Date(value['birthday']).getTime()) /\n              (1000 * 3600 * 24 * 365)\n          )\n        : undefined;\n\n    let actions;\n    if (url.indexOf('groups') !== -1) {\n      actions = ['E']; // edit\n    }\n\n    let itemUrl = url.substring(1);\n    itemUrl = itemUrl.substring(itemUrl.indexOf('/'));\n\n    let icon = 'person';\n    if (value['role'] === 'ROLE_ADMIN') {\n      icon = 'engineering';\n    }\n\n    let color;\n    switch (value['status']) {\n      case 'F':\n        color = 'orange';\n        break;\n      case 'I':\n        color = 'gray';\n        break;\n      case 'P':\n        color = 'black';\n        break;\n      case 'S':\n        color = 'red';\n        break;\n      default:\n        color = 'green';\n    }\n\n    // header main\n    let main;\n    if (value['firstName'] !== undefined) {\n      main =\n        value['firstName'] +\n        (age !== undefined ? ' (' + age + ' / ' + value['height'] + 'cm)' : '');\n    }\n\n    // header sub\n    let sub = '';\n\n    if (value['physique'] !== undefined) {\n      if (value['physique'] !== 'a') {\n        sub += physiques[value['physique']];\n      }\n    }\n\n    if (value['marital'] !== undefined) {\n      if (value['marital'] === 't') {\n        sub += ' \\uD83D\\uDC91';\n      }\n    }\n\n    if (value['smoker'] === true) {\n      sub += ' \\uD83D\\uDEAD';\n    }\n\n    if (value['hasChild'] === true) {\n      sub += ' \\uD83D\\uDC76';\n    }\n\n    const imgs = (\n      value['images'] !== undefined ? (value['images'] as Array<string>) : []\n    ).map(\n      (image) =>\n        location.origin +\n        '/backend' +\n        itemUrl +\n        (inList ? '/' + value['key'] : '') +\n        '/images/' +\n        image['name'] +\n        (refresh ? '?' + Date.now() : '')\n    );\n\n    if (imgs.length === 0) {\n      imgs.push('../assets/img/man.svg');\n    }\n\n    let children = false;\n    if (url && (url.indexOf('job') !== -1 || url.indexOf('business') !== -1)) {\n      if (url.indexOf('activity') !== -1 && url.indexOf('events') !== -1) {\n        children = true;\n      }\n\n      if (url.indexOf('games') !== -1) {\n        children = true;\n      }\n\n      if (\n        url.indexOf('recommendations') === -1 &&\n        url.indexOf('promotions') !== -1\n      ) {\n        children = true;\n      }\n    }\n\n    const data = {\n      id,\n      name: value['firstName'],\n      type: 'img',\n      state: 'E',\n      ref: param ? param['ref'] : undefined,\n      role: { icon, color },\n      header: {\n        main,\n        sub,\n      },\n      imgs,\n      actions,\n      value,\n      url: url ? url + '/' + id : undefined,\n      children,\n    };\n    return data;\n  }\n\n  uuidv4(): string {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n      const r = (Math.random() * 16) | 0;\n      const v = c === 'x' ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n}\n","import { Component, ElementRef, OnInit, Renderer2, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n//http://www.petercollingridge.co.uk/tutorials/svg/interactive/javascript/\n\n@Component({\n    selector: 'svg-load',\n    templateUrl: './index.html'\n})\nexport class SvgLoad implements OnInit {\n\n    //<object id=\"svg-object\" data=\"path/to/external.svg\" type=\"image/svg+xml\"></object>\n    //preload when the page was loading, make opacity and and show, when javascript changed the attributes\n\n    svg_url;\n    id = \"path_123\";\n    rs_url;\n\n    @ViewChild(\"container\") container: ElementRef;\n    @ViewChild(\"svgObj\") svgObjRef: ElementRef;\n\n    constructor(private _renderer: Renderer2, private sanitizer: DomSanitizer, private cd: ChangeDetectorRef) {\n\n    }\n\n    sanitize(url) {\n        return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n    }\n\n    ngOnInit() {\n        this.svg_url = \"assets/img/heart.svg\";\n        this.rs_url = this.sanitize(this.svg_url);\n\n        /*let xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", this.svg_url);\n        xhr.overrideMimeType(\"image/svg+xml\");\n        xhr.send(\"\");\n\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    let doc = xhr.responseXML.documentElement;\n                    this.appendStroke(doc);\n                    this._renderer.appendChild(this.container.nativeElement, doc);\n                }\n            }\n        }*/\n    }\n\n    onload(event) {\n        let target = event === undefined ? {} : event.srcElement || event.target;\n        this.appendStroke(target.contentDocument.documentElement);\n    }\n\n    appendStroke(doc: HTMLElement) {\n        let strokeWidth = 16;\n        let linkNS = \"http://www.w3.org/1999/xlink\";\n        let svgNS = \"http://www.w3.org/2000/svg\";\n\n        let width = parseInt(doc.getAttribute(\"width\"));\n        let height = parseInt(doc.getAttribute(\"height\"));\n        doc.setAttribute(\"xmlns:xlink\", linkNS);\n        doc.setAttribute(\"width\", \"100%\");\n        doc.setAttribute(\"height\", \"100%\");\n        doc.setAttribute(\"viewBox\", \"0 0 \" + (width + strokeWidth) + \" \" + height);\n        doc.setAttribute(\"preserveAspectRatio\", \"none\");\n\n        let path = doc.getElementsByTagName(\"path\")[0];\n        \n        if(path === undefined) return;\n\n        path.setAttribute(\"fill\", \"none\");\n        path.setAttribute(\"id\", this.id);\n\n        let g = doc.getElementsByTagName(\"g\")[0];\n        g.setAttribute(\"transform\", \"translate(\" + strokeWidth + \" 0)\");\n\n        let usePath = document.createElementNS(svgNS, 'use');\n\n        //href has different namespace in use\n        usePath.setAttributeNS(linkNS, \"xlink:href\", \"#\" + this.id);\n        usePath.setAttribute(\"stroke-width\", \"1\");\n        usePath.setAttribute(\"stroke\", \"black\");\n        g.append(usePath);\n\n        usePath = document.createElementNS(svgNS, 'use');\n        usePath.setAttributeNS(linkNS, \"xlink:href\", \"#\" + this.id);\n        usePath.setAttribute(\"stroke-width\", strokeWidth.toString());\n        usePath.setAttribute(\"stroke\", \"#387ef5\");\n        usePath.setAttribute(\"stroke-dashoffset\", \"100\");\n        usePath.setAttribute(\"stroke-dasharray\", \"1790\");\n        g.append(usePath);\n    }\n}","<div #container class=\"svg_container\">\n</div>\n<object #svgObj [data]=\"rs_url\" type=\"image/svg+xml\" (load)=onload($event)></object>","import { Injectable } from '@angular/core';\nimport { CanLoad, Route, Router, UrlSegment, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { NavigationService } from './navigation.service';\nimport { HttpService } from './services/http.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuardService implements CanLoad {\n  constructor(\n    public navService: NavigationService,\n    public httpService: HttpService,\n    public router: Router\n  ) {}\n  canLoad(\n    route: Route,\n    segments: UrlSegment[]\n  ):\n    | boolean\n    | UrlTree\n    | Observable<boolean | UrlTree>\n    | Promise<boolean | UrlTree> {\n    return new Observable<boolean>((observer) => {\n      if (this.navService.token === undefined) {\n        observer.next(false);\n        observer.complete();\n      } else {\n        observer.next(true);\n        observer.complete();\n      }\n    });\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  serverUrl: \"http://localhost:8080/\",\n  firebase: {\n    apiKey: 'AIzaSyA1zXvagfmEpGd8iN7NAgovCd11knGOYSs',\n    authDomain: 'myscoutee.firebaseapp.com',\n    projectId: 'myscoutee',\n    storageBucket: 'myscoutee.appspot.com',\n    messagingSenderId: '117896229531',\n    appId: '1:117896229531:web:4edd7330be29c1e7404c3e',\n  },\n  vapid: 'BEqCwlbXuzTypczUuJRV7X8K2rNXDjEXLng95-vE0PeC_Fex5QR9upQMtU03jzG35_qUZQP-f1cBi5U_w-m1cm8',\n  groupTypes: {\n    d: 'dating',\n    b: 'business',\n    t: 'job',\n    a: 'admin',\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, Input, OnInit } from '@angular/core';\nimport { monthlyTable } from './utils';\n@Component({\n  selector: 'ms-calendar',\n  templateUrl: './index.html',\n})\nexport class MsCalendar implements OnInit {\n  @Input() data: any;\n\n  id: any;\n  rows: Array<Array<any>>;\n  items: Array<Array<any>> = new Array();\n  days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  init(): void {\n    if (this.data) {\n      this.id = this.data.id;\n      this.rows = monthlyTable(this.data.id);\n\n      this.data.items.forEach((item) => {\n        const start = new Date(item.range.start);\n        const end = new Date(item.range.end);\n\n        const startDay = start.getDate();\n        const endDay = end.getDate();\n\n        let isFound = false;\n        let isRangeFound = false;\n\n        for (let i = 0; i < this.rows.length; i++) {\n          let calItem = JSON.parse(JSON.stringify(item));\n          calItem.cal = { from: undefined, to: undefined, width: undefined };\n\n          for (let j = 0; j < this.rows[i].length; j++) {\n            let cell = this.rows[i][j];\n\n            if (cell === undefined) {\n              continue;\n            }\n\n            if (cell.title === startDay) {\n              calItem.cal.from = j;\n              isFound = true;\n            }\n\n            if (cell.title === endDay) {\n              calItem.cal.to = j;\n            }\n          }\n\n          if (isFound) {\n            if (\n              calItem.cal.from !== undefined &&\n              calItem.cal.to === undefined\n            ) {\n              calItem.cal.to = 6;\n            } else if (\n              calItem.cal.from === undefined &&\n              calItem.cal.to !== undefined\n            ) {\n              calItem.cal.from = 0;\n              isRangeFound = true;\n            } else if (\n              calItem.cal.from !== undefined &&\n              calItem.cal.to !== undefined\n            ) {\n              isRangeFound = true;\n            } else if (\n              calItem.cal.from === undefined &&\n              calItem.cal.to === undefined\n            ) {\n              calItem.cal.from = 0;\n              calItem.cal.to = 6;\n            }\n\n            if (this.items[i] === undefined) {\n              this.items[i] = new Array();\n            }\n\n            calItem.cal.width = calItem.cal.to - calItem.cal.from + 1;\n\n            this.items[i].push(calItem);\n\n            if (isRangeFound) {\n              break;\n            }\n          }\n        }\n      });\n    }\n  }\n\n  constructor() {\n    this.rows = new Array();\n  }\n\n  onCellClick(cell): void {\n    console.log(cell);\n  }\n}\n","<div class=\"calendar\">\n  <div class=\"header\" *ngIf=\"id\">\n    <div class=\"week\">\n      <div *ngFor=\"let day of days\" class=\"day\">{{day}}</div>\n    </div>\n  </div>\n  <div class=\"body\" *ngIf=\"id\">\n    <div *ngFor=\"let row of rows; let idx = index\" class=\"cal_row\">\n      <div *ngFor=\"let cell of row\" class=\"cal_cell\">\n        <div *ngIf=\"cell\">\n          {{cell.title}}\n          <div\n            *ngIf=\"cell.value\"\n            class=\"value highlighted\"\n            [style.background]=\"cell.value\"\n          ></div>\n          <div *ngIf=\"!cell.value\" class=\"value\"></div>\n        </div>\n      </div>\n      <div *ngIf=\"items[idx]\" class=\"item_row\">\n        <div *ngFor=\"let item of items[idx]\" class=\"item_cell\" [style]=\"'--width:' + item.cal.width + ';--pos:' + item.cal.from + ';--color:' + item.color\" matRipple (click)=\"onCellClick(item.id)\">{{item.title}}</div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Nearby } from \"./iface\";\nimport { DefaultDistributor, Calc, DEG } from \"./utils\";\n\nexport class Segment implements Nearby {\n    public handles: Array<any>;\n\n    private positions: Array<any>;\n\n    private path;\n    private points: Array<{ x: number, y: number, out: boolean }>;\n    private bound: { rect, wRatio, hRatio };\n\n    get _path() {\n        return this.path;\n    }\n\n    get _bound() {\n        return this.bound;\n    }\n\n    set _bound(bound) {\n        this.bound = bound;\n    }\n\n    get _points() {\n        return this.points;\n    }\n\n    constructor(path, data, bound) {\n        this.path = path;\n        this.bound = bound;\n\n        let segmentData = JSON.parse(JSON.stringify(data));\n        segmentData.num = data.limit.max - data.limit.min;\n        segmentData.values = undefined;\n\n        //distribution points and handles are not separate\n        //handles should be distributed along points!!!\n        this.points = DefaultDistributor.distribute(segmentData, this.path, bound);\n\n        this.handles = DefaultDistributor.distribute(data, this.path, bound, segmentData.num);\n\n        for (let i = 0; i < this.handles.length; i++) {\n            this.handles[i].x = this.points[this.handles[i].value].x;\n            this.handles[i].y = this.points[this.handles[i].value].y;\n        }\n\n        if (data.values !== undefined) {\n            this.positions = data.values;\n        } else {\n            this.positions = [];\n        }\n    }\n\n    update(bound) {\n\n    }\n\n    public nearby(idx, point, handleSize): any {\n        let points = new Array<{ idx, point }>();\n\n        let svgX = point.x - this.bound.rect.left;\n        let svgY = point.y - this.bound.rect.top;\n\n        let svgPoint = { x: svgX, y: svgY };\n\n        let pointIdx;\n        let minDistance = Infinity;\n        for (let i = 0; i < this.points.length; i++) {\n            let distance = Calc.distance2(this.points[i], svgPoint);\n            if (minDistance > distance) {\n                minDistance = distance;\n                pointIdx = i;\n            }\n        };\n\n        this.handles[idx] = this.points[pointIdx];\n        this.positions[idx] = pointIdx;\n\n        points.push({ idx: idx, point: this.handles[idx] });\n\n        for (let i = 0; i < idx; i++) {\n            if (this.positions[i] >= this.positions[idx]) {\n                this.handles[i] = this.handles[idx];\n                this.positions[i] = this.positions[idx];\n\n                points.push({ idx: i, point: this.handles[i] });\n            }\n        }\n\n        for (let i = idx + 1; i < this.handles.length; i++) {\n            if (this.positions[i] <= this.positions[idx]) {\n                this.handles[i] = this.handles[idx];\n                this.positions[i] = this.positions[idx];\n\n                points.push({ idx: i, point: this.handles[i] });\n            }\n        }\n\n        return points;\n    }\n}","import { Injectable } from '@angular/core';\n\nexport interface Option {\n  value: string;\n  viewValue: string;\n}\n\nconst professions: Option[] = [\n  { value: 'm', viewValue: 'Management' },\n  { value: 'bfo', viewValue: 'Business and Financial Operations' },\n  { value: 'cm', viewValue: 'Computer and Mathematical' },\n  { value: 'ae', viewValue: 'Architecture and Engineering' },\n  { value: 'lps', viewValue: 'Life, Physical and Social Science' },\n  { value: 'css', viewValue: 'Community and Social Service' },\n  { value: 'l', viewValue: 'Legal' },\n  { value: 'eil', viewValue: 'Educational Instruction and Library' },\n  {\n    value: 'adesm',\n    viewValue: 'Arts, Design, Entertainment, Sports, and Media',\n  },\n  { value: 'hpt', viewValue: 'Healthcare Practitioners and Technical' },\n  { value: 'hs', viewValue: 'Healthcare Support' },\n  { value: 'ps', viewValue: 'Protective Service' },\n  { value: 'fps', viewValue: 'Food Preparation and Serving' },\n  {\n    value: 'bgcm',\n    viewValue: 'Building and Grounds Cleaning and Maintenance',\n  },\n  { value: 'pcs', viewValue: 'Personal Care and Service' },\n  { value: 's', viewValue: 'Sales' },\n  { value: 'oas', viewValue: 'Office and Administrative Support' },\n  { value: 'fff', viewValue: 'Farming, Fishing, and Forestry' },\n  { value: 'ce', viewValue: 'Construction and Extraction' },\n  { value: 'imr', viewValue: 'Installation, Maintenance, and Repair' },\n  { value: 'p', viewValue: 'Production' },\n  { value: 'tmm', viewValue: 'Transportation and Material Moving' },\n  { value: 'ms', viewValue: 'Military Specific' },\n];\n\nconst physiques: Option[] = [\n  { value: 's', viewValue: 'Slim' },\n  { value: 'a', viewValue: 'Average' },\n  { value: 'sp', viewValue: 'Sum plus' },\n  { value: 'm', viewValue: 'Muscular' },\n];\n\nconst religions: Option[] = [\n  { value: 'ch', viewValue: 'Christianity' },\n  { value: 'is', viewValue: 'Islam' },\n  { value: 'hi', viewValue: 'Hinduism' },\n  { value: 'ci', viewValue: 'Chinese' },\n  { value: 'bu', viewValue: 'Buddhism' },\n  { value: 'pr', viewValue: 'Primal-indigenous' },\n  { value: 'af', viewValue: 'African' },\n  { value: 'si', viewValue: 'Sikhism' },\n  { value: 'juc', viewValue: 'Juche' },\n  { value: 'sp', viewValue: 'Spiritism' },\n  { value: 'jud', viewValue: 'Judaism' },\n  { value: 'ba', viewValue: 'Bahai' },\n  { value: 'ja', viewValue: 'Jainism' },\n  { value: 'sh', viewValue: 'Shinto' },\n  { value: 'ca', viewValue: 'Cao Dai' },\n  { value: 'zo', viewValue: 'Zoroastrianism' },\n  { value: 'te', viewValue: 'Tenrikyo' },\n  { value: 'neo', viewValue: 'Neo-Paganism' },\n  { value: 'un', viewValue: 'Unitarian-Universalism' },\n  { value: 'nr', viewValue: 'Nonreligious' },\n];\n\nconst languages: Option[] = [\n  { viewValue: 'Afar', value: 'aa' },\n  { viewValue: 'Abkhazian', value: 'ab' },\n  { viewValue: 'Avestan', value: 'ae' },\n  { viewValue: 'Afrikaans', value: 'af' },\n  { viewValue: 'Akan', value: 'ak' },\n  { viewValue: 'Amharic', value: 'am' },\n  { viewValue: 'Aragonese', value: 'an' },\n  { viewValue: 'Arabic', value: 'ar' },\n  { viewValue: 'Assamese', value: 'as' },\n  { viewValue: 'Avaric', value: 'av' },\n  { viewValue: 'Aymara', value: 'ay' },\n  { viewValue: 'Azerbaijani', value: 'az' },\n  { viewValue: 'Bashkir', value: 'ba' },\n  { viewValue: 'Belarusian', value: 'be' },\n  { viewValue: 'Bulgarian', value: 'bg' },\n  { viewValue: 'Bihari languages', value: 'bh' },\n  { viewValue: 'Bislama', value: 'bi' },\n  { viewValue: 'Bambara', value: 'bm' },\n  { viewValue: 'Bengali', value: 'bn' },\n  { viewValue: 'Tibetan', value: 'bo' },\n  { viewValue: 'Breton', value: 'br' },\n  { viewValue: 'Bosnian', value: 'bs' },\n  { viewValue: 'Catalan; Valencian', value: 'ca' },\n  { viewValue: 'Chechen', value: 'ce' },\n  { viewValue: 'Chamorro', value: 'ch' },\n  { viewValue: 'Corsican', value: 'co' },\n  { viewValue: 'Cree', value: 'cr' },\n  { viewValue: 'Czech', value: 'cs' },\n  {\n    viewValue:\n      'Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic',\n    value: 'cu',\n  },\n  { viewValue: 'Chuvash', value: 'cv' },\n  { viewValue: 'Welsh', value: 'cy' },\n  { viewValue: 'Danish', value: 'da' },\n  { viewValue: 'German', value: 'de' },\n  { viewValue: 'Divehi; Dhivehi; Maldivian', value: 'dv' },\n  { viewValue: 'Dzongkha', value: 'dz' },\n  { viewValue: 'Ewe', value: 'ee' },\n  { viewValue: 'Greek, Modern (1453-)', value: 'el' },\n  { viewValue: 'English', value: 'en' },\n  { viewValue: 'Esperanto', value: 'eo' },\n  { viewValue: 'Spanish; Castilian', value: 'es' },\n  { viewValue: 'Estonian', value: 'et' },\n  { viewValue: 'Basque', value: 'eu' },\n  { viewValue: 'Persian', value: 'fa' },\n  { viewValue: 'Fulah', value: 'ff' },\n  { viewValue: 'Finnish', value: 'fi' },\n  { viewValue: 'Fijian', value: 'fj' },\n  { viewValue: 'Faroese', value: 'fo' },\n  { viewValue: 'French', value: 'fr' },\n  { viewValue: 'Western Frisian', value: 'fy' },\n  { viewValue: 'Irish', value: 'ga' },\n  { viewValue: 'Gaelic; Scottish Gaelic', value: 'gd' },\n  { viewValue: 'Galician', value: 'gl' },\n  { viewValue: 'Guarani', value: 'gn' },\n  { viewValue: 'Gujarati', value: 'gu' },\n  { viewValue: 'Manx', value: 'gv' },\n  { viewValue: 'Hausa', value: 'ha' },\n  { viewValue: 'Hebrew', value: 'he' },\n  { viewValue: 'Hindi', value: 'hi' },\n  { viewValue: 'Hiri Motu', value: 'ho' },\n  { viewValue: 'Croatian', value: 'hr' },\n  { viewValue: 'Haitian; Haitian Creole', value: 'ht' },\n  { viewValue: 'Hungarian', value: 'hu' },\n  { viewValue: 'Armenian', value: 'hy' },\n  { viewValue: 'Herero', value: 'hz' },\n  {\n    viewValue: 'Interlingua (International Auxiliary Language Association)',\n    value: 'ia',\n  },\n  { viewValue: 'Indonesian', value: 'id' },\n  { viewValue: 'Interlingue; Occidental', value: 'ie' },\n  { viewValue: 'Igbo', value: 'ig' },\n  { viewValue: 'Sichuan Yi; Nuosu', value: 'ii' },\n  { viewValue: 'Inupiaq', value: 'ik' },\n  { viewValue: 'Ido', value: 'io' },\n  { viewValue: 'Icelandic', value: 'is' },\n  { viewValue: 'Italian', value: 'it' },\n  { viewValue: 'Inuktitut', value: 'iu' },\n  { viewValue: 'Japanese', value: 'ja' },\n  { viewValue: 'Javanese', value: 'jv' },\n  { viewValue: 'Georgian', value: 'ka' },\n  { viewValue: 'Kongo', value: 'kg' },\n  { viewValue: 'Kikuyu; Gikuyu', value: 'ki' },\n  { viewValue: 'Kuanyama; Kwanyama', value: 'kj' },\n  { viewValue: 'Kazakh', value: 'kk' },\n  { viewValue: 'Kalaallisut; Greenlandic', value: 'kl' },\n  { viewValue: 'Central Khmer', value: 'km' },\n  { viewValue: 'Kannada', value: 'kn' },\n  { viewValue: 'Korean', value: 'ko' },\n  { viewValue: 'Kanuri', value: 'kr' },\n  { viewValue: 'Kashmiri', value: 'ks' },\n  { viewValue: 'Kurdish', value: 'ku' },\n  { viewValue: 'Komi', value: 'kv' },\n  { viewValue: 'Cornish', value: 'kw' },\n  { viewValue: 'Kirghiz; Kyrgyz', value: 'ky' },\n  { viewValue: 'Latin', value: 'la' },\n  { viewValue: 'Luxembourgish; Letzeburgesch', value: 'lb' },\n  { viewValue: 'Ganda', value: 'lg' },\n  { viewValue: 'Limburgan; Limburger; Limburgish', value: 'li' },\n  { viewValue: 'Lingala', value: 'ln' },\n  { viewValue: 'Lao', value: 'lo' },\n  { viewValue: 'Lithuanian', value: 'lt' },\n  { viewValue: 'Luba-Katanga', value: 'lu' },\n  { viewValue: 'Latvian', value: 'lv' },\n  { viewValue: 'Malagasy', value: 'mg' },\n  { viewValue: 'Marshallese', value: 'mh' },\n  { viewValue: 'Maori', value: 'mi' },\n  { viewValue: 'Macedonian', value: 'mk' },\n  { viewValue: 'Malayalam', value: 'ml' },\n  { viewValue: 'Mongolian', value: 'mn' },\n  { viewValue: 'Marathi', value: 'mr' },\n  { viewValue: 'Malay', value: 'ms' },\n  { viewValue: 'Maltese', value: 'mt' },\n  { viewValue: 'Burmese', value: 'my' },\n  { viewValue: 'Nauru', value: 'na' },\n  {\n    viewValue: 'Bokm\\u00e5l, Norwegian; Norwegian Bokm\\u00e5l',\n    value: 'nb',\n  },\n  { viewValue: 'Ndebele, North; North Ndebele', value: 'nd' },\n  { viewValue: 'Nepali', value: 'ne' },\n  { viewValue: 'Ndonga', value: 'ng' },\n  { viewValue: 'Dutch; Flemish', value: 'nl' },\n  { viewValue: 'Norwegian Nynorsk; Nynorsk, Norwegian', value: 'nn' },\n  { viewValue: 'Norwegian', value: 'no' },\n  { viewValue: 'Ndebele, South; South Ndebele', value: 'nr' },\n  { viewValue: 'Navajo; Navaho', value: 'nv' },\n  { viewValue: 'Chichewa; Chewa; Nyanja', value: 'ny' },\n  { viewValue: 'Occitan (post 1500)', value: 'oc' },\n  { viewValue: 'Ojibwa', value: 'oj' },\n  { viewValue: 'Oromo', value: 'om' },\n  { viewValue: 'Oriya', value: 'or' },\n  { viewValue: 'Ossetian; Ossetic', value: 'os' },\n  { viewValue: 'Panjabi; Punjabi', value: 'pa' },\n  { viewValue: 'Pali', value: 'pi' },\n  { viewValue: 'Polish', value: 'pl' },\n  { viewValue: 'Pushto; Pashto', value: 'ps' },\n  { viewValue: 'Portuguese', value: 'pt' },\n  { viewValue: 'Quechua', value: 'qu' },\n  { viewValue: 'Romansh', value: 'rm' },\n  { viewValue: 'Rundi', value: 'rn' },\n  { viewValue: 'Romanian; Moldavian; Moldovan', value: 'ro' },\n  { viewValue: 'Russian', value: 'ru' },\n  { viewValue: 'Kinyarwanda', value: 'rw' },\n  { viewValue: 'Sanskrit', value: 'sa' },\n  { viewValue: 'Sardinian', value: 'sc' },\n  { viewValue: 'Sindhi', value: 'sd' },\n  { viewValue: 'Northern Sami', value: 'se' },\n  { viewValue: 'Sango', value: 'sg' },\n  { viewValue: 'Sinhala; Sinhalese', value: 'si' },\n  { viewValue: 'Slovak', value: 'sk' },\n  { viewValue: 'Slovenian', value: 'sl' },\n  { viewValue: 'Samoan', value: 'sm' },\n  { viewValue: 'Shona', value: 'sn' },\n  { viewValue: 'Somali', value: 'so' },\n  { viewValue: 'Albanian', value: 'sq' },\n  { viewValue: 'Serbian', value: 'sr' },\n  { viewValue: 'Swati', value: 'ss' },\n  { viewValue: 'Sotho, Southern', value: 'st' },\n  { viewValue: 'Sundanese', value: 'su' },\n  { viewValue: 'Swedish', value: 'sv' },\n  { viewValue: 'Swahili', value: 'sw' },\n  { viewValue: 'Tamil', value: 'ta' },\n  { viewValue: 'Telugu', value: 'te' },\n  { viewValue: 'Tajik', value: 'tg' },\n  { viewValue: 'Thai', value: 'th' },\n  { viewValue: 'Tigrinya', value: 'ti' },\n  { viewValue: 'Turkmen', value: 'tk' },\n  { viewValue: 'Tagalog', value: 'tl' },\n  { viewValue: 'Tswana', value: 'tn' },\n  { viewValue: 'Tonga (Tonga Islands)', value: 'to' },\n  { viewValue: 'Turkish', value: 'tr' },\n  { viewValue: 'Tsonga', value: 'ts' },\n  { viewValue: 'Tatar', value: 'tt' },\n  { viewValue: 'Twi', value: 'tw' },\n  { viewValue: 'Tahitian', value: 'ty' },\n  { viewValue: 'Uighur; Uyghur', value: 'ug' },\n  { viewValue: 'Ukrainian', value: 'uk' },\n  { viewValue: 'Urdu', value: 'ur' },\n  { viewValue: 'Uzbek', value: 'uz' },\n  { viewValue: 'Venda', value: 've' },\n  { viewValue: 'Vietnamese', value: 'vi' },\n  { viewValue: 'Volap\\u00fck', value: 'vo' },\n  { viewValue: 'Walloon', value: 'wa' },\n  { viewValue: 'Wolof', value: 'wo' },\n  { viewValue: 'Xhosa', value: 'xh' },\n  { viewValue: 'Yiddish', value: 'yi' },\n  { viewValue: 'Yoruba', value: 'yo' },\n  { viewValue: 'Zhuang; Chuang', value: 'za' },\n  { viewValue: 'Chinese', value: 'zh' },\n  { viewValue: 'Zulu', value: 'zu' },\n];\n\nconst categories: Option[] = [\n  { viewValue: 'Study', value: 's' },\n  { viewValue: 'Work', value: 'w' },\n];\n\nconst currencies: Option[] = [\n  {\n    value: 'AED',\n    viewValue: 'United Arab Emirates Dirham',\n  },\n  {\n    value: 'AFN',\n    viewValue: 'Afghan Afghani',\n  },\n  {\n    value: 'ALL',\n    viewValue: 'Albanian Lek',\n  },\n  {\n    value: 'AMD',\n    viewValue: 'Armenian Dram',\n  },\n  {\n    value: 'ANG',\n    viewValue: 'Netherlands Antillean Guilder',\n  },\n  {\n    value: 'AOA',\n    viewValue: 'Angolan Kwanza',\n  },\n  {\n    value: 'ARS',\n    viewValue: 'Argentine Peso',\n  },\n  {\n    value: 'AUD',\n    viewValue: 'Australian Dollar',\n  },\n  {\n    value: 'AWG',\n    viewValue: 'Aruban Florin',\n  },\n  {\n    value: 'AZN',\n    viewValue: 'Azerbaijani Manat',\n  },\n  {\n    value: 'BAM',\n    viewValue: 'Bosnia-Herzegovina Convertible Mark',\n  },\n  {\n    value: 'BBD',\n    viewValue: 'Barbadian Dollar',\n  },\n  {\n    value: 'BDT',\n    viewValue: 'Bangladeshi Taka',\n  },\n  {\n    value: 'BGN',\n    viewValue: 'Bulgarian Lev',\n  },\n  {\n    value: 'BHD',\n    viewValue: 'Bahraini Dinar',\n  },\n  {\n    value: 'BIF',\n    viewValue: 'Burundian Franc',\n  },\n  {\n    value: 'BMD',\n    viewValue: 'Bermudan Dollar',\n  },\n  {\n    value: 'BND',\n    viewValue: 'Brunei Dollar',\n  },\n  {\n    value: 'BOB',\n    viewValue: 'Bolivian Boliviano',\n  },\n  {\n    value: 'BRL',\n    viewValue: 'Brazilian Real',\n  },\n  {\n    value: 'BSD',\n    viewValue: 'Bahamian Dollar',\n  },\n  {\n    value: 'BTC',\n    viewValue: 'Bitcoin',\n  },\n  {\n    value: 'BTN',\n    viewValue: 'Bhutanese Ngultrum',\n  },\n  {\n    value: 'BWP',\n    viewValue: 'Botswanan Pula',\n  },\n  {\n    value: 'BYN',\n    viewValue: 'Belarusian Ruble',\n  },\n  {\n    value: 'BZD',\n    viewValue: 'Belize Dollar',\n  },\n  {\n    value: 'CAD',\n    viewValue: 'Canadian Dollar',\n  },\n  {\n    value: 'CDF',\n    viewValue: 'Congolese Franc',\n  },\n  {\n    value: 'CHF',\n    viewValue: 'Swiss Franc',\n  },\n  {\n    value: 'CLF',\n    viewValue: 'Chilean Unit of Account (UF)',\n  },\n  {\n    value: 'CLP',\n    viewValue: 'Chilean Peso',\n  },\n  {\n    value: 'CNH',\n    viewValue: 'Chinese Yuan (Offshore)',\n  },\n  {\n    value: 'CNY',\n    viewValue: 'Chinese Yuan',\n  },\n  {\n    value: 'COP',\n    viewValue: 'Colombian Peso',\n  },\n  {\n    value: 'CRC',\n    viewValue: 'Costa Rican Coln',\n  },\n  {\n    value: 'CUC',\n    viewValue: 'Cuban Convertible Peso',\n  },\n  {\n    value: 'CUP',\n    viewValue: 'Cuban Peso',\n  },\n  {\n    value: 'CVE',\n    viewValue: 'Cape Verdean Escudo',\n  },\n  {\n    value: 'CZK',\n    viewValue: 'Czech Republic Koruna',\n  },\n  {\n    value: 'DJF',\n    viewValue: 'Djiboutian Franc',\n  },\n  {\n    value: 'DKK',\n    viewValue: 'Danish Krone',\n  },\n  {\n    value: 'DOP',\n    viewValue: 'Dominican Peso',\n  },\n  {\n    value: 'DZD',\n    viewValue: 'Algerian Dinar',\n  },\n  {\n    value: 'EGP',\n    viewValue: 'Egyptian Pound',\n  },\n  {\n    value: 'ERN',\n    viewValue: 'Eritrean Nakfa',\n  },\n  {\n    value: 'ETB',\n    viewValue: 'Ethiopian Birr',\n  },\n  {\n    value: 'EUR',\n    viewValue: 'Euro',\n  },\n  {\n    value: 'FJD',\n    viewValue: 'Fijian Dollar',\n  },\n  {\n    value: 'FKP',\n    viewValue: 'Falkland Islands Pound',\n  },\n  {\n    value: 'GBP',\n    viewValue: 'British Pound Sterling',\n  },\n  {\n    value: 'GEL',\n    viewValue: 'Georgian Lari',\n  },\n  {\n    value: 'GGP',\n    viewValue: 'Guernsey Pound',\n  },\n  {\n    value: 'GHS',\n    viewValue: 'Ghanaian Cedi',\n  },\n  {\n    value: 'GIP',\n    viewValue: 'Gibraltar Pound',\n  },\n  {\n    value: 'GMD',\n    viewValue: 'Gambian Dalasi',\n  },\n  {\n    value: 'GNF',\n    viewValue: 'Guinean Franc',\n  },\n  {\n    value: 'GTQ',\n    viewValue: 'Guatemalan Quetzal',\n  },\n  {\n    value: 'GYD',\n    viewValue: 'Guyanaese Dollar',\n  },\n  {\n    value: 'HKD',\n    viewValue: 'Hong Kong Dollar',\n  },\n  {\n    value: 'HNL',\n    viewValue: 'Honduran Lempira',\n  },\n  {\n    value: 'HRK',\n    viewValue: 'Croatian Kuna',\n  },\n  {\n    value: 'HTG',\n    viewValue: 'Haitian Gourde',\n  },\n  {\n    value: 'HUF',\n    viewValue: 'Hungarian Forint',\n  },\n  {\n    value: 'IDR',\n    viewValue: 'Indonesian Rupiah',\n  },\n  {\n    value: 'ILS',\n    viewValue: 'Israeli New Sheqel',\n  },\n  {\n    value: 'IMP',\n    viewValue: 'Manx pound',\n  },\n  {\n    value: 'INR',\n    viewValue: 'Indian Rupee',\n  },\n  {\n    value: 'IQD',\n    viewValue: 'Iraqi Dinar',\n  },\n  {\n    value: 'IRR',\n    viewValue: 'Iranian Rial',\n  },\n  {\n    value: 'ISK',\n    viewValue: 'Icelandic Krna',\n  },\n  {\n    value: 'JEP',\n    viewValue: 'Jersey Pound',\n  },\n  {\n    value: 'JMD',\n    viewValue: 'Jamaican Dollar',\n  },\n  {\n    value: 'JOD',\n    viewValue: 'Jordanian Dinar',\n  },\n  {\n    value: 'JPY',\n    viewValue: 'Japanese Yen',\n  },\n  {\n    value: 'KES',\n    viewValue: 'Kenyan Shilling',\n  },\n  {\n    value: 'KGS',\n    viewValue: 'Kyrgystani Som',\n  },\n  {\n    value: 'KHR',\n    viewValue: 'Cambodian Riel',\n  },\n  {\n    value: 'KMF',\n    viewValue: 'Comorian Franc',\n  },\n  {\n    value: 'KPW',\n    viewValue: 'North Korean Won',\n  },\n  {\n    value: 'KRW',\n    viewValue: 'South Korean Won',\n  },\n  {\n    value: 'KWD',\n    viewValue: 'Kuwaiti Dinar',\n  },\n  {\n    value: 'KYD',\n    viewValue: 'Cayman Islands Dollar',\n  },\n  {\n    value: 'KZT',\n    viewValue: 'Kazakhstani Tenge',\n  },\n  {\n    value: 'LAK',\n    viewValue: 'Laotian Kip',\n  },\n  {\n    value: 'LBP',\n    viewValue: 'Lebanese Pound',\n  },\n  {\n    value: 'LKR',\n    viewValue: 'Sri Lankan Rupee',\n  },\n  {\n    value: 'LRD',\n    viewValue: 'Liberian Dollar',\n  },\n  {\n    value: 'LSL',\n    viewValue: 'Lesotho Loti',\n  },\n  {\n    value: 'LYD',\n    viewValue: 'Libyan Dinar',\n  },\n  {\n    value: 'MAD',\n    viewValue: 'Moroccan Dirham',\n  },\n  {\n    value: 'MDL',\n    viewValue: 'Moldovan Leu',\n  },\n  {\n    value: 'MGA',\n    viewValue: 'Malagasy Ariary',\n  },\n  {\n    value: 'MKD',\n    viewValue: 'Macedonian Denar',\n  },\n  {\n    value: 'MMK',\n    viewValue: 'Myanma Kyat',\n  },\n  {\n    value: 'MNT',\n    viewValue: 'Mongolian Tugrik',\n  },\n  {\n    value: 'MOP',\n    viewValue: 'Macanese Pataca',\n  },\n  {\n    value: 'MRO',\n    viewValue: 'Mauritanian Ouguiya (pre-2018)',\n  },\n  {\n    value: 'MRU',\n    viewValue: 'Mauritanian Ouguiya',\n  },\n  {\n    value: 'MUR',\n    viewValue: 'Mauritian Rupee',\n  },\n  {\n    value: 'MVR',\n    viewValue: 'Maldivian Rufiyaa',\n  },\n  {\n    value: 'MWK',\n    viewValue: 'Malawian Kwacha',\n  },\n  {\n    value: 'MXN',\n    viewValue: 'Mexican Peso',\n  },\n  {\n    value: 'MYR',\n    viewValue: 'Malaysian Ringgit',\n  },\n  {\n    value: 'MZN',\n    viewValue: 'Mozambican Metical',\n  },\n  {\n    value: 'NAD',\n    viewValue: 'Namibian Dollar',\n  },\n  {\n    value: 'NGN',\n    viewValue: 'Nigerian Naira',\n  },\n  {\n    value: 'NIO',\n    viewValue: 'Nicaraguan Crdoba',\n  },\n  {\n    value: 'NOK',\n    viewValue: 'Norwegian Krone',\n  },\n  {\n    value: 'NPR',\n    viewValue: 'Nepalese Rupee',\n  },\n  {\n    value: 'NZD',\n    viewValue: 'New Zealand Dollar',\n  },\n  {\n    value: 'OMR',\n    viewValue: 'Omani Rial',\n  },\n  {\n    value: 'PAB',\n    viewValue: 'Panamanian Balboa',\n  },\n  {\n    value: 'PEN',\n    viewValue: 'Peruvian Nuevo Sol',\n  },\n  {\n    value: 'PGK',\n    viewValue: 'Papua New Guinean Kina',\n  },\n  {\n    value: 'PHP',\n    viewValue: 'Philippine Peso',\n  },\n  {\n    value: 'PKR',\n    viewValue: 'Pakistani Rupee',\n  },\n  {\n    value: 'PLN',\n    viewValue: 'Polish Zloty',\n  },\n  {\n    value: 'PYG',\n    viewValue: 'Paraguayan Guarani',\n  },\n  {\n    value: 'QAR',\n    viewValue: 'Qatari Rial',\n  },\n  {\n    value: 'RON',\n    viewValue: 'Romanian Leu',\n  },\n  {\n    value: 'RSD',\n    viewValue: 'Serbian Dinar',\n  },\n  {\n    value: 'RUB',\n    viewValue: 'Russian Ruble',\n  },\n  {\n    value: 'RWF',\n    viewValue: 'Rwandan Franc',\n  },\n  {\n    value: 'SAR',\n    viewValue: 'Saudi Riyal',\n  },\n  {\n    value: 'SBD',\n    viewValue: 'Solomon Islands Dollar',\n  },\n  {\n    value: 'SCR',\n    viewValue: 'Seychellois Rupee',\n  },\n  {\n    value: 'SDG',\n    viewValue: 'Sudanese Pound',\n  },\n  {\n    value: 'SEK',\n    viewValue: 'Swedish Krona',\n  },\n  {\n    value: 'SGD',\n    viewValue: 'Singapore Dollar',\n  },\n  {\n    value: 'SHP',\n    viewValue: 'Saint Helena Pound',\n  },\n  {\n    value: 'SLL',\n    viewValue: 'Sierra Leonean Leone',\n  },\n  {\n    value: 'SOS',\n    viewValue: 'Somali Shilling',\n  },\n  {\n    value: 'SRD',\n    viewValue: 'Surinamese Dollar',\n  },\n  {\n    value: 'SSP',\n    viewValue: 'South Sudanese Pound',\n  },\n  {\n    value: 'STD',\n    viewValue: 'So Tom and Prncipe Dobra (pre-2018)',\n  },\n  {\n    value: 'STN',\n    viewValue: 'So Tom and Prncipe Dobra',\n  },\n  {\n    value: 'SVC',\n    viewValue: 'Salvadoran Coln',\n  },\n  {\n    value: 'SYP',\n    viewValue: 'Syrian Pound',\n  },\n  {\n    value: 'SZL',\n    viewValue: 'Swazi Lilangeni',\n  },\n  {\n    value: 'THB',\n    viewValue: 'Thai Baht',\n  },\n  {\n    value: 'TJS',\n    viewValue: 'Tajikistani Somoni',\n  },\n  {\n    value: 'TMT',\n    viewValue: 'Turkmenistani Manat',\n  },\n  {\n    value: 'TND',\n    viewValue: 'Tunisian Dinar',\n  },\n  {\n    value: 'TOP',\n    viewValue: \"Tongan Pa'anga\",\n  },\n  {\n    value: 'TRY',\n    viewValue: 'Turkish Lira',\n  },\n  {\n    value: 'TTD',\n    viewValue: 'Trinidad and Tobago Dollar',\n  },\n  {\n    value: 'TWD',\n    viewValue: 'New Taiwan Dollar',\n  },\n  {\n    value: 'TZS',\n    viewValue: 'Tanzanian Shilling',\n  },\n  {\n    value: 'UAH',\n    viewValue: 'Ukrainian Hryvnia',\n  },\n  {\n    value: 'UGX',\n    viewValue: 'Ugandan Shilling',\n  },\n  {\n    value: 'USD',\n    viewValue: 'United States Dollar',\n  },\n  {\n    value: 'UYU',\n    viewValue: 'Uruguayan Peso',\n  },\n  {\n    value: 'UZS',\n    viewValue: 'Uzbekistan Som',\n  },\n  {\n    value: 'VEF',\n    viewValue: 'Venezuelan Bolvar Fuerte (Old)',\n  },\n  {\n    value: 'VES',\n    viewValue: 'Venezuelan Bolvar Soberano',\n  },\n  {\n    value: 'VND',\n    viewValue: 'Vietnamese Dong',\n  },\n  {\n    value: 'VUV',\n    viewValue: 'Vanuatu Vatu',\n  },\n  {\n    value: 'WST',\n    viewValue: 'Samoan Tala',\n  },\n  {\n    value: 'XAF',\n    viewValue: 'CFA Franc BEAC',\n  },\n  {\n    value: 'XAG',\n    viewValue: 'Silver Ounce',\n  },\n  {\n    value: 'XAU',\n    viewValue: 'Gold Ounce',\n  },\n  {\n    value: 'XCD',\n    viewValue: 'East Caribbean Dollar',\n  },\n  {\n    value: 'XDR',\n    viewValue: 'Special Drawing Rights',\n  },\n  {\n    value: 'XOF',\n    viewValue: 'CFA Franc BCEAO',\n  },\n  {\n    value: 'XPD',\n    viewValue: 'Palladium Ounce',\n  },\n  {\n    value: 'XPF',\n    viewValue: 'CFP Franc',\n  },\n  {\n    value: 'XPT',\n    viewValue: 'Platinum Ounce',\n  },\n  {\n    value: 'YER',\n    viewValue: 'Yemeni Rial',\n  },\n  {\n    value: 'ZAR',\n    viewValue: 'South African Rand',\n  },\n  {\n    value: 'ZMW',\n    viewValue: 'Zambian Kwacha',\n  },\n  {\n    value: 'ZWL',\n    viewValue: 'Zimbabwean Dollar',\n  },\n];\n\nconst eventCategories: Option[] = [\n  { value: 'l', viewValue: 'Local' },\n  { value: 't', viewValue: 'Travel' },\n];\n\nconst eventTypes: Option[] = [\n  { value: 'g', viewValue: 'General' },\n  { value: 'c', viewValue: 'Car' },\n  { value: 'a', viewValue: 'Accomodation' },\n  { value: 'p', viewValue: 'Private' },\n];\n\nconst statuses: Option[] = [\n  { value: 'I', viewValue: 'Invisible' },\n  { value: 'F', viewValue: 'Friends Only' },\n  { value: 'A', viewValue: 'All' },\n];\n\nconst groupTypes: Option[] = [\n  { value: 'd', viewValue: 'Dating' },\n  // { value: 'b', viewValue: 'Business' },\n  { value: 't', viewValue: 'Team Building' },\n];\n\nconst groupVisibilities: Option[] = [\n  { value: 'pr', viewValue: 'Private' },\n  // { value: 'b', viewValue: 'Business' },\n  { value: 'pu', viewValue: 'Public' },\n];\n\nconst roles: Option[] = [\n  { value: 'ROLE_ADMIN', viewValue: 'Admin' },\n  { value: 'ROLE_USER', viewValue: 'User' },\n];\n\nconst profileStatuses: Option[] = [\n  { value: 'P', viewValue: 'Pending' },\n  { value: 'A', viewValue: 'All' },\n  { value: 'F', viewValue: 'Friends Only' },\n  { value: 'S', viewValue: 'Suspended' },\n];\n\nconst templateTypes: Option[] = [\n  { value: 'e', viewValue: 'Event' },\n  { value: 'j', viewValue: 'Job' },\n  { value: 'i', viewValue: 'Idea' },\n];\n\n// https://www.techiediaries.com/angular-11-tutorial-example-rest-crud-http-get-httpclient/\n@Injectable({\n  providedIn: 'any',\n})\nexport class DataService {\n  get professions(): Option[] {\n    return professions;\n  }\n\n  get physiques(): Option[] {\n    return physiques;\n  }\n\n  get religions(): Option[] {\n    return religions;\n  }\n\n  get languages(): Option[] {\n    return languages;\n  }\n\n  get categories(): Option[] {\n    return categories;\n  }\n\n  get statuses(): Option[] {\n    return statuses;\n  }\n\n  get eventCategories(): Option[] {\n    return eventCategories;\n  }\n\n  get eventTypes(): Option[] {\n    return eventTypes;\n  }\n\n  get templateTypes(): Option[] {\n    return templateTypes;\n  }\n\n  get currencies(): Option[] {\n    return currencies;\n  }\n\n  get groupTypes(): Option[] {\n    return groupTypes;\n  }\n\n  get groupVisibilities(): Option[] {\n    return groupVisibilities;\n  }\n\n  get roles(): Option[] {\n    return roles;\n  }\n\n  get profileStatuses(): Option[] {\n    return profileStatuses;\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport {\n  MatBottomSheetRef,\n  MAT_BOTTOM_SHEET_DATA\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { NavigationService } from 'src/app/navigation.service';\nimport { ListService } from 'src/app/services/list.service';\n\n// campaign button - is the big boom\n@Component({\n  selector: 'ms-action',\n  templateUrl: 'index.html',\n})\nexport class MsAction {\n  actions: Array<string>;\n  chat: any;\n  map: any;\n\n  constructor(\n    private menu: MatBottomSheetRef<MsAction>,\n    @Inject(MAT_BOTTOM_SHEET_DATA) public data: any,\n    private listService: ListService,\n    private navService: NavigationService,\n    private router: Router\n  ) {\n    this.actions = data.actions;\n    this.chat = data.chat;\n    this.map = this.buildMapLink(this.data.positions);\n  }\n\n  do(action: string): void {\n    switch (action) {\n      case 'E':\n        this.listService.edit.emit({ alias: this.data.alias });\n        break;\n      case 'L':\n      case 'A':\n      case 'R':\n      case 'P':\n      case 'CA':\n      case 'W':\n        this.listService.status.emit({ alias: this.data.alias, action });\n        break;\n      case 'D':\n        this.listService.delete.emit({ alias: this.data.alias });\n        break;\n      case 'S': // share\n        this.listService.share.emit({ alias: this.data.alias });\n        break;\n      case 'Q':\n        this.listService.code.emit({ alias: this.data.alias });\n        break;\n      case 'C':\n        this.listService.clone.emit({ alias: this.data.alias });\n        break;\n      case 'J':\n        this.listService.join.emit({ alias: this.data.alias });\n        break;\n      case 'U':\n        this.listService.recommend.emit({ alias: this.data.alias });\n        break;\n      case 'M':\n        if (this.map !== undefined) {\n          window.open(this.map, '_blank');\n        }\n        break;\n      case 'CH':\n        if (this.chat !== undefined) {\n          window.open(this.chat, '_blank');\n        } else {\n          this.listService.edit.emit({ alias: this.data.alias });\n        }\n        break;\n    }\n    this.menu.dismiss({ action });\n  }\n\n  private buildMapLink(positions) {\n    if (positions === undefined || positions.length === 0) {\n      return undefined;\n    }\n\n    let link = '';\n    if (positions.length === 1) {\n      link =\n        'https://www.google.com/maps/search/?api=1&query=' +\n        positions[0].x +\n        '%2C' +\n        positions[0].y;\n    } else {\n      link =\n        'https://www.google.com/maps/dir/?api=1&origin=' +\n        positions[0].x +\n        '%2C' +\n        positions[0].y +\n        '&destination=' +\n        positions[positions.length - 1].x +\n        '%2C' +\n        positions[positions.length - 1].y;\n\n      if (positions.length > 2) {\n        link += '&waypoints=';\n\n        for (let i = 1; i < positions.length - 1; i++) {\n          link += positions[i].x + '%2C' + positions[i].y;\n\n          if (i < positions.length - 2) {\n            link += '%7C';\n          }\n        }\n      }\n    }\n    return link;\n  }\n\n}\n","<mat-action-list>\n  <button *ngFor=\"let action of actions\" mat-list-item (click)=\"do(action)\">\n    <ng-container *ngIf=\"action === 'E'\">\n      <mat-icon fontSet=\"material-icons-outlined\">edit</mat-icon\n      >&nbsp;&nbsp;Edit\n    </ng-container>\n    <ng-container *ngIf=\"action === 'D'\">\n      <mat-icon fontSet=\"material-icons-outlined\">delete</mat-icon\n      >&nbsp;&nbsp;Delete\n    </ng-container>\n    <ng-container *ngIf=\"action === 'L'\">\n      <mat-icon fontSet=\"material-icons-outlined\">exit_to_app</mat-icon\n      >&nbsp;&nbsp;Leave\n    </ng-container>\n    <ng-container *ngIf=\"action === 'CA'\">\n      <mat-icon fontSet=\"material-icons-outlined\">cancel_presentation</mat-icon\n      >&nbsp;&nbsp;Cancel\n    </ng-container>\n    <ng-container *ngIf=\"action === 'A'\">\n      <mat-icon fontSet=\"material-icons-outlined\">thumb_up</mat-icon\n      >&nbsp;&nbsp;Accept\n    </ng-container>\n    <ng-container *ngIf=\"action === 'P'\">\n      <mat-icon fontSet=\"material-icons-outlined\">thumb_up</mat-icon\n      >&nbsp;&nbsp;Publish\n    </ng-container>\n    <ng-container *ngIf=\"action === 'R'\">\n      <mat-icon fontSet=\"material-icons-outlined\">thumb_down</mat-icon\n      >&nbsp;&nbsp;Reject\n    </ng-container>\n    <ng-container *ngIf=\"action === 'U'\">\n      <mat-icon fontSet=\"material-icons-outlined\">thumb_up</mat-icon\n      >&nbsp;&nbsp;Recommend\n    </ng-container>\n    <ng-container *ngIf=\"action === 'Q'\">\n      <mat-icon fontSet=\"material-icons-outlined\">qr_code_scanner</mat-icon\n      >&nbsp;&nbsp;Code\n    </ng-container>\n    <ng-container *ngIf=\"action === 'S'\">\n      <mat-icon fontSet=\"material-icons-outlined\">send</mat-icon\n      >&nbsp;&nbsp;Share\n    </ng-container>\n    <ng-container *ngIf=\"action === 'C'\">\n      <mat-icon fontSet=\"material-icons-outlined\">copy_all</mat-icon\n      >&nbsp;&nbsp;Clone\n    </ng-container>\n    <ng-container *ngIf=\"action === 'J'\">\n      <mat-icon fontSet=\"material-icons-outlined\">login</mat-icon\n      >&nbsp;&nbsp;Join\n    </ng-container>\n    <ng-container *ngIf=\"action === 'W'\">\n      <mat-icon fontSet=\"material-icons-outlined\">hourglass_top</mat-icon\n      >&nbsp;&nbsp;Waiting List\n    </ng-container>\n    <ng-container *ngIf=\"action === 'CH'\">\n      <a class=\"actionLink\">\n        <mat-icon fontSet=\"material-icons-outlined\">chat</mat-icon\n        >&nbsp;&nbsp;<p>Chat</p>\n      </a>\n    </ng-container>\n    <ng-container *ngIf=\"action === 'M'\">\n      <a class=\"actionLink\">\n        <mat-icon fontSet=\"material-icons-outlined\">location_on</mat-icon\n        >&nbsp;&nbsp;<p>Map</p>\n      </a>\n    </ng-container>\n  </button>\n</mat-action-list>\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild\n} from '@angular/core';\n\ndeclare const QRCode: any;\ndeclare const Html5Qrcode: any;\n\n@Component({\n  selector: 'ms-qrcode',\n  templateUrl: './index.html',\n})\nexport class MsQrcode implements OnInit, OnDestroy, OnChanges {\n  private html5Qrcode;\n  private lastResult;\n\n  @ViewChild('qrCode', { static: true }) qrCodeViewRef: ElementRef;\n\n  @Output() msScanned = new EventEmitter<any>();\n\n  @Input() camera: any;\n  @Input() qrCode: any;\n\n  constructor() {}\n\n  onScanSuccess(qrMessage): void {\n    if (qrMessage !== this.lastResult) {\n      this.lastResult = qrMessage;\n      this.turnCamera(false, qrMessage);\n    }\n  }\n\n  ngOnInit(): void {}\n\n  ngOnChanges(): void {\n    if (this.html5Qrcode === undefined) {\n      this.html5Qrcode = new Html5Qrcode('reader', false);\n    }\n    this.turnCamera(this.camera);\n  }\n\n  turnCamera(on = false, sQRCode?): void {\n    if (on === true) {\n      const config = { fps: 10 };\n      this.html5Qrcode\n        .start(\n          { facingMode: 'environment' },\n          config,\n          (qrMessage) => this.onScanSuccess(qrMessage),\n          (err) => {}\n        )\n        .catch((err) => {\n          // Stop failed, handle it.\n        });\n    } else {\n      this.html5Qrcode\n        .stop()\n        .then((ignore) => {\n          console.log('camera stopped');\n          if (sQRCode !== undefined) {\n            this.msScanned.emit({ qrCode: sQRCode });\n          }\n        })\n        .catch((err) => {\n          // Stop failed, handle it.\n        });\n\n      setTimeout(() => {\n        QRCode.toCanvas(\n          this.qrCodeViewRef.nativeElement,\n          this.qrCode,\n          (error) => {\n            if (error) {\n              console.error(error);\n            }\n            console.log('success!');\n          }\n        );\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.turnCamera(false);\n  }\n}\n","<div class=\"qr\">\n  <div id=\"reader\" class=\"scanner\"></div>\n  <canvas #qrCode class=\"code\" width=\"100%\" height=\"100%\"></canvas>\n</div>\n","import {\n  HttpClient,\n  HttpErrorResponse,\n  HttpHeaders,\n  HttpParams\n} from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { NavigationService } from '../navigation.service';\n\nconst AUTH_FIREBASE_HEADER = 'X-Authorization-Firebase';\nconst AUTH_LINK_HEADER = 'X-Authorization-Link';\n\n// batch rate\n// https://www.raymondcamden.com/2013/06/06/IndexedDB-and-Date-Example\n@Injectable({\n  providedIn: 'root',\n})\nexport class HttpService {\n  private openReq;\n  private db;\n\n  private toDate;\n  private isPending = false;\n\n  constructor(\n    private httpClient: HttpClient,\n    private navService: NavigationService\n  ) {\n    // different db name for different profile\n    this.openReq = indexedDB.open('myscoutee_db', 1);\n\n    this.openReq.onsuccess = (e) => {\n      this.db = e.target.result;\n    };\n\n    this.openReq.onupgradeneeded = (e) => {\n      this.db = e.target.result;\n\n      if (!this.db.objectStoreNames.contains('likes')) {\n        var os = this.db.createObjectStore('likes', { autoIncrement: true });\n        os.createIndex('created', 'created', { unique: false });\n      }\n    };\n\n    //batch like\n    /*setInterval(() => {\n      this.sync();\n    }, 30000);*/\n  }\n  // private REST_API_SERVER = 'http://localhost:4200';\n\n  public get(urlPart: string, params: HttpParams = new HttpParams()) {\n    let headers = new HttpHeaders();\n\n    if (this.navService.token !== undefined) {\n      headers = headers.append(AUTH_FIREBASE_HEADER, this.navService.token);\n    }\n\n    if (this.navService.xlink !== undefined) {\n      headers = headers.append(AUTH_LINK_HEADER, this.navService.xlink);\n    }\n\n    return this.httpClient\n      .get(location.origin + '/backend' + urlPart, { headers, params })\n      .pipe(catchError(this.handleError));\n  }\n\n  public index(like) {\n    let objStore = this.db\n      .transaction(['likes'], 'readwrite')\n      .objectStore('likes');\n    like.rate++;\n    objStore.add({ created: new Date(), like });\n  }\n\n  public sync(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (!this.isPending) {\n        this.batch().then((res) => {\n          if (res.length === 0) {\n            resolve({});\n          }\n\n          this.isPending = true;\n\n          let headers = new HttpHeaders();\n          headers = headers.append(AUTH_FIREBASE_HEADER, this.navService.token);\n\n          this.httpClient\n            .post(location.origin + '/backend/profiles/like', res, {\n              headers,\n            })\n            .pipe(catchError(this.handleError))\n            .subscribe({\n              error: (error) => {\n                this.isPending = false;\n                console.log(\"Can't save!\");\n                reject({});\n              },\n              complete: () => {\n                const objStore = this.db\n                  .transaction(['likes'], 'readwrite')\n                  .objectStore('likes');\n\n                let range = IDBKeyRange.upperBound(this.toDate);\n                objStore.delete(range);\n\n                this.isPending = false;\n\n                resolve({});\n              },\n            });\n        });\n      }\n    });\n  }\n\n  async batch(): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      const objStore = this.db\n        .transaction(['likes'], 'readonly')\n        .objectStore('likes');\n\n      let index = objStore.index('created');\n\n      this.toDate = new Date();\n\n      let result = new Array();\n\n      let range = IDBKeyRange.upperBound(this.toDate);\n      index.openCursor(range).onsuccess = (e) => {\n        var cursor = e.target.result;\n        if (cursor) {\n          result.push(cursor.value['like']);\n          cursor.continue();\n        } else {\n          resolve(result);\n        }\n      };\n    });\n  }\n\n  public save(\n    urlPart: string,\n    body: any,\n    params: HttpParams = new HttpParams()\n  ) {\n    const lastPart = urlPart.substr(urlPart.lastIndexOf('/') + 1);\n    const uuidRegex =\n      /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\n    if (lastPart.match(uuidRegex) !== null) {\n      return this.patch(urlPart, body, params);\n    } else {\n      return this.post(urlPart, body, params);\n    }\n  }\n\n  public delete(\n    urlPart: string,\n    params: HttpParams = new HttpParams()\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append(AUTH_FIREBASE_HEADER, this.navService.token);\n\n    return this.httpClient\n      .delete(location.origin + '/backend' + urlPart, { headers, params })\n      .pipe(catchError(this.handleError));\n  }\n\n  public post(\n    urlPart: string,\n    body: any,\n    params: HttpParams = new HttpParams()\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append(AUTH_FIREBASE_HEADER, this.navService.token);\n\n    return this.httpClient\n      .post(location.origin + '/backend' + urlPart, body, { headers, params })\n      .pipe(catchError(this.handleError));\n  }\n\n  public patch(\n    urlPart: string,\n    body: any,\n    params: HttpParams = new HttpParams()\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append(AUTH_FIREBASE_HEADER, this.navService.token);\n\n    return this.httpClient\n      .patch(location.origin + '/backend' + urlPart, body, { headers, params })\n      .pipe(catchError(this.handleError));\n  }\n\n  public upload(\n    urlPart: string,\n    body: any,\n    params: HttpParams = new HttpParams()\n  ) {\n    let headers = new HttpHeaders();\n    headers = headers.append(AUTH_FIREBASE_HEADER, this.navService.token);\n\n    return this.httpClient\n      .post(location.origin + '/backend/' + urlPart, body, {\n        headers,\n        params,\n        reportProgress: true,\n        observe: 'events',\n      })\n      .pipe(catchError(this.handleError));\n  }\n\n  handleError(error: HttpErrorResponse) {\n    let errorMessage = 'Unknown error!';\n    if (error.error instanceof ErrorEvent) {\n      // Client-side errors\n      errorMessage = `Error: ${error.error.message}`;\n    } else {\n      // Server-side errors\n      errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n    }\n\n    console.log(errorMessage);\n    return throwError(error.error);\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnInit,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as svg_prop from './svg-path';\nimport { Interpolate, Segment } from './repositories';\nimport { Calc } from './repositories/utils';\n\nexport const HEART_DELTA = 36; //deg\n\nexport const HEART_FRAME = {\n  type: 'HEART',\n  limit: { min: 0, max: 10 },\n  num: 5,\n  delta: HEART_DELTA,\n};\n\nexport * from './svg-load';\n\n/*\n\"svg\": {\n                \"url\": \"\", //svg foreign-object svg url - can render div to canvas\n                \"delta\": \"\", //alignment value, where the first button has been placed - calculate whether the line is closed or opened - first and last value is the same\n                \"func\":\"\" //distribution method\n            }, //type : freeform - extrenal link - https://greensock.com/forums/topic/11187-accessing-svg-paths-in-external-file/\n            \"fab\": true, //no background, mouse-pointer: none  \n*/\n\n/* bugs\n * 1, limit cannot be overflown\n * 2, when first handle touches second one, is going forward without the second one in some cases\n * 3, blue line is getting updated\n * 4, put ruler marker lines on the path (half / quater is thicker)\n */\n\n@Component({\n  selector: 'ms-frame',\n  templateUrl: './index.html',\n})\nexport class MsFrame implements OnInit, AfterViewInit {\n  @Input() alias: any;\n  @Input() data;\n\n  @ViewChild('path') path;\n  @ViewChild('svg') svg;\n  @ViewChildren('handle') handleRef: QueryList<ElementRef>;\n\n  @Input() highlighted;\n  @Input() id;\n\n  @ViewChild('wrapper', { static: true }) wrapper: ElementRef;\n\n  @Input() type;\n\n  @ViewChildren('pointHandle') pointHandleRef: QueryList<ElementRef>;\n\n  frame_width;\n\n  isInitialized: boolean;\n  resizeTimeout: any;\n  segment: Segment;\n\n  handles: Array<{\n    x: number;\n    y: number;\n    picked: boolean;\n    selected: boolean;\n    value: number;\n  }>; //out means picked and removed from the path (can be moved flexible)\n  points;\n\n  selectedDiv;\n\n  pressTimer;\n\n  isPicked;\n  isPickedMoved;\n\n  offset;\n\n  isGroup: boolean = false;\n\n  percentRange: { from: number; to: string };\n\n  nextPointIdx;\n  isPrevUp;\n\n  clonedItem;\n\n  @Output() entered: EventEmitter<any> = new EventEmitter();\n  @Output() leaved: EventEmitter<any> = new EventEmitter();\n\n  @Output() changed: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    private _renderer: Renderer2,\n    private cd: ChangeDetectorRef,\n    private sanitizer: DomSanitizer\n  ) {\n    this.isInitialized = false;\n    this.handles = new Array();\n  }\n\n  sanitize(style) {\n    return this.sanitizer.bypassSecurityTrustStyle(style);\n  }\n\n  ngOnInit(): void {\n    this.frame_width = 100;\n\n    this.isPicked = false;\n    this.isPickedMoved = false;\n\n    if (this.type === 'path') {\n      this.data = HEART_FRAME;\n\n      this.data.closed = true;\n      if (this.data.delta === undefined) {\n        this.data.delta = HEART_DELTA;\n      }\n\n      this.cd.detectChanges();\n      this.distribute();\n      this.cd.detectChanges();\n    }\n\n    this.init();\n  }\n\n  ngAfterViewInit(): void {}\n\n  remove(idx) {\n    this.handles.splice(idx, 1);\n  }\n\n  init() {\n    if (!this.isInitialized) {\n      /*this.handleRef.forEach((handle, index) => {\n        this.initHandle(index, handle.nativeElement);\n      });*/\n\n      // with document - preventDefault should be removed\n\n      // touch events is not triggered while dragging to a different frame,\n      // only document.elementFromPoint simulates whther the mouse it's on an other frame!!!\n      this._renderer.listen(\n        this.wrapper.nativeElement,\n        'touchstart',\n        (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (this.offset === undefined) {\n            this.offset = this.wrapper.nativeElement.getBoundingClientRect();\n\n            this.pointHandleRef.forEach((handle, i) => {\n              const rect = handle.nativeElement.getBoundingClientRect();\n              this.points[i].x = rect.x;\n              this.points[i].y = rect.y;\n            });\n          }\n\n          const touch = event.targetTouches[0];\n\n          this.selectedDiv = document.elementFromPoint(\n            touch.clientX,\n            touch.clientY\n          );\n          const handleIdx = parseInt(this.selectedDiv.textContent, 10);\n\n          if (isNaN(handleIdx)) {\n            return false;\n          }\n\n          this.handles[handleIdx].selected = true;\n          this.handleGroup(handleIdx);\n\n          this.pressTimer = window.setTimeout(() => {\n            this.handles[handleIdx].picked = true;\n            this.handleGroup(handleIdx);\n            this.isPicked = true;\n          }, 500);\n        }\n      );\n\n      this._renderer.listen(\n        this.wrapper.nativeElement,\n        'touchmove',\n        (event) => {\n          event.preventDefault();\n          event.stopPropagation();\n\n          const handleIdx = parseInt(this.selectedDiv.textContent, 10);\n\n          if (isNaN(handleIdx)) {\n            return false;\n          }\n\n          clearTimeout(this.pressTimer);\n          if (this.isPickedMoved) {\n            this.handles[handleIdx].picked = false;\n          } else {\n            this.pressTimer = window.setTimeout(() => {\n              this.handles[handleIdx].picked = true;\n              this.isPicked = true;\n            }, 500);\n          }\n\n          const touch = event.targetTouches[0];\n\n          const div = document.elementFromPoint(touch.clientX, touch.clientY);\n\n          const classList = div !== undefined && div !== null && div.classList;\n          if (\n            classList.contains !== undefined &&\n            classList.contains('f_hover')\n          ) {\n            this.entered.emit(div);\n          }\n\n          //removing pointer events - the underneath element has been selected\n          if (this.selectedDiv !== undefined) {\n            const ptOffset = {\n              x: touch.clientX - this.offset.x,\n              y: touch.clientY - this.offset.y,\n            };\n\n            if (this.isPicked) {\n              this.handles[handleIdx].x = ptOffset.x;\n              this.handles[handleIdx].y = ptOffset.y;\n              this.handles[handleIdx].picked = true;\n            }\n\n            let pointIdx;\n            let minDistance = Infinity;\n            //it was this.segment._points.length for path\n            for (let i = 0; i < this.points.length; i++) {\n              const distance = Calc.distance2(this.points[i], ptOffset);\n              if (minDistance > distance) {\n                minDistance = distance;\n                pointIdx = i;\n              }\n            }\n\n            if (this.type === 'path') {\n              /*\n            moving group to bigger value direction which has got some lower element, realizes late that the lower value element shouldn't move - not a big issue\n            */\n              if (minDistance > 250) {\n                if (this.handles[handleIdx].picked) {\n                  this.handles[handleIdx].x = ptOffset.x;\n                  this.handles[handleIdx].y = ptOffset.y;\n                } else {\n                  const itp = new Interpolate(this.segment._path);\n                  // this wRatio thing on pageX is crazy, no idea why it's working\n                  const pt = {\n                    x:\n                      (touch.clientX - this.offset.x) /\n                      this.segment._bound.wRatio,\n                    y:\n                      (touch.clientY - this.offset.y) /\n                      this.segment._bound.hRatio,\n                  };\n                  const result = itp.nearby(undefined, pt, undefined);\n                  const loc = result.point;\n\n                  loc.x *= this.segment._bound.wRatio;\n                  loc.y *= this.segment._bound.hRatio;\n\n                  this.handles[handleIdx].x = loc.x;\n                  this.handles[handleIdx].y = loc.y;\n\n                  if (this.handles[handleIdx].value !== pointIdx) {\n                    this.handleGroup(handleIdx, pointIdx);\n                  }\n\n                  this.handles[handleIdx].value = pointIdx;\n\n                  this.isPickedMoved = true;\n                }\n                this.handleGroup(handleIdx);\n              } else {\n                // TODO: check if the handle has been moved by pointIdx !== this.handles[handleIdx].value\n                this.handles[handleIdx].x = this.points[pointIdx].x;\n                this.handles[handleIdx].y = this.points[pointIdx].y;\n                this.handles[handleIdx].picked = false;\n\n                this.handleGroup(handleIdx, pointIdx);\n                this.handles[handleIdx].value = pointIdx;\n\n                this.isPickedMoved = true;\n              }\n              this.changed.emit(pointIdx);\n            }\n          }\n        }\n      );\n\n      this._renderer.listen(this.wrapper.nativeElement, 'touchend', (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        clearTimeout(this.pressTimer);\n\n        if (this.selectedDiv !== undefined) {\n          this.leaved.emit();\n\n          const handleIdx = parseInt(this.selectedDiv.textContent, 10);\n\n          if (isNaN(handleIdx)) {\n            return false;\n          }\n\n          const touch = event.changedTouches[0];\n          const ptOffset = {\n            x: touch.clientX - this.offset.x,\n            y: touch.clientY - this.offset.y,\n          };\n\n          if (this.type === 'path') {\n            let pointIdx;\n            let minDistance = Infinity;\n            for (let i = 0; i < this.segment._points.length; i++) {\n              let distance = Calc.distance2(this.segment._points[i], ptOffset);\n              if (minDistance > distance) {\n                minDistance = distance;\n                pointIdx = i;\n              }\n            }\n\n            if (this.handles[handleIdx].picked) {\n              if (minDistance <= 500) {\n                this.handles[handleIdx].picked = false;\n              }\n            }\n\n            if (!this.handles[handleIdx].picked) {\n              this.handles[handleIdx].x = this.segment._points[pointIdx].x;\n              this.handles[handleIdx].y = this.segment._points[pointIdx].y;\n              this.handles[handleIdx].value = pointIdx;\n              this.changed.emit(pointIdx);\n            }\n          }\n\n          this.handles[handleIdx].selected = false;\n\n          this.handleGroup(handleIdx);\n\n          this.isPickedMoved = false;\n          this.isPicked = false;\n\n          this.selectedDiv = undefined;\n          this.nextPointIdx = undefined;\n          this.isPrevUp = undefined;\n        }\n      });\n\n      this.isInitialized = true;\n    }\n  }\n\n  handleGroup(handleIdx, pointIdx?) {\n    if (!this.isGroup) {\n      if (pointIdx === undefined) return;\n\n      let hasOverlay = false;\n      for (let i = 0; i < this.handles.length; i++) {\n        if (this.handles[i].value === pointIdx) {\n          hasOverlay = true;\n          break;\n        }\n      }\n\n      let sectionNum = this.points.length;\n\n      let isUp =\n        this.nextPointIdx === pointIdx\n          ? this.isPrevUp\n          : this.nextPointIdx !== undefined\n          ? pointIdx > this.nextPointIdx\n          : pointIdx > this.handles[handleIdx].value;\n\n      if (pointIdx !== this.handles[handleIdx].value) {\n        if (isUp) {\n          for (let i = 0; i < this.handles.length; i++) {\n            if (hasOverlay && handleIdx !== i) {\n              let value =\n                (sectionNum + ((this.handles[i].value + 1) % sectionNum)) %\n                sectionNum;\n              this.handles[i].x = this.points[value].x;\n              this.handles[i].y = this.points[value].y;\n              this.handles[i].value = value;\n            }\n          }\n          this.nextPointIdx =\n            (sectionNum + ((pointIdx + 1) % sectionNum)) % sectionNum;\n        } else {\n          for (let i = 0; i < this.handles.length; i++) {\n            if (hasOverlay && handleIdx !== i) {\n              let value =\n                (sectionNum + ((this.handles[i].value - 1) % sectionNum)) %\n                sectionNum;\n              this.handles[i].x = this.points[value].x;\n              this.handles[i].y = this.points[value].y;\n              this.handles[i].value = value;\n            }\n          }\n          this.nextPointIdx =\n            (sectionNum + ((pointIdx - 1) % sectionNum)) % sectionNum;\n        }\n        this.isPrevUp = isUp;\n      }\n    } else {\n      for (let i = 0; i < this.handles.length; i++) {\n        if (i > handleIdx) {\n          if (this.handles[i].value <= this.handles[handleIdx].value) {\n            this.handles[i].x = this.handles[handleIdx].x;\n            this.handles[i].y = this.handles[handleIdx].y;\n            this.handles[i].value = this.handles[handleIdx].value;\n            this.handles[i].selected = this.handles[handleIdx].selected;\n            this.handles[i].picked = this.handles[handleIdx].picked;\n          } else {\n            if (this.handles[i].picked) {\n              if (this.handles[i].value === this.handles[handleIdx].value) {\n                this.handles[i].x =\n                  this.points[this.handles[handleIdx].value].x;\n                this.handles[i].y =\n                  this.points[this.handles[handleIdx].value].y;\n              }\n            } else if (this.handles[i].selected) {\n              this.handles[i].x = this.points[this.handles[i].value].x;\n              this.handles[i].y = this.points[this.handles[i].value].y;\n            }\n            this.handles[i].selected = false;\n          }\n        }\n\n        if (i < handleIdx) {\n          if (this.handles[i].value >= this.handles[handleIdx].value) {\n            this.handles[i].x = this.handles[handleIdx].x;\n            this.handles[i].y = this.handles[handleIdx].y;\n            this.handles[i].value = this.handles[handleIdx].value;\n            this.handles[i].selected = this.handles[handleIdx].selected;\n            this.handles[i].picked = this.handles[handleIdx].picked;\n          } else {\n            if (this.handles[i].picked) {\n              if (this.handles[i].value === this.handles[handleIdx].value) {\n                this.handles[i].x =\n                  this.points[this.handles[handleIdx].value].x;\n                this.handles[i].y =\n                  this.points[this.handles[handleIdx].value].y;\n              }\n            } else if (this.handles[i].selected) {\n              this.handles[i].x = this.points[this.handles[i].value].x;\n              this.handles[i].y = this.points[this.handles[i].value].y;\n            }\n            this.handles[i].selected = false;\n          }\n        }\n      }\n    }\n  }\n\n  //Two.js - there is an example to follow the line\n  initHandle(idx, handle) {}\n\n  distribute() {\n    let path = this.path.nativeElement;\n    let rect = path.getBoundingClientRect();\n    let svg = this.svg.nativeElement;\n    let viewBoxVal = svg.viewBox.baseVal;\n    let wRatio = rect.width / viewBoxVal.width;\n    let hRatio = rect.height / viewBoxVal.height;\n    let bound = { rect: rect, wRatio: wRatio, hRatio: hRatio };\n\n    let str = path.getAttribute('d');\n    path = new svg_prop.svgPathProperties(str);\n\n    this.segment = new Segment(path, this.data, bound);\n    this.points = this.segment._points;\n    this.handles = JSON.parse(JSON.stringify(this.segment.handles));\n\n    let rules = this.handles.map((handle, idx) => {\n      return (\n        '.mat-tab-label:nth-child(' +\n        (idx + 1) +\n        ') { --posX: ' +\n        handle.x +\n        'px; --posY: ' +\n        handle.y +\n        'px;}'\n      );\n    });\n\n    this.createCSSClass(rules);\n\n    let fromPart = (2 * path.getTotalLength()) / this.points.length;\n    let from = path.getTotalLength() - fromPart;\n\n    //dasharray is tricky - from dashoffset to \"100 1790\"\n    //100 is the length and 1790 is the length of space - it won't add any new section, as there is no space left (1890 is the total length)\n    let toPart = (5 * path.getTotalLength()) / this.points.length;\n    let to = toPart + ' ' + (path.getTotalLength() - toPart);\n    this.percentRange = { from: from, to: to };\n  }\n\n  createCSSClass(rules) {\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    document.head.appendChild(style);\n\n    let cssRulesAppended = rules.join(' ');\n\n    style.appendChild(document.createTextNode(cssRulesAppended));\n  }\n\n  // resize not working\n  @HostListener('window:resize')\n  onResize() {\n    if (this.type === 'path') {\n      /*this.offset = this.wrapper.nativeElement.getBoundingClientRect();\n\n      let path = this.path.nativeElement;\n      let rect = path.getBoundingClientRect();\n      let svg = this.svg.nativeElement;\n      let viewBoxVal = svg.viewBox.baseVal;\n      let wRatio = rect.width / viewBoxVal.width;\n      let hRatio = rect.height / viewBoxVal.height;\n\n      for (let handle of this.handles) {\n        handle.x *= wRatio / this.segment._bound.wRatio;\n        handle.y *= hRatio / this.segment._bound.hRatio;\n      }\n\n      for (let point of this.points) {\n        point.x *= wRatio / this.segment._bound.wRatio;\n        point.y *= hRatio / this.segment._bound.hRatio;\n      }\n\n      let rules = this.handles.map((handle, idx) => {\n        return \".mat-tab-label:nth-child(\"+(idx + 1)+\") { --posX: \"+ handle.x +\"px; --posY: \" + handle.y + \"px;}\"\n      });\n\n      this.createCSSClass(rules);\n\n      this.segment._bound.wRatio = wRatio;\n      this.segment._bound.hRatio = hRatio;*/\n\n      setTimeout(() => {\n        this.distribute();\n      }, 1500);\n    }\n  }\n}\n","<div class=\"frame_wrapper\" #wrapper id=\"frame_wrapper\" [style.width.%]=\"frame_width\">\n  <ng-container *ngIf=\"type === 'path'\">\n    <ng-container [ngSwitch]=\"data.type\">\n      <svg #svg *ngSwitchCase=\"'HEART'\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        width=\"100%\" height=\"100%\" viewBox=\"0 0 610 610\" preserveAspectRatio=\"none\">\n        <g>\n          <path id=\"heart\" #path d=\"m 299.94115,90.723541 c 43.85146,-53.835957 84.90475,-74.209502 131.8675,-73.865659 70.16102,0.546061 \n          131.15187,53.896586 155.66311,116.074948 23.33268,59.18867 7.9402,134.66216 -29.74454,189.94083 C 516.0371,384.02768 \n          358.18433,520.02065 299.94115,605.67445 241.69801,520.02065 83.845233,384.02768 42.15512,322.87366 4.4703613,267.59499 \n          -10.922109,192.12151 12.410575,132.93283 36.92182,70.754473 97.912659,17.403942 168.07369,16.857882 215.03643,16.514039 \n          256.08971,36.887584 299.94115,90.723541 Z\"\n            fill=\"none\" />\n          <use xlink:href=\"#heart\" stroke-width=\"1\" stroke=\"black\" />\n          <use xlink:href=\"#heart\" stroke-width=\"16\" stroke=\"#387ef5\" [attr.stroke-dashoffset]=\"percentRange.from\"\n            [attr.stroke-dasharray]=\"percentRange.to\" *ngIf=\"highlighted\" />\n        </g>\n      </svg>\n    </ng-container>\n    <div class=\"tick\" *ngFor=\"let point of points\" [style.transform]=\"'translate(' + point.x + 'px,' + point.y + 'px)'\"></div>\n    <!--<div *ngIf=\"segment\" style=\"position: absolute; width: 100%; height: 100%;\">\n      <mat-tab-group class=\"path_tab\">\n        <mat-tab #handle *ngFor=\"let hPt of handles\" [label]=\"hPt.txt\">Cnt - {{hPt.txt}}</mat-tab>\n      </mat-tab-group>\n    </div>-->\n\n    <div *ngIf=\"segment\">\n      <div class=\"obj\" #handle *ngFor=\"let hPt of handles\" [ngClass]=\"{obj_selected: !hPt.picked && hPt.selected, obj_picked: hPt.picked}\"\n        [style.transform]=\"sanitize('translate(' + hPt.x + 'px,' + hPt.y + 'px)' + (hPt.picked ? ' scale(1.5,1.5)' : ''))\"\n        [id]=\"id + hPt.id\" [style.pointer-events]=\"hPt.selected ? 'none' : 'auto'\">{{hPt.txt}}</div>\n    </div>\n  </ng-container>\n</div>","import {\n  Component,\n  ElementRef,\n  OnInit,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core';\nimport { MsFrame } from './ms-frame';\n\nexport * from './ms-frame';\n\n@Component({\n  selector: 'ms-menu',\n  templateUrl: './index.html',\n})\nexport class MsMenu implements OnInit {\n  @ViewChildren('hover') hovers: QueryList<ElementRef>;\n\n  // @ViewChild(\"info\") info: ElementRef;\n\n  //@ViewChild(\"overlay\") overlayRef: ElementRef;\n\n  private selectedDiv;\n\n  constructor(private _renderer: Renderer2) {}\n\n  onEntered(div) {\n    if (this.selectedDiv !== undefined && this.selectedDiv !== div) {\n      let obj = this.hovers.find((hover) =>\n        hover instanceof ElementRef\n          ? hover.nativeElement.id === this.selectedDiv.id\n          : hover['id'] === this.selectedDiv.id\n      );\n      if (obj && !(obj instanceof ElementRef)) {\n        (<MsFrame>obj).highlighted = false;\n      } else {\n        this._renderer.removeClass(this.selectedDiv, 'f_hover_highlighted');\n      }\n\n      this.selectedDiv = undefined;\n    }\n\n    let classList = div !== undefined && div !== null && div.classList;\n    if (classList.contains('f_hover')) {\n      let obj = this.hovers.find((hover) =>\n        hover instanceof ElementRef\n          ? hover.nativeElement.id === div.id\n          : hover['id'] === div.id\n      );\n      if (obj && !(obj instanceof ElementRef)) {\n        (<MsFrame>obj).highlighted = true;\n      } else {\n        this._renderer.addClass(div, 'f_hover_highlighted');\n      }\n\n      this.selectedDiv = div;\n    }\n  }\n\n  onLeaved() {\n    if (this.selectedDiv !== undefined) {\n      let obj = this.hovers.find((hover) =>\n        hover instanceof ElementRef\n          ? hover.nativeElement.id === this.selectedDiv.id\n          : hover['id'] === this.selectedDiv.id\n      );\n      if (obj && !(obj instanceof ElementRef)) {\n        (<MsFrame>obj).highlighted = false;\n      } else {\n        this._renderer.removeClass(this.selectedDiv, 'f_hover_highlighted');\n      }\n\n      this.selectedDiv = undefined;\n    }\n  }\n\n  //style binding should be reduced, so style attribute should be generated in javascript unfortunatelly\n  //https://css-tricks.com/transitions-only-after-page-load/\n  //it might not be scale, maybe the whole thing willbe a translate up - like slide menu on android!!\n  //cannot do [style.--translate], so css variable use has been removed\n  //removing menu - full screen mode - the panel transform-origin: center center\n  //https://css-tricks.com/almanac/properties/t/transform-origin/ - very nice example\n  ngOnInit() {\n    //it's not needed, as we are not moving out container until the mouseUp is not triggered\n    /*this._renderer.listen(document, \"touchmove\", (event) => {\n            event.stopPropagation();\n\n            let handle = this.overlayRef.nativeElement.children[0];\n\n            let touch = event.targetTouches[0];\n            let translateStr = \"translate(\" + (touch.pageX - handle.clientWidth / 2) + \"px,\" + (touch.pageY - handle.clientHeight / 2) + \"px)\";\n            this._renderer.setStyle(handle, \"transform\", translateStr);\n        });*/\n  }\n}\n","<div class=\"f_panel\">\n  <ms-frame\n    [type]=\"'path'\"\n    class=\"f_hover f_hover_translated\"\n    #hover\n    id=\"frame2\"\n    (entered)=\"onEntered($event)\"\n    (leaved)=\"onLeaved()\"\n    [style.overflow]=\"'visible'\"\n  ></ms-frame>\n</div>\n\n<div class=\"f_overlay\" #overlay id=\"overlay\"></div>\n<!--<div class=\"f_desc\" #info></div>-->\n\n<!--<svg-load></svg-load>-->\n","export * from './ms-action';\nexport * from './ms-calendar';\nexport * from './ms-panel';\n\nconst months = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n];\n\nimport { DatePipe } from '@angular/common';\nimport { HttpParams } from '@angular/common/http';\nimport {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactoryResolver,\n  EmbeddedViewRef,\n  EventEmitter,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { GroupFilterComponent } from 'src/app/dating/components/forms/group-filter/group-filter.component';\nimport { NavigationService } from 'src/app/navigation.service';\nimport { HttpService } from 'src/app/services/http.service';\nimport { ListService } from 'src/app/services/list.service';\nimport { TransformService } from 'src/app/services/transform.service';\nimport { MsDialog } from '../ms-dialog';\nimport { getUrl } from '../../app/app-routing.strategy';\nimport { ILazy } from './interface';\nimport { MsPanel } from './ms-panel';\n\n//import(\"./ms-panel\").then(({MsPanel}) => {}\n\n//1) copy to canvas at upload - resize img android native\n//2) latch only map - and for one panel only\n//3) draggable / dragzone polyfill for touch screen\n\n//list_panel_30 - conf.json - 30 view buffer\n//https://developers.google.com/web/updates/2017/11/overscroll-behavior\n//paging - scroll page up / down\n\nconst MAX_INT = 2147483647;\n\nconst injector = Injector.create({\n  providers: [{ provide: MsPanel, deps: [] }, { provide: DatePipe }],\n});\n\nconst pairRate = {\n  type: 'route',\n  icon: 'people_outline',\n  url: '/games/rate_double',\n};\n\nconst actionMap = {\n  L: 'leave',\n  R: 'reject',\n  A: 'accept',\n  P: 'publish',\n  CA: 'leave',\n  W: 'wait',\n};\n\n@Component({\n  selector: 'ms-list',\n  templateUrl: './index.html',\n})\nexport class MsList implements OnInit, OnDestroy, AfterViewInit {\n  @Output() msSelect = new EventEmitter<any>();\n  @Output() msDelete = new EventEmitter<any>();\n\n  progress: any = { mode: 'determine', value: 0, color: 'primary' };\n\n  private sub: Subscription;\n\n  observer: IntersectionObserver;\n\n  @ViewChild('items', { static: true, read: ViewContainerRef })\n  itemsRef: ViewContainerRef;\n\n  @ViewChild('divider', { static: true, read: TemplateRef })\n  dividerRef: TemplateRef<any>;\n\n  @ViewChild('calendar', { static: true, read: TemplateRef })\n  calendarRef: TemplateRef<any>;\n\n  @ViewChild('overlay', { static: true })\n  overlayRef: MsPanel;\n\n  @ViewChild('oldOverlay', { static: true })\n  oldOverlayRef: any;\n\n  private itemFactory;\n\n  private _startY;\n\n  private height: any;\n\n  private isRefreshing = false;\n  isLoading = false;\n\n  private offsetTop = 0;\n  direction = 1;\n\n  private touched = false;\n  isRefreshed = false;\n\n  isSelected = false;\n\n  scrollTop = 0;\n\n  step;\n\n  @Input() overlayData: any;\n  @Input() selectable: any;\n\n  private items: Array<{ component; info }> = new Array();\n  private extra: any;\n  private selectedItems: Array<{ component; info }> = new Array();\n\n  private sortedItems: Array<{ id; sortKey }> = new Array();\n\n  rate: any;\n  data: any;\n\n  isOverlay = false;\n\n  @Input() actions: Array<any>;\n  @Input() multiple = false;\n  @Input() double = false;\n\n  isEvent = false; //temporary\n  group = undefined;\n\n  range: { from: Date; to: Date } = { from: new Date(), to: new Date() };\n\n  rangeDist: { from: any; to: any } = { from: 0, to: 0 };\n\n  //temporary\n  currentFrom: any = new Date();\n\n  @Input() url: any;\n\n  itemUrl: any;\n\n  // filter\n  offset: Array<any>;\n\n  isPull = false;\n\n  lastProgressState: any;\n\n  status: Subscription;\n  edit: Subscription;\n  share: Subscription;\n  clone: Subscription;\n  code: Subscription;\n  dialogSub: Subscription;\n  join: Subscription;\n  recommend: Subscription;\n  delete: Subscription;\n\n  isAdmin = false;\n\n  reset(): void {\n    this.items = new Array();\n    this.selectedItems = new Array();\n    this.sortedItems = new Array();\n    this.offset = undefined;\n\n    this.itemsRef.clear();\n\n    setTimeout(() => {\n      let inbox =\n        this.itemsRef.element.nativeElement.parentElement.parentElement;\n      this.updatePage(inbox, false);\n    });\n  }\n\n  constructor(\n    private resolver: ComponentFactoryResolver,\n    private _renderer: Renderer2,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    public dialog: MatDialog,\n    private navService: NavigationService,\n    private httpService: HttpService,\n    private transformService: TransformService,\n    private datePipe: DatePipe,\n    private cd: ChangeDetectorRef,\n    private listService: ListService,\n    private _snackBar: MatSnackBar\n  ) {\n    this.share = this.listService.share.subscribe({\n      next: (evt) => {\n        const idx = this.actions.findIndex((action) => action.type === 'share');\n        this.openDialog(idx, evt.alias);\n      },\n    });\n\n    this.join = this.listService.join.subscribe({\n      next: (evt) => {\n        const url = this.items[evt.alias].info.url.substring(1);\n        const itemUrl = url.substring(url.indexOf('/'));\n\n        this.httpService.save(itemUrl + '/join', {}).subscribe({\n          next: (result) => {\n            this._snackBar.open(\n              'You successfully joined to \"' +\n                this.items[evt.alias].info.header.main +\n                '\"!',\n              undefined,\n              { duration: 1500 }\n            );\n          },\n          error: (error) => {\n            this.progress.mode = 'determine';\n            this.progress.color = 'warn';\n          },\n          complete: () => {\n            this.reset();\n            console.log('complete');\n          },\n        });\n      },\n    });\n\n    this.delete = this.listService.delete.subscribe({\n      next: (evt) => {\n        const url = this.items[evt.alias].info.url.substring(1);\n        const itemUrl = url.substring(url.indexOf('/'));\n\n        this.httpService.delete(itemUrl).subscribe({\n          next: (result) => {\n            this._snackBar.open(\n              '\"' +\n                this.items[evt.alias].info.header.main +\n                '\" has been sucessfully deleted!',\n              undefined,\n              { duration: 1500 }\n            );\n          },\n          error: (error) => {\n            if (error && error.key !== undefined) {\n              if (this.navService.locale !== undefined) {\n                const msg = this.navService.locale[error.value];\n                this._snackBar.open(msg, undefined, { duration: 1500 });\n              }\n            }\n\n            this.progress.mode = 'determine';\n            this.progress.color = 'warn';\n          },\n          complete: () => {\n            this.reset();\n            console.log('complete');\n          },\n        });\n      },\n    });\n\n    this.recommend = this.listService.recommend.subscribe({\n      next: (evt) => {\n        const url = this.items[evt.alias].info.url.substring(1);\n        const itemUrl = url.substring(url.indexOf('/'));\n\n        this.httpService.save(itemUrl + '/recommend', {}).subscribe({\n          next: (result) => {\n            this._snackBar.open(\n              'The \"' +\n                this.items[evt.alias].info.header.main +\n                '\" has been successfully recommended!',\n              undefined,\n              { duration: 1500 }\n            );\n          },\n          error: (error) => {\n            this.progress.mode = 'determine';\n            this.progress.color = 'warn';\n          },\n          complete: () => {\n            console.log('complete');\n          },\n        });\n      },\n    });\n\n    this.clone = this.listService.clone.subscribe({\n      next: (evt) => {\n        const url = this.items[evt.alias].info.url.substring(1);\n        const itemUrl = url.substring(url.indexOf('/'));\n\n        this.httpService.save(itemUrl + '/clone', {}).subscribe({\n          next: (result) => {\n            this._snackBar.open(\n              this.items[evt.alias].info.header.main + ' has been clone!',\n              undefined,\n              { duration: 1500 }\n            );\n          },\n          error: (error) => {\n            this.progress.mode = 'determine';\n            this.progress.color = 'warn';\n          },\n          complete: () => {\n            console.log('complete');\n          },\n        });\n      },\n    });\n\n    this.dialogSub = this.listService.dialog.subscribe({\n      next: (evt) => {\n        const listUrl = evt.itemUrl.substring(0, evt.itemUrl.lastIndexOf('/'));\n        if (listUrl === this.itemUrl) {\n          const idx = this.actions.findIndex(\n            (action) => action.type === 'list'\n          );\n\n          const url = evt.itemUrl.substring(1);\n          const itemUrl = url.substring(url.indexOf('/'));\n\n          this.openDialog(idx, undefined, itemUrl + '/items');\n        }\n      },\n    });\n\n    this.status = this.listService.status.subscribe({\n      next: (evt) => {\n        const info = this.items[evt.alias].info;\n        const url = info.url.substring(1);\n        const itemUrl = url.substring(url.indexOf('/'));\n\n        if (evt.action === 'L' || evt.action === 'CA') {\n          this.leave(info.name, info.isPromotion).then((resp) => {\n            if (resp === true) {\n              this.doStatus(itemUrl, evt);\n            }\n          });\n        } else {\n          this.doStatus(itemUrl, evt);\n        }\n      },\n    });\n\n    this.edit = this.listService.edit.subscribe({\n      next: (evt) => {\n        const idx = this.actions.findIndex((action) => action.type === 'edit');\n        this.openDialog(idx, evt.alias);\n      },\n    });\n\n    this.code = this.listService.code.subscribe({\n      next: (evt) => {\n        const idx = this.actions.findIndex((action) => action.type === 'code');\n        this.openDialog(idx, evt.alias);\n      },\n    });\n\n    this.listService.overlay.subscribe({\n      next: (evt) => {\n        this.overlayData = evt;\n      },\n    });\n\n    this.navService.online.subscribe({\n      next: (evt) => {\n        if (!evt.online) {\n          this.lastProgressState = this.progress.color;\n          this.progress = {\n            mode: this.progress.mode,\n            value: this.progress.value,\n            color: 'accent',\n          };\n        } else {\n          this.progress = {\n            mode: this.progress.mode,\n            value: this.progress.value,\n            color: this.lastProgressState,\n          };\n          this.lastProgressState = undefined;\n        }\n      },\n    });\n    router.events.subscribe((event) => {\n      if (event instanceof NavigationEnd) {\n        const inbox =\n          this.itemsRef.element.nativeElement.parentElement.parentElement;\n        inbox.scrollTo({ top: this.scrollTop });\n      }\n    });\n  }\n\n  private doStatus(itemUrl: any, evt: any) {\n    this.httpService.save(itemUrl + '/' + actionMap[evt.action], {}).subscribe({\n      next: (result) => {\n        this.reset();\n      },\n      error: (error) => {\n        this.progress.mode = 'determine';\n        this.progress.color = 'warn';\n      },\n      complete: () => {\n        this.reset();\n        console.log('complete');\n      },\n    });\n  }\n\n  leave(name: string, isPromotion: boolean): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      const promoMsg =\n        'You might be charged by the Promoter because of being leave late!';\n\n      const action = this.navService.groupType === 'b' ? 'cancel' : 'leave';\n      const dialogRef = this.dialog.open(MsDialog, {\n        data: {\n          msg:\n            'Would you like to ' + action + ' ' + name + ' event!' + promoMsg,\n          btn: 'Yes',\n        },\n      });\n\n      dialogRef.afterClosed().subscribe((result) => {\n        resolve(result);\n      });\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.overlayRef.msEnlarge.subscribe({\n      next: (evt) => {\n        if (evt.enlarged) {\n          this.overlayRef.onEnter(evt.alias, this.items[evt.alias].info);\n          this.overlayRef.show(true, true);\n          this.oldOverlayRef.show(true, true);\n          this.isOverlay = true;\n        } else {\n          this.overlayRef.show(false, false);\n          this.oldOverlayRef.show(false, false);\n          this.isOverlay = false;\n        }\n      },\n    });\n  }\n\n  onDelete(alias): void {\n    if (this.overlayData && this.overlayData.removable === false) {\n      return;\n    }\n\n    if (alias && this.selectedItems[alias]) {\n      this.selectedItems[alias].component.instance.focus(false);\n      delete this.selectedItems[alias];\n    }\n\n    this.msDelete.emit(alias);\n  }\n\n  onRate(evt): void {\n    for (const selectedItem in this.selectedItems) {\n      if (this.selectedItems.hasOwnProperty(selectedItem)) {\n        if (this.selectedItems[selectedItem].component.instance.rated) {\n          if (\n            this.selectedItems[selectedItem].info['createdBy'] !== undefined\n          ) {\n            this.httpService.index({\n              from:\n                this.navService.selected !== undefined\n                  ? this.navService.selected['info'].id\n                  : undefined,\n              to: this.selectedItems[selectedItem].info['createdBy'],\n              ref: selectedItem,\n              rate: evt,\n            });\n          } else {\n            this.httpService.index({\n              from:\n                this.navService.selected !== undefined\n                  ? this.navService.selected['info'].id\n                  : undefined,\n              to: selectedItem,\n              ref: this.selectedItems[selectedItem].info['ref'],\n              rate: evt,\n            });\n          }\n\n          this.selectedItems[selectedItem].component.instance.update(evt + 1);\n        }\n      }\n    }\n\n    if (this.isOverlay) {\n      this.overlayRef.update(evt + 1);\n\n      // overlay update delay\n      setTimeout(() => {\n        const scrollView = this.itemsRef.element.nativeElement.parentElement;\n\n        const inbox = scrollView.parentElement;\n\n        const item = this.items[this.overlayRef.alias];\n        let idx = this.itemsRef.indexOf(item.component.hostView);\n\n        // skip dividers\n        let alias;\n        let viewRef;\n        let panel;\n        while (this.itemsRef.length > idx + 1 && !alias) {\n          viewRef = this.itemsRef.get(idx + 1);\n          panel = viewRef['rootNodes'][0];\n          alias = panel.children[0] ? panel.children[0].id : undefined;\n          if (!alias) {\n            idx++;\n          }\n        }\n\n        if (this.itemsRef.length > idx + 1) {\n          const oldAlias = this.overlayRef.alias;\n\n          this.oldOverlayRef.onEnter(oldAlias, this.items[oldAlias].info);\n          this.oldOverlayRef.elementView.nativeElement.parentElement.classList.add(\n            'animPanel'\n          );\n\n          this.overlayRef.onEnter(alias, this.items[alias].info);\n\n          this.items[alias].component.instance.rate();\n\n          if (this.items[alias].component.instance.visible === false) {\n            this.offsetTop +=\n              inbox.clientHeight / 2 + panel.getBoundingClientRect().height;\n            inbox.scrollTo({ top: this.offsetTop });\n          }\n        } else {\n          this.direction = 1;\n          inbox.scrollTo({ top: inbox.scrollHeight });\n        }\n      }, 200);\n\n      setTimeout(() => {\n        this.oldOverlayRef.elementView.nativeElement.parentElement.classList.remove(\n          'animPanel'\n        );\n      }, 1000);\n    }\n\n    this.rate = evt;\n  }\n\n  updatePage(inbox, isOffset = true): void {\n    if (\n      !this.isSelected &&\n      inbox.scrollTop === 0 &&\n      this.direction === -1 &&\n      !this.isRefreshing &&\n      this.isPull\n    ) {\n      this.isLoading = true;\n      this.progress.mode = 'indeterminate';\n\n      this.isRefreshing = true;\n\n      this.createPage(this.direction).subscribe({\n        complete: () => {\n          if (isOffset && this.offsetTop > 0) {\n            this.touched = false;\n            inbox.scrollTo({ top: this.offsetTop });\n          }\n\n          this.offsetTop = 0;\n          this.isLoading = false;\n          this.progress.mode = 'determine';\n          this.progress.value =\n            (inbox.scrollTop / (inbox.scrollHeight - inbox.clientHeight)) * 100;\n\n          this.isRefreshing = false;\n          this.isRefreshed = isOffset && true;\n        },\n      });\n    } else {\n      if (this.touched) {\n        this.isRefreshed = false;\n      }\n    }\n\n    if (\n      Math.floor(inbox.scrollTop + inbox.offsetHeight + 20) >=\n        inbox.scrollHeight &&\n      this.direction === 1 &&\n      !this.isRefreshing\n    ) {\n      this.isLoading = true;\n      this.progress.mode = 'query';\n\n      this.isRefreshing = true;\n\n      this.createPage(this.direction).subscribe({\n        complete: () => {\n          this.isLoading = false;\n\n          this.progress.mode = 'determine';\n          this.progress.value =\n            (inbox.scrollTop / (inbox.scrollHeight - inbox.clientHeight)) * 100;\n\n          this.isRefreshing = false;\n          this.isRefreshed = isOffset && true;\n\n          this.onRate(this.rate);\n        },\n      });\n    } else {\n      if (this.touched) {\n        this.isRefreshed = false;\n      }\n    }\n    this.progress.value =\n      (inbox.scrollTop / (inbox.scrollHeight - inbox.clientHeight)) * 100;\n  }\n\n  openDialog(idx, alias?, overrideUrl?) {\n    let data;\n    switch (this.actions[idx].type) {\n      case 'list':\n        data = JSON.parse(JSON.stringify(this.actions[idx].data));\n        data.url = overrideUrl;\n        break;\n      case 'add':\n        data = {\n          url:\n            this.actions[idx].url !== undefined\n              ? this.actions[idx].url\n              : this.url,\n          multiple: this.actions[idx].multiple,\n          extra: this.extra,\n          isAdd: true,\n        };\n        break;\n      case 'share':\n        const params = new HttpParams();\n\n        data = JSON.parse(JSON.stringify(this.items[alias].info));\n\n        const shareUrl = data.url.substring(1);\n        data.url = shareUrl.substring(shareUrl.indexOf('/'));\n\n        this.httpService.get(data.url + '/share', params).subscribe({\n          next: (result) => {\n            if (navigator.share) {\n              navigator\n                .share({\n                  title: result['info'].title,\n                  text: result['info'].msg,\n                  url: location.origin + '?xlink=' + result['link'].key,\n                })\n                .then(() => {\n                  console.log('Thanks for sharing!');\n                })\n                .catch(console.error);\n            } else {\n              console.log({\n                title: result['info'].title,\n                text: result['info'].msg,\n                url: location.origin + '?xlink=' + result['link'].key,\n              });\n              alert('Not implemented for desktop!');\n            }\n          },\n          error: (error) => {\n            this.progress.mode = 'determine';\n            this.progress.color = 'warn';\n          },\n          complete: () => {\n            console.log('complete');\n          },\n        });\n        return;\n      case 'popup':\n        data = {\n          url:\n            this.actions[idx].url !== undefined\n              ? this.actions[idx].url\n              : this.url,\n          multiple: this.actions[idx].multiple,\n          selected: this.selectedItems,\n        };\n        break;\n      case 'edit':\n        if (this.items[alias] === undefined) {\n          return;\n        }\n        data = JSON.parse(JSON.stringify(this.items[alias].info));\n\n        const url = data.url.substring(1);\n        data.url = url.substring(url.indexOf('/'));\n        break;\n      case 'route':\n        this.navService.selected = this.actions[idx].selected;\n        this.navService.prevUrl = this.itemUrl;\n        this.router.navigate([this.actions[idx].url]);\n        return;\n      case 'code':\n        if (this.items[alias] === undefined) {\n          return;\n        }\n        data = JSON.parse(JSON.stringify(this.items[alias].info));\n        break;\n      default:\n        data = this.selectedItems;\n    }\n\n    const dialogRef = this.dialog.open(this.actions[idx].component, {\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n      data,\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result !== undefined) {\n        switch (this.actions[idx].type) {\n          case 'filter':\n            break;\n          case 'list':\n            this.reset();\n            break;\n          case 'add':\n            this.reset();\n            break;\n          case 'edit':\n            // update is complex, as you might need to create a new groupKey\n            this.reset();\n            break;\n          case 'attach':\n            break;\n        }\n      }\n    });\n  }\n\n  setting(): void {\n    const dialogRef = this.dialog.open(GroupFilterComponent, {\n      maxWidth: '100vw',\n      maxHeight: '100vh',\n      height: '100%',\n      width: '100%',\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result !== undefined) {\n        let item = result.filter((item) => {\n          return item.name === 'group';\n        })[0];\n        this.step = item.options[item.data[0]].value;\n        this.range = { from: new Date(), to: new Date() };\n\n        this.reset();\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.dialogSub.unsubscribe();\n    this.status.unsubscribe();\n    this.delete.unsubscribe();\n    this.edit.unsubscribe();\n    this.share.unsubscribe();\n    this.clone.unsubscribe();\n    this.code.unsubscribe();\n    this.join.unsubscribe();\n    this.recommend.unsubscribe();\n    this.sub.unsubscribe();\n  }\n\n  numSequence(n: number): Array<number> {\n    return Array(n);\n  }\n\n  ngOnInit(): void {\n    if (this.url === undefined) {\n      let url = this.activatedRoute['_routerState'].snapshot.url;\n      url = url.replace('/base', '');\n\n      this.itemUrl = url;\n\n      url = url.substring(1);\n      url = url.substring(url.indexOf('/'));\n\n      this.url = url;\n    } else {\n      let url = this.activatedRoute['_routerState'].snapshot.url;\n      url = url.replace('/base', '');\n\n      url = url.substring(1);\n      url = url.substring(0, url.indexOf('/'));\n\n      this.itemUrl = '/' + url + this.url;\n    }\n\n    this.sub = this.activatedRoute.data.subscribe((v) => {\n      if (this.actions === undefined) {\n        this.actions = v.actions ? v.actions : new Array();\n      }\n      //this.multiple = v.multiple;\n      this.double = v.double;\n      this.isEvent = v.event;\n      this.group = v.group;\n    });\n\n    // subscribe for DATA channel\n    let inbox = this.itemsRef.element.nativeElement.parentElement.parentElement;\n\n    inbox.addEventListener(\n      'scroll',\n      (e) => {\n        const target = e === undefined ? {} : e.srcElement || e.target;\n        this.scrollTop = target.scrollTop;\n        this.updatePage(target);\n\n        // hide modal - like rate bar\n        if (this.touched) {\n          if (!this.isOverlay) {\n            for (const selectedItem in this.selectedItems) {\n              if (this.selectedItems.hasOwnProperty(selectedItem)) {\n                if (this.selectedItems[selectedItem].component.instance.rated) {\n                  this.selectedItems[selectedItem].component.instance.focus(\n                    false\n                  );\n                  delete this.selectedItems[selectedItem];\n                }\n              }\n            }\n            if (this.rate && this.double) {\n              this.actions.pop();\n            }\n            this.rate = undefined;\n          }\n        }\n      },\n      { passive: true }\n    );\n\n    inbox.addEventListener(\n      'touchstart',\n      (e) => {\n        this.isSelected = false;\n        this._startY = e.touches[0].pageY;\n      },\n      { passive: true }\n    );\n\n    inbox.addEventListener(\n      'touchend',\n      (e) => {\n        this.touched = true;\n        // this.isRefreshing = false;\n      },\n      { passive: true }\n    );\n\n    inbox.addEventListener(\n      'touchmove',\n      (e) => {\n        const y = e.touches[0].pageY;\n        this.direction = y > this._startY ? -1 : 1;\n        this.updatePage(inbox);\n      },\n      { passive: true }\n    );\n\n    this.observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        const id = entry.target.children[0].id;\n        if (this.items[id]) {\n          const component = this.items[id].component;\n          component.instance.show(entry.isIntersecting);\n        }\n      });\n    });\n\n    this.itemFactory = this.resolver.resolveComponentFactory(MsPanel);\n\n    this.direction = 1;\n\n    const url = getUrl(this.activatedRoute.snapshot);\n    this.isAdmin = url.indexOf('admin') !== -1;\n\n    if (!this.isAdmin) {\n      this.progress.mode = 'indeterminate';\n\n      this.httpService\n        .sync()\n        .then(() => {\n          this.updatePage(inbox, false);\n        })\n        .catch((e) => {\n          this.progress.mode = 'determine';\n          this.progress.color = 'warn';\n        });\n    } else {\n      this.updatePage(inbox, false);\n    }\n  }\n\n  createPage(direction: number): Observable<any> {\n    return new Observable((observer) => {\n      let params = new HttpParams();\n\n      if (this.offset !== undefined) {\n        if (this.step === 'm') {\n          let d;\n          if (direction === -1) {\n            d = this.range.from;\n          } else if (direction === 1) {\n            d = this.range.to;\n          }\n\n          let month = d.getMonth();\n          let year = d.getFullYear();\n\n          if (direction === -1) {\n            month = d.getMonth() - 1;\n            if (month < 0) {\n              year = d.getFullYear() - 1;\n              month = 11;\n            }\n\n            this.range.from = new Date(year, month, 1);\n          } else if (direction === 1) {\n            month = d.getMonth() + 1;\n            if (month > 12) {\n              year = d.getFullYear() + 1;\n              month = 1;\n            }\n\n            this.range.to = new Date(year, month, 1);\n          }\n\n          this.offset[0] = new Date(year, month + 1, 1).toISOString();\n        }\n\n        for (const offsetItem of this.offset) {\n          params = params.append('offset', encodeURIComponent(offsetItem));\n        }\n      }\n\n      if (this.step !== undefined) {\n        params = params.set('step', this.step);\n      }\n\n      if (direction !== undefined) {\n        params = params.set('direction', direction.toString());\n      }\n\n      this.httpService.get(this.url, params).subscribe({\n        next: (data) => {\n          if (data['role'] !== undefined && data['role'] !== 'M') {\n            this.actions = this.actions.filter(\n              (action) => action.type !== 'add'\n            );\n          }\n\n          if (data['step'] !== undefined) {\n            this.step = data['step'];\n          }\n\n          if (data['offset']) {\n            this.offset = data['offset'];\n            this.isPull = data['scroll'] !== 1;\n          }\n\n          if (data['values']) {\n            if (this.step !== 'm') {\n              if (direction === -1) {\n                data['values'] = data['values'].reverse();\n              }\n\n              data['values'].forEach((obj, idx) => {\n                this.addToList(direction, obj);\n              });\n            } else {\n              const date = new Date(this.offset[0]);\n\n              const groupKey =\n                date.getFullYear() + ' ' + months[date.getMonth()];\n\n              this.addToTable(direction, groupKey, data['values']);\n            }\n\n            setTimeout(() => {\n              const scrollView =\n                this.itemsRef.element.nativeElement.parentElement;\n              const height = scrollView.getBoundingClientRect().height;\n\n              if (direction) {\n                this.offsetTop = height - this.height;\n              }\n              this.height = height;\n\n              this.progress.mode = 'determine';\n              observer.complete();\n            });\n          }\n        },\n        error: (error) => {\n          if (error && error.key !== undefined) {\n            if (this.navService.locale !== undefined) {\n              const msg = this.navService.locale[error.value];\n              this._snackBar.open(msg, undefined, { duration: 1500 });\n            }\n          }\n\n          this.progress.mode = 'determine';\n          this.progress.color = 'warn';\n        },\n        complete: () => {\n          console.log('complete');\n        },\n      });\n    });\n  }\n\n  private addToTable(direction: number, groupKey, data?: Array<any>) {\n    let items: Array<{\n      id: string;\n      title: string;\n      range: { start: string; end: string };\n      color: string;\n    }> = new Array();\n\n    // tslint:disable-next-line: prefer-for-of\n    for (let i = 0; i < data.length; i++) {\n      const item = this.transformService.transform(\n        data[i],\n        this.url,\n        true,\n        false,\n        true\n      );\n\n      // filter duplicate\n      if (item === undefined || this.items[item.id] !== undefined) {\n        continue;\n      }\n\n      items.push(item);\n    }\n\n    const groupView = this.dividerRef.createEmbeddedView({\n      title: groupKey,\n    });\n\n    const calView = this.calendarRef.createEmbeddedView({\n      data: { id: new Date(groupKey), items },\n    });\n\n    if (direction === -1 || direction === 0) {\n      this.itemsRef.insert(calView, 0);\n      this.itemsRef.insert(groupView, 0);\n    } else if (direction === 1) {\n      this.itemsRef.insert(groupView);\n      this.itemsRef.insert(calView);\n    }\n  }\n\n  private addToList(direction: number, data?) {\n    const item = this.transformService.transform(data, this.itemUrl, true);\n\n    if (this.items.length === 0) {\n      this.extra = item.extra;\n    }\n\n    // filter duplicate\n    if (item === undefined || this.items[item.id] !== undefined) {\n      return;\n    }\n\n    const component = this.itemFactory.create(injector);\n    (component.instance as MsPanel).selectable = this.selectable;\n\n    this.createItemFunction(component);\n\n    let viewRef;\n\n    let groupViewRef;\n    if (item.groupKey !== undefined) {\n      groupViewRef = this.createGroupCmp(item.groupKey, direction);\n    }\n\n    if (direction === -1 || direction === 0) {\n      let viewIdx = 0;\n      if (groupViewRef !== undefined) {\n        viewIdx = this.itemsRef.indexOf(groupViewRef) + 1;\n      }\n      viewRef = this.itemsRef.insert(component.hostView, viewIdx);\n    } else if (direction === 1) {\n      viewRef = this.itemsRef.insert(component.hostView);\n    }\n\n    (component.instance as ILazy).onEnter(item.id, item);\n    this.items[item.id] = { component, info: item };\n\n    this.observer.observe(viewRef.rootNodes[0]);\n  }\n\n  // it can insert anywhere, not only top bottom - as when you add an event,\n  // you don't know whether you are at the end of the list, but you need to scroll down or up to the newly added element\n  private createGroupCmp(key: any, direction: number): EmbeddedViewRef<any> {\n    let viewRef;\n\n    const groupView = this.dividerRef.createEmbeddedView({\n      title: key,\n    });\n\n    if (\n      this.itemsRef.length === 0 ||\n      (direction === -1 && this.rangeDist.from > key)\n    ) {\n      this.rangeDist.from = key;\n      if (this.itemsRef.length === 0) {\n        this.rangeDist.to = key;\n      }\n\n      viewRef = this.itemsRef.insert(groupView, 0);\n    } else if (direction === 1 && this.rangeDist.to < key) {\n      this.rangeDist.to = key;\n\n      viewRef = this.itemsRef.insert(groupView);\n    }\n    return viewRef;\n  }\n\n  private createItemFunction(component: any) {\n    (component.instance as MsPanel).msSelect.subscribe({\n      next: (evt) => {\n        const alreadySelected = this.selectedItems[evt.alias];\n\n        let hasRated = false;\n\n        for (const selectedItem in this.selectedItems) {\n          if (this.selectedItems.hasOwnProperty(selectedItem)) {\n            if (selectedItem !== evt.alias && !this.multiple) {\n              this.selectedItems[selectedItem].component.instance.focus(false);\n              delete this.selectedItems[selectedItem];\n            }\n\n            if (\n              this.multiple &&\n              !hasRated &&\n              this.selectedItems[selectedItem].component.instance.rated\n            ) {\n              hasRated = true;\n            }\n          }\n        }\n\n        if (\n          !alreadySelected ||\n          !alreadySelected.component.instance.selected ||\n          alreadySelected.component.instance.rated\n        ) {\n          this.selectedItems[evt.alias] = this.items[evt.alias];\n          this.selectedItems[evt.alias].component.instance.focus(\n            true,\n            false,\n            true\n          );\n        } else {\n          alreadySelected.component.instance.focus(false);\n          delete this.selectedItems[evt.alias];\n        }\n\n        if (!hasRated) {\n          this.rate = undefined;\n\n          if (this.double) {\n            this.actions.pop();\n          }\n        }\n\n        this.msSelect.emit(this.selectedItems);\n      },\n    });\n\n    (component.instance as MsPanel).msRate.subscribe({\n      next: (evt) => {\n        const alreadySelected = this.selectedItems[evt.alias];\n\n        for (const selectedItem in this.selectedItems) {\n          if (this.selectedItems.hasOwnProperty(selectedItem)) {\n            if (selectedItem !== evt.alias && !this.multiple) {\n              this.selectedItems[selectedItem].component.instance.focus(false);\n              delete this.selectedItems[selectedItem];\n\n              if (this.double) {\n                this.actions.pop();\n              }\n            }\n          }\n        }\n\n        if (\n          !alreadySelected ||\n          !alreadySelected.component.instance.rated ||\n          alreadySelected.component.instance.selected ||\n          evt.always\n        ) {\n          this.selectedItems[evt.alias] = this.items[evt.alias];\n          this.selectedItems[evt.alias].component.instance.focus(\n            true,\n            true,\n            false\n          );\n\n          this.rate = evt.rate - 1;\n\n          if (!evt.always && this.double) {\n            let pairObj = JSON.parse(JSON.stringify(pairRate));\n\n            const url = this.items[evt.alias].info.url.substring(1);\n            const baseUrl = '/' + url.substring(0, url.indexOf('/'));\n\n            pairObj['url'] = baseUrl + '/' + pairObj['url'] + '/' + evt.alias;\n            pairObj['selected'] = this.selectedItems[evt.alias];\n            this.actions.push(pairObj);\n          }\n        } else {\n          alreadySelected.component.instance.focus(false);\n          delete this.selectedItems[evt.alias];\n          this.rate = undefined;\n\n          if (this.double) {\n            this.actions.pop();\n          }\n        }\n      },\n    });\n\n    (component.instance as MsPanel).msEnlarge.subscribe({\n      next: (evt) => {\n        if (evt.enlarged) {\n          this.overlayRef.onEnter(evt.alias, this.items[evt.alias].info);\n          this.overlayRef.show(true, true);\n          this.oldOverlayRef.show(true, true);\n          this.overlayRef.focus(false, evt.rated, false);\n          this.isOverlay = true;\n        } else {\n          this.overlayRef.show(false, false);\n          this.oldOverlayRef.show(false, false);\n          this.isOverlay = false;\n        }\n      },\n    });\n  }\n}\n","<mat-progress-bar\n  [mode]=\"progress.mode\"\n  [value]=\"progress.value\"\n  [color]=\"progress.color\"\n></mat-progress-bar>\n<div\n  class=\"int_scroll\"\n  [ngClass]=\"{'snap' : !isLoading && !isRefreshed && isSelected}\"\n>\n  <mat-icon *ngIf=\"group\" mat-group (click)=\"setting()\">settings</mat-icon>\n  <div class=\"panel_t\">\n    <div class=\"overlay\" *ngIf=\"overlayData\">\n      <ms-panel\n        [alias]=\"overlayData.id\"\n        [data]=\"overlayData\"\n        visible=\"true\"\n        (msRemove)=\"onDelete($event)\"\n        [removable]=\"overlayData.removable !== undefined ? overlayData.removable : true\"\n      ></ms-panel>\n    </div>\n    <ng-container #items></ng-container>\n  </div>\n</div>\n<div class=\"mat-fab-container\">\n  <ng-container *ngFor=\"let action of actions;let idx = index;\">\n    <button\n      *ngIf=\"action.icon !== undefined\"\n      mat-mini-fab\n      [color]=\"action.color ? action.color : 'primary'\"\n      (click)=\"openDialog(idx)\"\n    >\n      <mat-icon>{{action.icon}}</mat-icon>\n    </button>\n  </ng-container>\n</div>\n<div class=\"list_overlay\" [style.visibility]=\"isOverlay ? 'visible' : 'hidden'\">\n  <ms-panel class=\"oldPanel\" #oldOverlay></ms-panel>\n  <ms-panel #overlay></ms-panel>\n</div>\n<!--https://coryrylan.com/blog/build-a-angular-modal-dialog-with-angular-animate-->\n<div class=\"mat-rate-bar\" *ngIf=\"rate !== undefined\">\n  <div *ngFor=\"let n of numSequence(10); let idx = index\">\n    <div\n      mat-button\n      (click)=\"onRate(idx)\"\n      [ngClass]=\"{'mat-button-active' : idx <= rate}\"\n      matRipple\n    >\n      <mat-icon\n        mat-rate\n        [fontSet]=\"idx <= rate ? 'material-icons' : 'material-icons-outlined'\"\n        >star_rate</mat-icon\n      >\n    </div>\n  </div>\n</div>\n<ng-template #divider let-title=\"title\">\n  <div class=\"mat-divider\">&nbsp;&nbsp;{{title}}</div>\n</ng-template>\n<ng-template #calendar let-data=\"data\">\n  <ms-calendar style=\"grid-column: 1 / span 2\" [data]=\"data\"></ms-calendar>\n</ng-template>","<nav *ngIf=\"links && !itemLinks\" mat-tab-nav-bar mat-align-tabs=\"center\">\n  <a\n    mat-tab-link\n    *ngFor=\"let link of links\"\n    [routerLink]=\"link.path\"\n    routerLinkActive\n    #rla=\"routerLinkActive\"\n    [active]=\"rla.isActive\"\n  >\n  <mat-icon *ngIf=\"link.data.icon !== 'person'\"\n      [fontSet]=\"rla.isActive ? 'material-icons' : 'material-icons-outlined'\"\n      [color]=\"rla.isActive ? 'warn' : 'primary'\" [matBadge]=\"navService.notif[link.path]\" matBadgeColor=\"accent\"\n    >\n      {{ link.data.icon }}\n    </mat-icon>\n    <mat-icon *ngIf=\"link.data.icon === 'person'\" [matBadge]=\"navService.groupName\"\n      [fontSet]=\"rla.isActive ? 'material-icons' : 'material-icons-outlined'\"\n      [color]=\"rla.isActive ? 'warn' : 'primary'\"\n    >\n      {{ link.data.icon }}\n    </mat-icon>\n  </a>\n</nav>\n<nav *ngIf=\"links && itemLinks\" mat-tab-nav-bar mat-align-tabs=\"center\">\n  <button mat-icon-button class=\"mat-item\" (click)=\"back()\">\n    <mat-icon>arrow_backward</mat-icon>\n  </button>\n  <div class=\"mat-basket-container-small\" style=\"top: 8px;\">\n    <mat-chip-list>\n      <mat-chip\n        *ngFor=\"let item of items; let idx = index\"\n        (click)=\"onBasket(idx)\" [ngClass]=\"{'ms-active': idx === selectedIdx}\"\n        matRipple\n      >\n        <p *ngIf=\"item.info.imgs && item.info.imgs[0]\" style=\"width: 40px;\">{{ item.info.header ? item.info.name : '' }}</p>\n        <p *ngIf=\"!item.info.imgs || !item.info.imgs[0]\">{{ item.info.header ? item.info.name : '' }}</p>\n        <mat-chip-avatar *ngIf=\"item.info.imgs && item.info.imgs[0]\"><img [src]=\"item.info.imgs[0]\"/></mat-chip-avatar>\n      </mat-chip>\n    </mat-chip-list>\n  </div>\n  <a\n    mat-tab-link\n    *ngFor=\"let link of itemLinks\"\n    [routerLink]=\"link.path\"\n    routerLinkActive\n    #rla=\"routerLinkActive\"\n    [active]=\"rla.isActive\"\n  >\n    <mat-icon\n      [fontSet]=\"rla.isActive ? 'material-icons' : 'material-icons-outlined'\"\n      [color]=\"rla.isActive ? 'warn' : 'primary'\" [matBadge]=\"navService.notif[link.path]\" matBadgeColor=\"accent\"\n    >\n      {{ link.data.icon }}\n    </mat-icon>\n  </a>\n</nav>\n<div\n  [ngStyle]=\"{\n    position: 'relative',\n    height: links\n      ? 'calc(100vh - ' + (subLinks ? '98px' : '49px') + ')'\n      : '100vh'\n  }\"\n  [@routeAnimations]=\"prepareRoute(outlet)\"\n>\n  <router-outlet #outlet=\"outlet\"></router-outlet>\n</div>\n<nav *ngIf=\"links && subLinks\" mat-tab-nav-bar mat-align-tabs=\"center\" class=\"mat-tab-footer\">\n  <a\n    mat-tab-link\n    *ngFor=\"let link of subLinks\"\n    [routerLink]=\"link.path\"\n    routerLinkActive\n    #rla=\"routerLinkActive\"\n    [active]=\"rla.isActive\"\n  >\n    <mat-icon\n      [fontSet]=\"rla.isActive ? 'material-icons' : 'material-icons-outlined'\"\n      [color]=\"rla.isActive ? 'warn' : 'primary'\" [matBadge]=\"navService.notif[link.path]\" matBadgeColor=\"accent\"\n    >\n      {{ link.data.icon }}\n    </mat-icon>\n  </a>\n</nav>\n\n<div\n  class=\"fb-customerchat\"\n  attribution=\"setup_tool\"\n  page_id=\"106303131653978\"\n></div>\n","import {\n  AfterViewInit,\n  Component,\n  HostListener,\n  NgZone,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport {\n  ActivatedRoute,\n  ChildActivationStart,\n  Event,\n  Params,\n  Router,\n  RouterOutlet,\n} from '@angular/router';\nimport { SwPush, SwUpdate } from '@angular/service-worker';\nimport firebase from 'firebase/app';\nimport 'firebase/messaging';\nimport { FacebookService, InitParams } from 'ngx-facebook';\nimport { environment } from 'src/environments/environment';\nimport { slideInAnimation } from './animation';\nimport { NavigationService } from './navigation.service';\nimport { HttpService } from './services/http.service';\nimport { ListService } from './services/list.service';\n\n// pdf js file upload\n// https://codepen.io/Shiyou/pen/JNLwVO?html-preprocessor=pug\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  animations: [\n    slideInAnimation,\n    // animation triggers go here\n  ],\n})\nexport class AppComponent implements OnInit, OnDestroy, AfterViewInit {\n  prevUrl: any;\n  links: any;\n  itemLinks: any;\n  subLinks: any;\n  basePath: any;\n\n  items: Array<any> = new Array();\n  itemKeys: Array<any> = new Array();\n\n  selectedIdx: any;\n  overlayData: any;\n\n  timer: any;\n\n  /*\n    openSnackBar(item: any, action: string) {\n    let snack = this._snackBar.open(item.idx, action, {\n      verticalPosition: 'top',\n    });\n\n    snack.afterDismissed().subscribe(() => {\n      item.callback('auuuu');\n    });\n  }*/\n\n  private initFacebookService(): void {\n    const initParams: InitParams = { xfbml: true, version: 'v10.0' };\n    this.facebookService.init(initParams);\n  }\n\n  constructor(\n    private router: Router,\n    private zone: NgZone,\n    private navService: NavigationService,\n    private updates: SwUpdate,\n    private push: SwPush,\n    private httpService: HttpService,\n    private facebookService: FacebookService,\n    private activatedRoute: ActivatedRoute,\n    private listService: ListService,\n    private domSanitizer: DomSanitizer\n  ) {\n    // this.initFacebookService();\n\n    this.activatedRoute.queryParams.subscribe((params: Params) => {\n      if (params['xlink'] !== undefined) {\n        const regex =\n          /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n        if (regex.test(params['xlink'])) {\n          this.navService.xlink = params['xlink'];\n        }\n      }\n    });\n\n    this.navService.reset.subscribe(() => {\n      this.prevUrl = undefined;\n      this.links = undefined;\n      this.itemLinks = undefined;\n      this.subLinks = undefined;\n      this.basePath = undefined;\n    });\n    this.navService.online.next({ online: navigator.onLine });\n  }\n  ngAfterViewInit(): void {}\n\n  @HostListener('window:online', ['$event'])\n  @HostListener('window:offline', ['$event'])\n  online(evt): void {\n    this.navService.online.next({ online: evt.type === 'online' });\n  }\n\n  ngOnInit(): void {\n    navigator.geolocation.getCurrentPosition((position) => {\n      this.navService.pos = [\n        position.coords.longitude,\n        position.coords.latitude,\n      ];\n    });\n\n    if (this.navService.locale === undefined) {\n      this.httpService.get('/messages').subscribe({\n        next: (value) => {\n          const evt = value['msg'];\n\n          if (evt['expl.videos']) {\n            evt['expl.videos'] = evt['expl.videos'].map((video) =>\n              this.domSanitizer.bypassSecurityTrustResourceUrl(video)\n            );\n          }\n\n          this.navService.locale = evt;\n        },\n        error: (error) => {\n          console.log('Server is down!');\n        },\n        complete: () => {},\n      });\n    }\n\n    this.router.events.subscribe((routerEvent: Event) => {\n      if (routerEvent instanceof ChildActivationStart) {\n        const routeConfig = routerEvent.snapshot.routeConfig;\n\n        const url = routerEvent.snapshot['_routerState'].url;\n\n        if (routeConfig) {\n          if (routeConfig.children) {\n            let baseUrl: string;\n            if (routeConfig.data.type === 'P') {\n              const rootPath = routeConfig.path.replace('/:id', '');\n              const urlParts = url.split(rootPath);\n              baseUrl = urlParts[0] + rootPath;\n            } else {\n              let startIdx = 0;\n              if (url.indexOf('/') === 0) {\n                startIdx = 1;\n              }\n              baseUrl = url.substr(startIdx, url.lastIndexOf('/') - 1);\n            }\n\n            const links = routeConfig.children\n              .filter(\n                (route) => route.redirectTo === undefined && !route.data.dialog\n              )\n              .map((route) => ({\n                path:\n                  baseUrl +\n                  '/' +\n                  (routeConfig.data.type === 'P'\n                    ? route.path.replace(':id', this.navService.profileId)\n                    : route.path),\n                data: route.data,\n              }));\n\n            if (routeConfig.path.indexOf(':id') !== -1) {\n              this.prevUrl =\n                this.navService.prevUrl !== undefined\n                  ? this.navService.prevUrl\n                  : baseUrl.substr(0, baseUrl.lastIndexOf('/'));\n              this.itemLinks = links;\n              this.subLinks = undefined;\n\n              if (this.navService.selected !== undefined) {\n                if (\n                  this.itemKeys[this.navService.selected['info'].id] ===\n                  undefined\n                ) {\n                  this.items.push(this.navService.selected);\n                  this.itemKeys[this.navService.selected['info'].id] = true;\n                }\n              }\n            } else {\n              if(links.length === 1 && links[0].data.icon === undefined) {\n                this.subLinks = undefined;\n              } else {\n                this.subLinks = links;\n              }\n            }\n          } else if (routeConfig.loadChildren) {\n            this.links = routeConfig['_loadedConfig'].routes\n              .filter(\n                (route) => route.redirectTo === undefined && !route.data.dialog\n              )\n              .map((route) => ({\n                path:\n                  routeConfig.path +\n                  '/' +\n                  route.path +\n                  (route.data.type === 'P'\n                    ? '/' + this.navService.profileId\n                    : ''),\n                data: route.data,\n              }));\n\n            this.subLinks = undefined;\n          }\n        } else {\n          this.subLinks = undefined;\n        }\n      }\n    });\n\n    this.updates.available.subscribe((_) =>\n      this.updates.activateUpdate().then(() => {\n        console.log('reload for update');\n        document.location.reload();\n      })\n    );\n\n    this.push.notificationClicks.subscribe((click) =>\n      console.log('notification click', click)\n    );\n\n    if (firebase.apps.length === 0) {\n      firebase.initializeApp(environment.firebase);\n\n      firebase.auth().onIdTokenChanged((user) => {\n        if (user) {\n          user\n            .getIdToken()\n            .then((token) => {\n              this.navService.token = token;\n            })\n            .catch((error) => {});\n\n          if (this.timer !== undefined) {\n            clearInterval(this.timer);\n          }\n\n          this.timer = setInterval(() => {\n            const currentUser = firebase.auth().currentUser;\n            currentUser\n              .getIdToken()\n              .then((token) => {\n                this.navService.token = token;\n              })\n              .catch((error) => {});\n          }, 25 * 60 * 1000);\n        }\n      });\n\n      firebase.auth().onAuthStateChanged((user) => {\n        if (user) {\n          console.log('user-logged');\n\n          user\n            .getIdToken()\n            .then((token) => {\n              this.navService.token = token;\n\n              this.httpService.get('/user').subscribe({\n                next: (value) => {\n                  this.msg().then((x) => {\n                    console.log('Messaging initialized!');\n                  });\n\n                  const group = value['user'].group;\n                  const groups = value['groups'];\n\n                  let groupType;\n                  for (const item of groups) {\n                    if (item.group.key === group) {\n                      groupType = environment.groupTypes[item.group.type];\n                      this.navService.groupName = item.group.name[0];\n                      this.navService.groupType = item.group.type;\n                      break;\n                    }\n                  }\n\n                  const notif = {};\n                  for (const like of value['likes']) {\n                    notif[groupType + '/' + like.root] = like.value;\n                  }\n                  this.navService.notif = notif;\n\n                  if (\n                    value['user'].profile === undefined ||\n                    value['user'].profile.status === 'I'\n                  ) {\n                    this.router.navigate([groupType + '/user']);\n                  } else {\n                    this.router.navigate([groupType]);\n                  }\n                },\n                error: (err) => {\n                  this.router.navigate(['dating/user']);\n                },\n              });\n\n              // this.zone.run(() => {\n              //  this.router.navigate(['dating']);\n              // });\n            })\n            .catch((error) => {});\n        } else {\n          if (this.timer !== undefined) {\n            clearInterval(this.timer);\n          }\n\n          console.log('user-not-logged');\n          this.navService.token = undefined;\n          this.router.navigate(['login']);\n        }\n      });\n    }\n\n    // this.router.navigate(['test']);\n  }\n\n  async msg() {\n    const registration = await navigator.serviceWorker.ready;\n\n    firebase.messaging().onMessage((msg) => {\n      console.log(msg);\n    });\n\n    firebase\n      .messaging()\n      .getToken({\n        vapidKey: environment.vapid,\n        serviceWorkerRegistration: registration,\n      })\n      .then((currentToken) => {\n        if (currentToken) {\n          this.httpService\n            .post('/tokens', { deviceKey: currentToken })\n            .subscribe({\n              next: (value) => {\n                console.log(value);\n              },\n              error: (err) => {\n                console.log('Token registration error!');\n              },\n            });\n        } else {\n          console.log(\n            'No registration token available. Request permission to generate one.'\n          );\n        }\n      })\n      .catch((err) => {\n        console.log('An error occurred while retrieving token. ', err);\n      });\n  }\n\n  ngOnDestroy(): void {}\n\n  back(): void {\n    this.items = new Array();\n    this.itemKeys = new Array();\n\n    this.navService.selected = undefined;\n\n    this.itemLinks = undefined;\n    const prevUrl =\n      this.navService.prevUrl !== undefined\n        ? this.navService.prevUrl\n        : this.prevUrl;\n    this.navService.prevUrl = undefined;\n    this.router.navigate([prevUrl]);\n  }\n\n  prepareRoute(outlet: RouterOutlet) {\n    return (\n      outlet && outlet.activatedRouteData && outlet.activatedRouteData.animation\n    );\n  }\n\n  onBasket(idx) {\n    if (idx === this.selectedIdx) {\n      this.selectedIdx = undefined;\n      this.overlayData = undefined;\n    } else {\n      this.selectedIdx = idx;\n      this.overlayData = this.items[idx].info;\n    }\n\n    if (this.overlayData) {\n      this.overlayData.removable = false;\n    }\n\n    this.listService.overlay.emit(this.overlayData);\n  }\n}\n","import { EventEmitter, Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ListService {\n  private _edit: EventEmitter<any> = new EventEmitter();\n  private _remove: EventEmitter<any> = new EventEmitter();\n  private _add: EventEmitter<any> = new EventEmitter();\n  private _move: EventEmitter<any> = new EventEmitter();\n  private _code: EventEmitter<any> = new EventEmitter();\n  private _share: EventEmitter<any> = new EventEmitter();\n  private _overlay: EventEmitter<any> = new EventEmitter();\n  private _status: EventEmitter<any> = new EventEmitter();\n\n  private _clone: EventEmitter<any> = new EventEmitter();\n\n  private _join: EventEmitter<any> = new EventEmitter();\n\n  private _dialog: EventEmitter<any> = new EventEmitter();\n\n  private _refresh: EventEmitter<any> = new EventEmitter();\n\n  private _recommend: EventEmitter<any> = new EventEmitter();\n\n  private _delete: EventEmitter<any> = new EventEmitter();\n\n  constructor() {}\n\n  get edit(): EventEmitter<any> {\n    return this._edit;\n  }\n\n  get share(): EventEmitter<any> {\n    return this._share;\n  }\n\n  get clone(): EventEmitter<any> {\n    return this._clone;\n  }\n\n  get join(): EventEmitter<any> {\n    return this._join;\n  }\n\n  get status(): EventEmitter<any> {\n    return this._status;\n  }\n\n  get remove(): EventEmitter<any> {\n    return this._remove;\n  }\n\n  get move(): EventEmitter<any> {\n    return this._move;\n  }\n\n  get add(): EventEmitter<any> {\n    return this._add;\n  }\n\n  get code(): EventEmitter<any> {\n    return this._code;\n  }\n\n  get overlay(): EventEmitter<any> {\n    return this._overlay;\n  }\n\n  get dialog(): EventEmitter<any> {\n    return this._dialog;\n  }\n\n  get refresh(): EventEmitter<any> {\n    return this._refresh;\n  }\n\n  get recommend(): EventEmitter<any> {\n    return this._recommend;\n  }\n\n  get delete(): EventEmitter<any> {\n    return this._delete;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\n\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { RouteReuseStrategy } from '@angular/router';\nimport { CustomRouteReuseStrategy } from './app-routing.strategy';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FacebookModule } from 'ngx-facebook';\n\nimport { MsMenu, MsFrame, SvgLoad } from '../lib';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatChipsModule } from '@angular/material/chips';\n\n@NgModule({\n  declarations: [AppComponent, LoginComponent, MsMenu, MsFrame, SvgLoad],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    AppRoutingModule,\n    MatIconModule,\n    MatTabsModule,\n    MatSnackBarModule,\n    MatBadgeModule,\n    MatButtonModule,\n    MatCardModule,\n    MatChipsModule,\n    HttpClientModule,\n    ServiceWorkerModule.register('ngsw-worker.js', {\n      enabled: environment.production,\n      // Register the ServiceWorker as soon as the app is stable\n      // or after 30 seconds (whichever comes first).\n      registrationStrategy: 'registerWhenStable:30000',\n    }),\n    FacebookModule.forRoot(),\n  ],\n  bootstrap: [AppComponent],\n  /*providers: [\n    {\n      provide: RouteReuseStrategy,\n      useClass: CustomRouteReuseStrategy,\n    },\n  ],*/\n})\nexport class AppModule {}\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'ms-dialog',\n  templateUrl: 'index.html',\n})\nexport class MsDialog {\n  constructor(\n    public dialogRef: MatDialogRef<MsDialog>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {}\n\n  onClick(val): void {\n    this.dialogRef.close(val);\n  }\n}\n","<h1 mat-dialog-title>Warning!</h1>\n<div mat-dialog-content class=\"mat-confirm\">\n  <p>{{data.msg}}</p>\n</div>\n<div mat-dialog-actions>\n  <button mat-raised-button color=\"primary\" cdkFocusInitial (click)=\"onClick(false)\">No</button>\n  <button mat-raised-button color=\"warn\" (click)=\"onClick(true)\">{{data.btn}}</button>\n</div>","import { HttpParams } from '@angular/common/http';\nimport { Component, Inject, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavigationService } from 'src/app/navigation.service';\nimport { DataService } from 'src/app/services/data.service';\nimport { HttpService } from 'src/app/services/http.service';\n\ninterface Option {\n  value: string;\n  viewValue: string;\n}\n\n// distance bar also, not just calendar bar\n\n@Component({\n  selector: 'app-group-filter',\n  templateUrl: './group-filter.component.html',\n})\nexport class GroupFilterComponent implements OnInit {\n  formGroup: FormGroup;\n\n  progress: any = { mode: 'determine', value: 0, color: 'primary' };\n\n  url: any;\n\n  key: any;\n\n  setting: any;\n\n  constructor(\n    private fb: FormBuilder,\n    public dialogRef: MatDialogRef<GroupFilterComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private dataService: DataService,\n    private activatedRoute: ActivatedRoute,\n    private httpService: HttpService,\n    private navService: NavigationService\n  ) {\n    this.url = '/user/settings';\n\n    let actionUrl = this.activatedRoute['_routerState'].snapshot.url.replace(\n      '/base',\n      ''\n    );\n\n    actionUrl = actionUrl.substring(1);\n    this.key = actionUrl.substring(actionUrl.indexOf('/'));\n  }\n\n  onData(key, evt): void {\n    this.formGroup.controls[key].setValue(evt.value);\n  }\n\n  ngOnInit(): void {\n    let params = new HttpParams();\n    params = params.set('key', this.key);\n\n    this.httpService.get(this.url, params).subscribe({\n      next: (result) => {\n        let formGroup = new FormGroup({});\n\n        this.setting = result;\n        this.setting.items.map((item) => {\n          switch (item.type) {\n            case 'os':\n              formGroup.addControl(item.name, new FormControl([...item.data]));\n            default:\n          }\n        });\n\n        this.formGroup = formGroup;\n      },\n      error: (error) => {\n        this.progress.mode = 'determine';\n        this.progress.color = 'warn';\n      },\n      complete: () => {\n        console.log('complete');\n      },\n    });\n  }\n\n  onClick(): void {\n    if (this.formGroup.valid) {\n      let raw = this.formGroup.getRawValue();\n\n      let items = this.setting.items.map((item) => {\n        if (raw[item.name] instanceof Array) {\n          item.data = [...raw[item.name]];\n        } else {\n          item.data = [raw[item.name]];\n        }\n        return item;\n      });\n\n      this.setting.items = items;\n\n      let params = new HttpParams();\n      params = params.set('key', this.key);\n\n      this.httpService.save(this.url, this.setting, params).subscribe({\n        next: (result) => {\n          this.dialogRef.close(result['items']);\n        },\n        error: (error) => {\n          this.progress.mode = 'determine';\n          this.progress.color = 'warn';\n        },\n        complete: () => {\n          this.progress.mode = 'determine';\n        },\n      });\n    }\n  }\n\n  back(): void {\n    this.dialogRef.close();\n  }\n}\n","<h1 mat-dialog-title>\n  <button mat-icon-button class=\"mat-cancel\" (click)=\"back()\">\n    <mat-icon>arrow_backward</mat-icon>\n  </button>\n  &nbsp;\n  <button mat-icon-button class=\"mat-close\" (click)=\"onClick()\">\n    <mat-icon>done</mat-icon>\n  </button>\n</h1>\n<mat-progress-bar\n  [mode]=\"progress.mode\"\n  [value]=\"progress.value\"\n  [color]=\"progress.color\"\n></mat-progress-bar>\n<div mat-dialog-content class=\"mat-form\">\n  <form default [formGroup]=\"formGroup\" *ngIf=\"formGroup\">\n    <fieldset *ngFor=\"let item of setting.items\">\n      <legend>{{item.name}}</legend>\n      <div legend-right>{{ item.options[formGroup.controls[item.name].value].viewValue }}</div>\n      <mat-slider\n        min=\"0\"\n        [max]=\"item.options.length - 1\"\n        [formControlName]=\"item.name\"\n        (input)=\"onData(item.name, $event)\"\n      ></mat-slider>\n    </fieldset>\n  </form>\n</div>\n","import { pathOrders } from \"./types\";\r\n\r\nconst length: { [key in pathOrders]: number } = {\r\n  a: 7,\r\n  c: 6,\r\n  h: 1,\r\n  l: 2,\r\n  m: 2,\r\n  q: 4,\r\n  s: 4,\r\n  t: 2,\r\n  v: 1,\r\n  z: 0\r\n};\r\nconst segmentRegExp = /([astvzqmhlc])([^astvzqmhlc]*)/gi;\r\nconst numberRegExp = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/gi;\r\n\r\nexport default (path: string) => {\r\n  const segments = (path && path.length > 0 ? path : \"M0,0\").match(segmentRegExp);\r\n  if (!segments) {\r\n    throw new Error(`No path elements found in string ${path}`);\r\n  }\r\n  return segments.reduce((segmentsArray: [string, ...Array<number>][], segmentString: string) => {\r\n    let command = segmentString.charAt(0);\r\n    let type: pathOrders = command.toLowerCase() as pathOrders;\r\n    const args = parseValues(segmentString.substr(1));\r\n\r\n    // overloaded moveTo\r\n    if (type === \"m\" && args.length > 2) {\r\n      segmentsArray.push([command, ...args.splice(0, 2)]);\r\n      type = \"l\";\r\n      command = command === \"m\" ? \"l\" : \"L\";\r\n    }\r\n\r\n    while (args.length >= 0) {\r\n      if (args.length === length[type]) {\r\n        segmentsArray.push([command, ...args.splice(0, length[type])]);\r\n        break;\r\n      }\r\n      if (args.length < length[type]) {\r\n        throw new Error(\r\n          `Malformed path data: \"${command}\" must have ${length[type]} elements and has ${args.length}: ${segmentString}`\r\n        );\r\n      }\r\n      segmentsArray.push([command, ...args.splice(0, length[type])]);\r\n    }\r\n\r\n    return segmentsArray;\r\n  }, []);\r\n};\r\n\r\nconst parseValues = (args: string) => {\r\n  const numbers = args.match(numberRegExp);\r\n  return numbers ? numbers.map(Number) : [];\r\n};\r\n","export * from './interpolate';\nexport * from './segment';","import {\n  ActivatedRouteSnapshot,\n  DetachedRouteHandle,\n  RouteReuseStrategy\n} from '@angular/router';\n\nexport function getUrl(route: ActivatedRouteSnapshot): string {\n  if (route['_routerState']) {\n    return route['_routerState'].url;\n  }\n}\nexport class CustomRouteReuseStrategy implements RouteReuseStrategy {\n  private handlers: { [key: string]: DetachedRouteHandle } = {};\n\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    if (!route.routeConfig || route.routeConfig.children || route.routeConfig.loadChildren) {\n      return false;\n    }\n    let shouldReuse = false;\n    console.log(\n      '[router-reuse] checking if this route should be re used or not',\n      route\n    );\n    if (route.routeConfig.data) {\n      route.routeConfig.data.reuse\n        ? (shouldReuse = true)\n        : (shouldReuse = false);\n    }\n\n    return shouldReuse;\n  }\n\n  store(\n    route: ActivatedRouteSnapshot,\n    handler: DetachedRouteHandle | null\n  ): void {\n    console.log('[router-reuse] storing handler');\n    if (handler) {\n      this.handlers[getUrl(route)] = handler;\n    }\n  }\n\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    return !!route.routeConfig && !!this.handlers[getUrl(route)];\n  }\n\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\n    if (!route.routeConfig || route.routeConfig.children || route.routeConfig.loadChildren) {\n      return null;\n    }\n    return this.handlers[getUrl(route)]\n      ? this.handlers[getUrl(route)]\n      : null;\n  }\n\n  shouldReuseRoute(\n    future: ActivatedRouteSnapshot,\n    curr: ActivatedRouteSnapshot\n  ): boolean {\n    if (curr.routeConfig === null) {\n      return true;\n    }\n    return future.data.reuse && future.routeConfig === curr.routeConfig;\n  }\n}\n","import SVGPathProperties from \"./svg-path-properties\";\r\n\r\n//https://stackoverflow.com/a/48362715/1086633\r\nclass _svgPathProperties {\r\n  inst: SVGPathProperties;\r\n\r\n  constructor(svgPath: string) {\r\n    this.inst = new SVGPathProperties(svgPath);\r\n    if (!(this instanceof svgPathProperties)) {\r\n      return new svgPathProperties(svgPath);\r\n    }\r\n  }\r\n\r\n  public getTotalLength = () => this.inst.getTotalLength();\r\n  public getPointAtLength = (fractionLength: number) =>\r\n    this.inst.getPointAtLength(fractionLength);\r\n  public getTangentAtLength = (fractionLength: number) =>\r\n    this.inst.getTangentAtLength(fractionLength);\r\n  public getPropertiesAtLength = (fractionLength: number) =>\r\n    this.inst.getPropertiesAtLength(fractionLength);\r\n  public getParts = () => this.inst.getParts();\r\n}\r\ntype svgPathProperties = _svgPathProperties;\r\nexport const svgPathProperties = _svgPathProperties as typeof _svgPathProperties &\r\n  ((val: string) => svgPathProperties);\r\n","import parse from \"./parse\";\r\nimport { PointArray, Properties, PartProperties, Point } from \"./types\";\r\nimport { LinearPosition } from \"./linear\";\r\nimport { Arc } from \"./arc\";\r\nimport { Bezier } from \"./bezier\";\r\n\r\nexport default class SVGPathProperties implements Properties {\r\n  private length: number = 0;\r\n  private partial_lengths: number[] = [];\r\n  private functions: (null | Properties)[] = [];\r\n  private initial_point: null | Point = null;\r\n  constructor(string: string) {\r\n    const parsed = parse(string);\r\n    let cur: PointArray = [0, 0];\r\n    let prev_point: PointArray = [0, 0];\r\n    let curve: Bezier | undefined;\r\n    let ringStart: PointArray = [0, 0];\r\n    for (let i = 0; i < parsed.length; i++) {\r\n      //moveTo\r\n      if (parsed[i][0] === \"M\") {\r\n        cur = [parsed[i][1], parsed[i][2]];\r\n        ringStart = [cur[0], cur[1]];\r\n        this.functions.push(null);\r\n        if (i === 0) {\r\n          this.initial_point = { x: parsed[i][1], y: parsed[i][2] };\r\n        }\r\n      } else if (parsed[i][0] === \"m\") {\r\n        cur = [parsed[i][1] + cur[0], parsed[i][2] + cur[1]];\r\n        ringStart = [cur[0], cur[1]];\r\n        this.functions.push(null);\r\n        //lineTo\r\n      } else if (parsed[i][0] === \"L\") {\r\n        this.length += Math.sqrt(\r\n          Math.pow(cur[0] - parsed[i][1], 2) + Math.pow(cur[1] - parsed[i][2], 2)\r\n        );\r\n        this.functions.push(new LinearPosition(cur[0], parsed[i][1], cur[1], parsed[i][2]));\r\n        cur = [parsed[i][1], parsed[i][2]];\r\n      } else if (parsed[i][0] === \"l\") {\r\n        this.length += Math.sqrt(Math.pow(parsed[i][1], 2) + Math.pow(parsed[i][2], 2));\r\n        this.functions.push(\r\n          new LinearPosition(cur[0], parsed[i][1] + cur[0], cur[1], parsed[i][2] + cur[1])\r\n        );\r\n        cur = [parsed[i][1] + cur[0], parsed[i][2] + cur[1]];\r\n      } else if (parsed[i][0] === \"H\") {\r\n        this.length += Math.abs(cur[0] - parsed[i][1]);\r\n        this.functions.push(new LinearPosition(cur[0], parsed[i][1], cur[1], cur[1]));\r\n        cur[0] = parsed[i][1];\r\n      } else if (parsed[i][0] === \"h\") {\r\n        this.length += Math.abs(parsed[i][1]);\r\n        this.functions.push(new LinearPosition(cur[0], cur[0] + parsed[i][1], cur[1], cur[1]));\r\n        cur[0] = parsed[i][1] + cur[0];\r\n      } else if (parsed[i][0] === \"V\") {\r\n        this.length += Math.abs(cur[1] - parsed[i][1]);\r\n        this.functions.push(new LinearPosition(cur[0], cur[0], cur[1], parsed[i][1]));\r\n        cur[1] = parsed[i][1];\r\n      } else if (parsed[i][0] === \"v\") {\r\n        this.length += Math.abs(parsed[i][1]);\r\n        this.functions.push(new LinearPosition(cur[0], cur[0], cur[1], cur[1] + parsed[i][1]));\r\n        cur[1] = parsed[i][1] + cur[1];\r\n        //Close path\r\n      } else if (parsed[i][0] === \"z\" || parsed[i][0] === \"Z\") {\r\n        this.length += Math.sqrt(\r\n          Math.pow(ringStart[0] - cur[0], 2) + Math.pow(ringStart[1] - cur[1], 2)\r\n        );\r\n        this.functions.push(new LinearPosition(cur[0], ringStart[0], cur[1], ringStart[1]));\r\n        cur = [ringStart[0], ringStart[1]];\r\n        //Cubic Bezier curves\r\n      } else if (parsed[i][0] === \"C\") {\r\n        curve = new Bezier(\r\n          cur[0],\r\n          cur[1],\r\n          parsed[i][1],\r\n          parsed[i][2],\r\n          parsed[i][3],\r\n          parsed[i][4],\r\n          parsed[i][5],\r\n          parsed[i][6]\r\n        );\r\n        this.length += curve.getTotalLength();\r\n        cur = [parsed[i][5], parsed[i][6]];\r\n        this.functions.push(curve);\r\n      } else if (parsed[i][0] === \"c\") {\r\n        curve = new Bezier(\r\n          cur[0],\r\n          cur[1],\r\n          cur[0] + parsed[i][1],\r\n          cur[1] + parsed[i][2],\r\n          cur[0] + parsed[i][3],\r\n          cur[1] + parsed[i][4],\r\n          cur[0] + parsed[i][5],\r\n          cur[1] + parsed[i][6]\r\n        );\r\n        if (curve.getTotalLength() > 0) {\r\n          this.length += curve.getTotalLength();\r\n          this.functions.push(curve);\r\n          cur = [parsed[i][5] + cur[0], parsed[i][6] + cur[1]];\r\n        } else {\r\n          this.functions.push(new LinearPosition(cur[0], cur[0], cur[1], cur[1]));\r\n        }\r\n      } else if (parsed[i][0] === \"S\") {\r\n        if (i > 0 && [\"C\", \"c\", \"S\", \"s\"].indexOf(parsed[i - 1][0]) > -1) {\r\n          if (curve) {\r\n            const c = curve.getC();\r\n            curve = new Bezier(\r\n              cur[0],\r\n              cur[1],\r\n              2 * cur[0] - c.x,\r\n              2 * cur[1] - c.y,\r\n              parsed[i][1],\r\n              parsed[i][2],\r\n              parsed[i][3],\r\n              parsed[i][4]\r\n            );\r\n          }\r\n        } else {\r\n          curve = new Bezier(\r\n            cur[0],\r\n            cur[1],\r\n            cur[0],\r\n            cur[1],\r\n            parsed[i][1],\r\n            parsed[i][2],\r\n            parsed[i][3],\r\n            parsed[i][4]\r\n          );\r\n        }\r\n        if (curve) {\r\n          this.length += curve.getTotalLength();\r\n          cur = [parsed[i][3], parsed[i][4]];\r\n          this.functions.push(curve);\r\n        }\r\n      } else if (parsed[i][0] === \"s\") {\r\n        //240 225\r\n        if (i > 0 && [\"C\", \"c\", \"S\", \"s\"].indexOf(parsed[i - 1][0]) > -1) {\r\n          if (curve) {\r\n            const c = curve.getC();\r\n            const d = curve.getD();\r\n            curve = new Bezier(\r\n              cur[0],\r\n              cur[1],\r\n              cur[0] + d.x - c.x,\r\n              cur[1] + d.y - c.y,\r\n              cur[0] + parsed[i][1],\r\n              cur[1] + parsed[i][2],\r\n              cur[0] + parsed[i][3],\r\n              cur[1] + parsed[i][4]\r\n            );\r\n          }\r\n        } else {\r\n          curve = new Bezier(\r\n            cur[0],\r\n            cur[1],\r\n            cur[0],\r\n            cur[1],\r\n            cur[0] + parsed[i][1],\r\n            cur[1] + parsed[i][2],\r\n            cur[0] + parsed[i][3],\r\n            cur[1] + parsed[i][4]\r\n          );\r\n        }\r\n        if (curve) {\r\n          this.length += curve.getTotalLength();\r\n          cur = [parsed[i][3] + cur[0], parsed[i][4] + cur[1]];\r\n          this.functions.push(curve);\r\n        }\r\n      }\r\n      //Quadratic Bezier curves\r\n      else if (parsed[i][0] === \"Q\") {\r\n        if (cur[0] == parsed[i][1] && cur[1] == parsed[i][2]) {\r\n          let linearCurve = new LinearPosition(\r\n            parsed[i][1],\r\n            parsed[i][3],\r\n            parsed[i][2],\r\n            parsed[i][4]\r\n          );\r\n          this.length += linearCurve.getTotalLength();\r\n          this.functions.push(linearCurve);\r\n        } else {\r\n          curve = new Bezier(\r\n            cur[0],\r\n            cur[1],\r\n            parsed[i][1],\r\n            parsed[i][2],\r\n            parsed[i][3],\r\n            parsed[i][4],\r\n            undefined,\r\n            undefined\r\n          );\r\n          this.length += curve.getTotalLength();\r\n          this.functions.push(curve);\r\n        }\r\n\r\n        cur = [parsed[i][3], parsed[i][4]];\r\n        prev_point = [parsed[i][1], parsed[i][2]];\r\n      } else if (parsed[i][0] === \"q\") {\r\n        if (!(parsed[i][1] == 0 && parsed[i][2] == 0)) {\r\n          curve = new Bezier(\r\n            cur[0],\r\n            cur[1],\r\n            cur[0] + parsed[i][1],\r\n            cur[1] + parsed[i][2],\r\n            cur[0] + parsed[i][3],\r\n            cur[1] + parsed[i][4],\r\n            undefined,\r\n            undefined\r\n          );\r\n          this.length += curve.getTotalLength();\r\n          this.functions.push(curve);\r\n        } else {\r\n          let linearCurve = new LinearPosition(\r\n            cur[0] + parsed[i][1],\r\n            cur[0] + parsed[i][3],\r\n            cur[1] + parsed[i][2],\r\n            cur[1] + parsed[i][4]\r\n          );\r\n          this.length += linearCurve.getTotalLength();\r\n          this.functions.push(linearCurve);\r\n        }\r\n\r\n        prev_point = [cur[0] + parsed[i][1], cur[1] + parsed[i][2]];\r\n        cur = [parsed[i][3] + cur[0], parsed[i][4] + cur[1]];\r\n      } else if (parsed[i][0] === \"T\") {\r\n        if (i > 0 && [\"Q\", \"q\", \"T\", \"t\"].indexOf(parsed[i - 1][0]) > -1) {\r\n          curve = new Bezier(\r\n            cur[0],\r\n            cur[1],\r\n            2 * cur[0] - prev_point[0],\r\n            2 * cur[1] - prev_point[1],\r\n            parsed[i][1],\r\n            parsed[i][2],\r\n            undefined,\r\n            undefined\r\n          );\r\n          this.functions.push(curve);\r\n          this.length += curve.getTotalLength();\r\n        } else {\r\n          let linearCurve = new LinearPosition(cur[0], parsed[i][1], cur[1], parsed[i][2]);\r\n          this.functions.push(linearCurve);\r\n          this.length += linearCurve.getTotalLength();\r\n        }\r\n\r\n        prev_point = [2 * cur[0] - prev_point[0], 2 * cur[1] - prev_point[1]];\r\n        cur = [parsed[i][1], parsed[i][2]];\r\n      } else if (parsed[i][0] === \"t\") {\r\n        if (i > 0 && [\"Q\", \"q\", \"T\", \"t\"].indexOf(parsed[i - 1][0]) > -1) {\r\n          curve = new Bezier(\r\n            cur[0],\r\n            cur[1],\r\n            2 * cur[0] - prev_point[0],\r\n            2 * cur[1] - prev_point[1],\r\n            cur[0] + parsed[i][1],\r\n            cur[1] + parsed[i][2],\r\n            undefined,\r\n            undefined\r\n          );\r\n          this.length += curve.getTotalLength();\r\n          this.functions.push(curve);\r\n        } else {\r\n          let linearCurve = new LinearPosition(\r\n            cur[0],\r\n            cur[0] + parsed[i][1],\r\n            cur[1],\r\n            cur[1] + parsed[i][2]\r\n          );\r\n          this.length += linearCurve.getTotalLength();\r\n          this.functions.push(linearCurve);\r\n        }\r\n\r\n        prev_point = [2 * cur[0] - prev_point[0], 2 * cur[1] - prev_point[1]];\r\n        cur = [parsed[i][1] + cur[0], parsed[i][2] + cur[0]];\r\n      } else if (parsed[i][0] === \"A\") {\r\n        const arcCurve = new Arc(\r\n          cur[0],\r\n          cur[1],\r\n          parsed[i][1],\r\n          parsed[i][2],\r\n          parsed[i][3],\r\n          parsed[i][4] === 1,\r\n          parsed[i][5] === 1,\r\n          parsed[i][6],\r\n          parsed[i][7]\r\n        );\r\n\r\n        this.length += arcCurve.getTotalLength();\r\n        cur = [parsed[i][6], parsed[i][7]];\r\n        this.functions.push(arcCurve);\r\n      } else if (parsed[i][0] === \"a\") {\r\n        const arcCurve = new Arc(\r\n          cur[0],\r\n          cur[1],\r\n          parsed[i][1],\r\n          parsed[i][2],\r\n          parsed[i][3],\r\n          parsed[i][4] === 1,\r\n          parsed[i][5] === 1,\r\n          cur[0] + parsed[i][6],\r\n          cur[1] + parsed[i][7]\r\n        );\r\n\r\n        this.length += arcCurve.getTotalLength();\r\n        cur = [cur[0] + parsed[i][6], cur[1] + parsed[i][7]];\r\n        this.functions.push(arcCurve);\r\n      }\r\n      this.partial_lengths.push(this.length);\r\n    }\r\n  }\r\n\r\n  private getPartAtLength = (fractionLength: number) => {\r\n    if (fractionLength < 0) {\r\n      fractionLength = 0;\r\n    } else if (fractionLength > this.length) {\r\n      fractionLength = this.length;\r\n    }\r\n\r\n    let i = this.partial_lengths.length - 1;\r\n\r\n    while (this.partial_lengths[i] >= fractionLength && i > 0) {\r\n      i--;\r\n    }\r\n    i++;\r\n    return { fraction: fractionLength - this.partial_lengths[i - 1], i: i };\r\n  };\r\n\r\n  public getTotalLength = () => {\r\n    return this.length;\r\n  };\r\n\r\n  public getPointAtLength = (fractionLength: number) => {\r\n    const fractionPart = this.getPartAtLength(fractionLength);\r\n    const functionAtPart = this.functions[fractionPart.i];\r\n\r\n    if (functionAtPart) {\r\n      return functionAtPart.getPointAtLength(fractionPart.fraction);\r\n    } else if (this.initial_point) {\r\n      return this.initial_point;\r\n    }\r\n    throw new Error(\"Wrong function at this part.\");\r\n  };\r\n\r\n  public getTangentAtLength = (fractionLength: number) => {\r\n    const fractionPart = this.getPartAtLength(fractionLength);\r\n    const functionAtPart = this.functions[fractionPart.i];\r\n    if (functionAtPart) {\r\n      return functionAtPart.getTangentAtLength(fractionPart.fraction);\r\n    } else if (this.initial_point) {\r\n      return { x: 0, y: 0 };\r\n    }\r\n    throw new Error(\"Wrong function at this part.\");\r\n  };\r\n\r\n  public getPropertiesAtLength = (fractionLength: number) => {\r\n    const fractionPart = this.getPartAtLength(fractionLength);\r\n    const functionAtPart = this.functions[fractionPart.i];\r\n    if (functionAtPart) {\r\n      return functionAtPart.getPropertiesAtLength(fractionPart.fraction);\r\n    } else if (this.initial_point) {\r\n      return { x: this.initial_point.x, y: this.initial_point.y, tangentX: 0, tangentY: 0 };\r\n    }\r\n    throw new Error(\"Wrong function at this part.\");\r\n  };\r\n\r\n  public getParts = () => {\r\n    const parts = [];\r\n    for (var i = 0; i < this.functions.length; i++) {\r\n      if (this.functions[i] !== null) {\r\n        this.functions[i] = this.functions[i] as Properties;\r\n        const properties: PartProperties = {\r\n          start: this.functions[i]!.getPointAtLength(0),\r\n          end: this.functions[i]!.getPointAtLength(\r\n            this.partial_lengths[i] - this.partial_lengths[i - 1]\r\n          ),\r\n          length: this.partial_lengths[i] - this.partial_lengths[i - 1],\r\n          getPointAtLength: this.functions[i]!.getPointAtLength,\r\n          getTangentAtLength: this.functions[i]!.getTangentAtLength,\r\n          getPropertiesAtLength: this.functions[i]!.getPropertiesAtLength\r\n        };\r\n        parts.push(properties);\r\n      }\r\n    }\r\n\r\n    return parts;\r\n  };\r\n}\r\n","import { Properties, Point, PointProperties } from \"./types\";\r\n\r\nexport class Arc implements Properties {\r\n  private x0: number;\r\n  private y0: number;\r\n  private rx: number;\r\n  private ry: number;\r\n  private xAxisRotate: number;\r\n  private LargeArcFlag: boolean;\r\n  private SweepFlag: boolean;\r\n  private x1: number;\r\n  private y1: number;\r\n  private length: number;\r\n  constructor(\r\n    x0: number,\r\n    y0: number,\r\n    rx: number,\r\n    ry: number,\r\n    xAxisRotate: number,\r\n    LargeArcFlag: boolean,\r\n    SweepFlag: boolean,\r\n    x1: number,\r\n    y1: number\r\n  ) {\r\n    this.x0 = x0;\r\n    this.y0 = y0;\r\n    this.rx = rx;\r\n    this.ry = ry;\r\n    this.xAxisRotate = xAxisRotate;\r\n    this.LargeArcFlag = LargeArcFlag;\r\n    this.SweepFlag = SweepFlag;\r\n    this.x1 = x1;\r\n    this.y1 = y1;\r\n\r\n    const lengthProperties = approximateArcLengthOfCurve(300, function(t: number) {\r\n      return pointOnEllipticalArc(\r\n        { x: x0, y: y0 },\r\n        rx,\r\n        ry,\r\n        xAxisRotate,\r\n        LargeArcFlag,\r\n        SweepFlag,\r\n        { x: x1, y: y1 },\r\n        t\r\n      );\r\n    });\r\n    this.length = lengthProperties.arcLength;\r\n  }\r\n\r\n  public getTotalLength = () => {\r\n    return this.length;\r\n  };\r\n\r\n  public getPointAtLength = (fractionLength: number): Point => {\r\n    if (fractionLength < 0) {\r\n      fractionLength = 0;\r\n    } else if (fractionLength > this.length) {\r\n      fractionLength = this.length;\r\n    }\r\n\r\n    const position = pointOnEllipticalArc(\r\n      { x: this.x0, y: this.y0 },\r\n      this.rx,\r\n      this.ry,\r\n      this.xAxisRotate,\r\n      this.LargeArcFlag,\r\n      this.SweepFlag,\r\n      { x: this.x1, y: this.y1 },\r\n      fractionLength / this.length\r\n    );\r\n\r\n    return { x: position.x, y: position.y };\r\n  };\r\n\r\n  public getTangentAtLength = (fractionLength: number): Point => {\r\n    if (fractionLength < 0) {\r\n      fractionLength = 0;\r\n    } else if (fractionLength > this.length) {\r\n      fractionLength = this.length;\r\n    }\r\n    const point_dist = 0.05; // needs testing\r\n    const p1 = this.getPointAtLength(fractionLength);\r\n    let p2: Point;\r\n\r\n    if (fractionLength < 0) {\r\n      fractionLength = 0;\r\n    } else if (fractionLength > this.length) {\r\n      fractionLength = this.length;\r\n    }\r\n\r\n    if (fractionLength < this.length - point_dist) {\r\n      p2 = this.getPointAtLength(fractionLength + point_dist);\r\n    } else {\r\n      p2 = this.getPointAtLength(fractionLength - point_dist);\r\n    }\r\n\r\n    const xDist = p2.x - p1.x;\r\n    const yDist = p2.y - p1.y;\r\n    const dist = Math.sqrt(xDist * xDist + yDist * yDist);\r\n\r\n    if (fractionLength < this.length - point_dist) {\r\n      return { x: -xDist / dist, y: -yDist / dist };\r\n    } else {\r\n      return { x: xDist / dist, y: yDist / dist };\r\n    }\r\n  };\r\n\r\n  public getPropertiesAtLength = (fractionLength: number): PointProperties => {\r\n    const tangent = this.getTangentAtLength(fractionLength);\r\n    const point = this.getPointAtLength(fractionLength);\r\n    return { x: point.x, y: point.y, tangentX: tangent.x, tangentY: tangent.y };\r\n  };\r\n}\r\n\r\ninterface PointOnEllipticalArc {\r\n  x: number;\r\n  y: number;\r\n  ellipticalArcAngle: number;\r\n}\r\n\r\nconst pointOnEllipticalArc = (\r\n  p0: Point,\r\n  rx: number,\r\n  ry: number,\r\n  xAxisRotation: number,\r\n  largeArcFlag: boolean,\r\n  sweepFlag: boolean,\r\n  p1: Point,\r\n  t: number\r\n): PointOnEllipticalArc => {\r\n  // In accordance to: http://www.w3.org/TR/SVG/implnote.html#ArcOutOfRangeParameters\r\n  rx = Math.abs(rx);\r\n  ry = Math.abs(ry);\r\n  xAxisRotation = mod(xAxisRotation, 360);\r\n  const xAxisRotationRadians = toRadians(xAxisRotation);\r\n  // If the endpoints are identical, then this is equivalent to omitting the elliptical arc segment entirely.\r\n  if (p0.x === p1.x && p0.y === p1.y) {\r\n    return { x: p0.x, y: p0.y, ellipticalArcAngle: 0 }; // Check if angle is correct\r\n  }\r\n\r\n  // If rx = 0 or ry = 0 then this arc is treated as a straight line segment joining the endpoints.\r\n  if (rx === 0 || ry === 0) {\r\n    //return this.pointOnLine(p0, p1, t);\r\n    return { x: 0, y: 0, ellipticalArcAngle: 0 }; // Check if angle is correct\r\n  }\r\n\r\n  // Following \"Conversion from endpoint to center parameterization\"\r\n  // http://www.w3.org/TR/SVG/implnote.html#ArcConversionEndpointToCenter\r\n\r\n  // Step #1: Compute transformedPoint\r\n  const dx = (p0.x - p1.x) / 2;\r\n  const dy = (p0.y - p1.y) / 2;\r\n  const transformedPoint = {\r\n    x: Math.cos(xAxisRotationRadians) * dx + Math.sin(xAxisRotationRadians) * dy,\r\n    y: -Math.sin(xAxisRotationRadians) * dx + Math.cos(xAxisRotationRadians) * dy\r\n  };\r\n  // Ensure radii are large enough\r\n  const radiiCheck =\r\n    Math.pow(transformedPoint.x, 2) / Math.pow(rx, 2) +\r\n    Math.pow(transformedPoint.y, 2) / Math.pow(ry, 2);\r\n  if (radiiCheck > 1) {\r\n    rx = Math.sqrt(radiiCheck) * rx;\r\n    ry = Math.sqrt(radiiCheck) * ry;\r\n  }\r\n\r\n  // Step #2: Compute transformedCenter\r\n  const cSquareNumerator =\r\n    Math.pow(rx, 2) * Math.pow(ry, 2) -\r\n    Math.pow(rx, 2) * Math.pow(transformedPoint.y, 2) -\r\n    Math.pow(ry, 2) * Math.pow(transformedPoint.x, 2);\r\n  const cSquareRootDenom =\r\n    Math.pow(rx, 2) * Math.pow(transformedPoint.y, 2) +\r\n    Math.pow(ry, 2) * Math.pow(transformedPoint.x, 2);\r\n  let cRadicand = cSquareNumerator / cSquareRootDenom;\r\n  // Make sure this never drops below zero because of precision\r\n  cRadicand = cRadicand < 0 ? 0 : cRadicand;\r\n  const cCoef = (largeArcFlag !== sweepFlag ? 1 : -1) * Math.sqrt(cRadicand);\r\n  const transformedCenter = {\r\n    x: cCoef * ((rx * transformedPoint.y) / ry),\r\n    y: cCoef * (-(ry * transformedPoint.x) / rx)\r\n  };\r\n\r\n  // Step #3: Compute center\r\n  const center = {\r\n    x:\r\n      Math.cos(xAxisRotationRadians) * transformedCenter.x -\r\n      Math.sin(xAxisRotationRadians) * transformedCenter.y +\r\n      (p0.x + p1.x) / 2,\r\n    y:\r\n      Math.sin(xAxisRotationRadians) * transformedCenter.x +\r\n      Math.cos(xAxisRotationRadians) * transformedCenter.y +\r\n      (p0.y + p1.y) / 2\r\n  };\r\n\r\n  // Step #4: Compute start/sweep angles\r\n  // Start angle of the elliptical arc prior to the stretch and rotate operations.\r\n  // Difference between the start and end angles\r\n  const startVector = {\r\n    x: (transformedPoint.x - transformedCenter.x) / rx,\r\n    y: (transformedPoint.y - transformedCenter.y) / ry\r\n  };\r\n  const startAngle = angleBetween(\r\n    {\r\n      x: 1,\r\n      y: 0\r\n    },\r\n    startVector\r\n  );\r\n\r\n  const endVector = {\r\n    x: (-transformedPoint.x - transformedCenter.x) / rx,\r\n    y: (-transformedPoint.y - transformedCenter.y) / ry\r\n  };\r\n  let sweepAngle = angleBetween(startVector, endVector);\r\n\r\n  if (!sweepFlag && sweepAngle > 0) {\r\n    sweepAngle -= 2 * Math.PI;\r\n  } else if (sweepFlag && sweepAngle < 0) {\r\n    sweepAngle += 2 * Math.PI;\r\n  }\r\n  // We use % instead of `mod(..)` because we want it to be -360deg to 360deg(but actually in radians)\r\n  sweepAngle %= 2 * Math.PI;\r\n\r\n  // From http://www.w3.org/TR/SVG/implnote.html#ArcParameterizationAlternatives\r\n  const angle = startAngle + sweepAngle * t;\r\n  const ellipseComponentX = rx * Math.cos(angle);\r\n  const ellipseComponentY = ry * Math.sin(angle);\r\n\r\n  const point = {\r\n    x:\r\n      Math.cos(xAxisRotationRadians) * ellipseComponentX -\r\n      Math.sin(xAxisRotationRadians) * ellipseComponentY +\r\n      center.x,\r\n    y:\r\n      Math.sin(xAxisRotationRadians) * ellipseComponentX +\r\n      Math.cos(xAxisRotationRadians) * ellipseComponentY +\r\n      center.y,\r\n    ellipticalArcStartAngle: startAngle,\r\n    ellipticalArcEndAngle: startAngle + sweepAngle,\r\n    ellipticalArcAngle: angle,\r\n    ellipticalArcCenter: center,\r\n    resultantRx: rx,\r\n    resultantRy: ry\r\n  };\r\n\r\n  return point;\r\n};\r\n\r\nconst approximateArcLengthOfCurve = (\r\n  resolution: number,\r\n  pointOnCurveFunc: (t: number) => Point\r\n) => {\r\n  // Resolution is the number of segments we use\r\n  resolution = resolution ? resolution : 500;\r\n\r\n  let resultantArcLength = 0;\r\n  const arcLengthMap = [];\r\n  const approximationLines = [];\r\n\r\n  let prevPoint = pointOnCurveFunc(0);\r\n  let nextPoint;\r\n  for (let i = 0; i < resolution; i++) {\r\n    const t = clamp(i * (1 / resolution), 0, 1);\r\n    nextPoint = pointOnCurveFunc(t);\r\n    resultantArcLength += distance(prevPoint, nextPoint);\r\n    approximationLines.push([prevPoint, nextPoint]);\r\n\r\n    arcLengthMap.push({\r\n      t: t,\r\n      arcLength: resultantArcLength\r\n    });\r\n\r\n    prevPoint = nextPoint;\r\n  }\r\n  // Last stretch to the endpoint\r\n  nextPoint = pointOnCurveFunc(1);\r\n  approximationLines.push([prevPoint, nextPoint]);\r\n  resultantArcLength += distance(prevPoint, nextPoint);\r\n  arcLengthMap.push({\r\n    t: 1,\r\n    arcLength: resultantArcLength\r\n  });\r\n\r\n  return {\r\n    arcLength: resultantArcLength,\r\n    arcLengthMap: arcLengthMap,\r\n    approximationLines: approximationLines\r\n  };\r\n};\r\n\r\nconst mod = (x: number, m: number) => {\r\n  return ((x % m) + m) % m;\r\n};\r\n\r\nconst toRadians = (angle: number) => {\r\n  return angle * (Math.PI / 180);\r\n};\r\n\r\nconst distance = (p0: Point, p1: Point) => {\r\n  return Math.sqrt(Math.pow(p1.x - p0.x, 2) + Math.pow(p1.y - p0.y, 2));\r\n};\r\n\r\nconst clamp = (val: number, min: number, max: number) => {\r\n  return Math.min(Math.max(val, min), max);\r\n};\r\n\r\nconst angleBetween = (v0: Point, v1: Point) => {\r\n  const p = v0.x * v1.x + v0.y * v1.y;\r\n  const n = Math.sqrt(\r\n    (Math.pow(v0.x, 2) + Math.pow(v0.y, 2)) * (Math.pow(v1.x, 2) + Math.pow(v1.y, 2))\r\n  );\r\n  const sign = v0.x * v1.y - v0.y * v1.x < 0 ? -1 : 1;\r\n  const angle = sign * Math.acos(p / n);\r\n\r\n  return angle;\r\n};\r\n","import { Properties, Point } from \"./types\";\r\n\r\nimport {\r\n  cubicPoint,\r\n  getCubicArcLength,\r\n  cubicDerivative,\r\n  getQuadraticArcLength,\r\n  quadraticPoint,\r\n  quadraticDerivative,\r\n  t2length\r\n} from \"./bezier-functions\";\r\n\r\nexport class Bezier implements Properties {\r\n  private a: Point;\r\n  private b: Point;\r\n  private c: Point;\r\n  private d: Point;\r\n  private length: number;\r\n  private getArcLength: (xs: number[], ys: number[], t: number) => number;\r\n  private getPoint: (xs: number[], ys: number[], t: number) => Point;\r\n  private getDerivative: (xs: number[], ys: number[], t: number) => Point;\r\n  constructor(\r\n    ax: number,\r\n    ay: number,\r\n    bx: number,\r\n    by: number,\r\n    cx: number,\r\n    cy: number,\r\n    dx: number | undefined,\r\n    dy: number | undefined\r\n  ) {\r\n    this.a = { x: ax, y: ay };\r\n    this.b = { x: bx, y: by };\r\n    this.c = { x: cx, y: cy };\r\n\r\n    if (dx !== undefined && dy !== undefined) {\r\n      this.getArcLength = getCubicArcLength;\r\n      this.getPoint = cubicPoint;\r\n      this.getDerivative = cubicDerivative;\r\n      this.d = { x: dx, y: dy };\r\n    } else {\r\n      this.getArcLength = getQuadraticArcLength;\r\n      this.getPoint = quadraticPoint;\r\n      this.getDerivative = quadraticDerivative;\r\n      this.d = { x: 0, y: 0 };\r\n    }\r\n    this.length = this.getArcLength(\r\n      [this.a.x, this.b.x, this.c.x, this.d.x],\r\n      [this.a.y, this.b.y, this.c.y, this.d.y],\r\n      1\r\n    );\r\n  }\r\n  public getTotalLength = () => {\r\n    return this.length;\r\n  };\r\n  public getPointAtLength = (length: number) => {\r\n    const xs = [this.a.x, this.b.x, this.c.x, this.d.x];\r\n    const xy = [this.a.y, this.b.y, this.c.y, this.d.y];\r\n    const t = t2length(length, this.length, i => this.getArcLength(xs, xy, i));\r\n\r\n    return this.getPoint(xs, xy, t);\r\n  };\r\n  public getTangentAtLength = (length: number) => {\r\n    const xs = [this.a.x, this.b.x, this.c.x, this.d.x];\r\n    const xy = [this.a.y, this.b.y, this.c.y, this.d.y];\r\n    const t = t2length(length, this.length, i => this.getArcLength(xs, xy, i));\r\n\r\n    const derivative = this.getDerivative(xs, xy, t);\r\n    const mdl = Math.sqrt(derivative.x * derivative.x + derivative.y * derivative.y);\r\n    let tangent: Point;\r\n    if (mdl > 0) {\r\n      tangent = { x: derivative.x / mdl, y: derivative.y / mdl };\r\n    } else {\r\n      tangent = { x: 0, y: 0 };\r\n    }\r\n    return tangent;\r\n  };\r\n  public getPropertiesAtLength = (length: number) => {\r\n    const xs = [this.a.x, this.b.x, this.c.x, this.d.x];\r\n    const xy = [this.a.y, this.b.y, this.c.y, this.d.y];\r\n    const t = t2length(length, this.length, i => this.getArcLength(xs, xy, i));\r\n\r\n    const derivative = this.getDerivative(xs, xy, t);\r\n    const mdl = Math.sqrt(derivative.x * derivative.x + derivative.y * derivative.y);\r\n    let tangent: Point;\r\n    if (mdl > 0) {\r\n      tangent = { x: derivative.x / mdl, y: derivative.y / mdl };\r\n    } else {\r\n      tangent = { x: 0, y: 0 };\r\n    }\r\n    const point = this.getPoint(xs, xy, t);\r\n    return { x: point.x, y: point.y, tangentX: tangent.x, tangentY: tangent.y };\r\n  };\r\n\r\n  public getC = () => {\r\n    return this.c;\r\n  };\r\n  public getD = () => {\r\n    return this.d;\r\n  };\r\n}\r\n","export const DEG = 180 / Math.PI;\n\nexport class Calc {\n    public static distance2(p, point) {\n        var dx = p.x - point.x,\n            dy = p.y - point.y;\n        return dx * dx + dy * dy;\n    }\n\n    public static getRotation(p1, p2) {\n        var dx = p2.x - p1.x;\n        var dy = p2.y - p1.y;\n        return Math.atan2(dy, dx);\n    }\n}\n\nexport class DefaultDistributor {\n    public static distribute(data, path, bound, value?) {\n        let points = new Array();\n\n        let totalLength = path.getTotalLength();\n\n        let num = data.num;\n\n        if (!data.values) {\n            if (data.closed) {\n                let delta = 0;\n\n                if (data.delta !== 0)\n                    delta = totalLength / 360 * data.delta; //there is a deviation at heart, it does not matter at circle\n\n                for (let i = 0; i < num; i++) {\n                    let length = delta + totalLength / num * i;\n\n                    if (length > totalLength) {\n                        length -= totalLength;\n                    }\n\n                    let pt = path.getPointAtLength(length);\n                    pt.atLength = length;\n\n                    if (value !== undefined) {\n                        pt.value = Math.floor(length / totalLength * value);\n                    }\n\n                    let len2 = pt.atLength + (pt.atLength === length ? -0.1 : 0.1);\n                    let rotation = Calc.getRotation(pt, path.getPointAtLength(len2));\n                    pt.rotation = rotation;\n\n                    pt.x = pt.x * bound.wRatio;\n                    pt.y = pt.y * bound.hRatio;\n\n                    //pt.id = \"handle\" + rand(1, 100) + \"_\" + i;\n                    pt.id = \"handle_\" + i;\n                    pt.txt = i;\n                    pt.selected = false;\n                    pt.picked = false;\n\n                    points.push(pt);\n                }\n            } else {\n                for (let i = 0; i < num; i++) {\n                    let pt;\n                    if (i > 0 && i < num - 1) {\n                        let length = totalLength / (num - 1) * i;\n                        pt = path.getPointAtLength(length);\n                        pt.atLength = length;\n                    } else if (i === 0) {\n                        pt = path.getPointAtLength(0);\n                        pt.atLength = 0;\n                    }\n\n                    if (pt) {\n                        if (value !== undefined) {\n                            pt.value = Math.floor(length / totalLength * value);\n                        }\n\n                        let len2 = pt.atLength + (pt.atLength === length ? -0.1 : 0.1);\n                        let rotation = Calc.getRotation(pt, path.getPointAtLength(len2));\n                        pt.rotation = rotation;\n\n                        pt.x = pt.x * bound.wRatio;\n                        pt.y = pt.y * bound.hRatio;\n                        //pt.id = \"handle\" + rand(1, 100) + \"_\" + i;\n                        pt.id = \"handle_\" + i;\n                        pt.txt = i;\n                        pt.selected = false;\n                        pt.picked = false;\n\n                        points.push(pt);\n                    }\n                }\n            }\n        } else {\n            let num = data.values.length;\n            for (let i = 0; i < num; i++) {\n                let percent = data.values[i] / (data.limit.max - data.limit.min);\n                let length = percent * totalLength;\n                let pt = path.getPointAtLength(length);\n                pt.atLength = length;\n\n                if (value !== undefined) {\n                    pt.value = Math.floor(length / totalLength * value);\n                }\n\n                let len2 = pt.atLength + (pt.atLength === length ? -0.1 : 0.1);\n                let rotation = Calc.getRotation(pt, path.getPointAtLength(len2));\n                pt.rotation = rotation;\n\n                pt.x = pt.x * bound.wRatio;\n                pt.y = pt.y * bound.hRatio;\n                //pt.id = \"handle\" + rand(1, 100) + \"_\" + i;\n                pt.id = \"handle_\" + i;\n                pt.txt = i;\n                pt.selected = false;\n                pt.picked = false;\n\n                points.push(pt);\n            }\n        }\n        return points;\n    }\n}","import { tValues, cValues, binomialCoefficients } from \"./bezier-values\";\r\nimport { Point } from \"./types\";\r\nexport const cubicPoint = (xs: number[], ys: number[], t: number): Point => {\r\n  const x =\r\n    (1 - t) * (1 - t) * (1 - t) * xs[0] +\r\n    3 * (1 - t) * (1 - t) * t * xs[1] +\r\n    3 * (1 - t) * t * t * xs[2] +\r\n    t * t * t * xs[3];\r\n  const y =\r\n    (1 - t) * (1 - t) * (1 - t) * ys[0] +\r\n    3 * (1 - t) * (1 - t) * t * ys[1] +\r\n    3 * (1 - t) * t * t * ys[2] +\r\n    t * t * t * ys[3];\r\n\r\n  return { x: x, y: y };\r\n};\r\n\r\nexport const cubicDerivative = (xs: number[], ys: number[], t: number) => {\r\n  const derivative = quadraticPoint(\r\n    [3 * (xs[1] - xs[0]), 3 * (xs[2] - xs[1]), 3 * (xs[3] - xs[2])],\r\n    [3 * (ys[1] - ys[0]), 3 * (ys[2] - ys[1]), 3 * (ys[3] - ys[2])],\r\n    t\r\n  );\r\n  return derivative;\r\n};\r\n\r\nexport const getCubicArcLength = (xs: number[], ys: number[], t: number) => {\r\n  let z: number;\r\n  let sum: number;\r\n  let correctedT: number;\r\n\r\n  /*if (xs.length >= tValues.length) {\r\n        throw new Error('too high n bezier');\r\n      }*/\r\n\r\n  const n = 20;\r\n\r\n  z = t / 2;\r\n  sum = 0;\r\n  for (let i = 0; i < n; i++) {\r\n    correctedT = z * tValues[n][i] + z;\r\n    sum += cValues[n][i] * BFunc(xs, ys, correctedT);\r\n  }\r\n  return z * sum;\r\n};\r\n\r\nexport const quadraticPoint = (\r\n  xs: number[],\r\n  ys: number[],\r\n  t: number\r\n): Point => {\r\n  const x = (1 - t) * (1 - t) * xs[0] + 2 * (1 - t) * t * xs[1] + t * t * xs[2];\r\n  const y = (1 - t) * (1 - t) * ys[0] + 2 * (1 - t) * t * ys[1] + t * t * ys[2];\r\n  return { x: x, y: y };\r\n};\r\n\r\nexport const getQuadraticArcLength = (\r\n  xs: number[],\r\n  ys: number[],\r\n  t: number\r\n) => {\r\n  if (t === undefined) {\r\n    t = 1;\r\n  }\r\n  const ax = xs[0] - 2 * xs[1] + xs[2];\r\n  const ay = ys[0] - 2 * ys[1] + ys[2];\r\n  const bx = 2 * xs[1] - 2 * xs[0];\r\n  const by = 2 * ys[1] - 2 * ys[0];\r\n\r\n  const A = 4 * (ax * ax + ay * ay);\r\n  const B = 4 * (ax * bx + ay * by);\r\n  const C = bx * bx + by * by;\r\n\r\n  if (A === 0) {\r\n    return (\r\n      t * Math.sqrt(Math.pow(xs[2] - xs[0], 2) + Math.pow(ys[2] - ys[0], 2))\r\n    );\r\n  }\r\n  const b = B / (2 * A);\r\n  const c = C / A;\r\n  const u = t + b;\r\n  const k = c - b * b;\r\n\r\n  const uuk = u * u + k > 0 ? Math.sqrt(u * u + k) : 0;\r\n  const bbk = b * b + k > 0 ? Math.sqrt(b * b + k) : 0;\r\n  const term =\r\n    b + Math.sqrt(b * b + k) !== 0\r\n      ? k * Math.log(Math.abs((u + uuk) / (b + bbk)))\r\n      : 0;\r\n\r\n  return (Math.sqrt(A) / 2) * (u * uuk - b * bbk + term);\r\n};\r\n\r\nexport const quadraticDerivative = (xs: number[], ys: number[], t: number) => {\r\n  return {\r\n    x: (1 - t) * 2 * (xs[1] - xs[0]) + t * 2 * (xs[2] - xs[1]),\r\n    y: (1 - t) * 2 * (ys[1] - ys[0]) + t * 2 * (ys[2] - ys[1]),\r\n  };\r\n};\r\n\r\nfunction BFunc(xs: number[], ys: number[], t: number) {\r\n  const xbase = getDerivative(1, t, xs);\r\n  const ybase = getDerivative(1, t, ys);\r\n  const combined = xbase * xbase + ybase * ybase;\r\n  return Math.sqrt(combined);\r\n}\r\n\r\n/**\r\n * Compute the curve derivative (hodograph) at t.\r\n */\r\nconst getDerivative = (derivative: number, t: number, vs: number[]): number => {\r\n  // the derivative of any 't'-less function is zero.\r\n  const n = vs.length - 1;\r\n  let _vs;\r\n  let value;\r\n\r\n  if (n === 0) {\r\n    return 0;\r\n  }\r\n\r\n  // direct values? compute!\r\n  if (derivative === 0) {\r\n    value = 0;\r\n    for (let k = 0; k <= n; k++) {\r\n      value +=\r\n        binomialCoefficients[n][k] *\r\n        Math.pow(1 - t, n - k) *\r\n        Math.pow(t, k) *\r\n        vs[k];\r\n    }\r\n    return value;\r\n  } else {\r\n    // Still some derivative? go down one order, then try\r\n    // for the lower order curve's.\r\n    _vs = new Array(n);\r\n    for (let k = 0; k < n; k++) {\r\n      _vs[k] = n * (vs[k + 1] - vs[k]);\r\n    }\r\n    return getDerivative(derivative - 1, t, _vs);\r\n  }\r\n};\r\n\r\nexport const t2length = (\r\n  length: number,\r\n  totalLength: number,\r\n  func: (t: number) => number\r\n): number => {\r\n  let error = 1;\r\n  let t = length / totalLength;\r\n  let step = (length - func(t)) / totalLength;\r\n\r\n  let numIterations = 0;\r\n  while (error > 0.001) {\r\n    const increasedTLength = func(t + step);\r\n    const increasedTError = Math.abs(length - increasedTLength) / totalLength;\r\n    if (increasedTError < error) {\r\n      error = increasedTError;\r\n      t += step;\r\n    } else {\r\n      const decreasedTLength = func(t - step);\r\n      const decreasedTError = Math.abs(length - decreasedTLength) / totalLength;\r\n      if (decreasedTError < error) {\r\n        error = decreasedTError;\r\n        t -= step;\r\n      } else {\r\n        step /= 2;\r\n      }\r\n    }\r\n\r\n    numIterations++;\r\n    if (numIterations > 500) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return t;\r\n};\r\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EventBusService {\n  private _select: EventEmitter<any> = new EventEmitter();\n  private _rate: EventEmitter<any> = new EventEmitter();\n  private _rotate: EventEmitter<any> = new EventEmitter();\n  private _grow: EventEmitter<any> = new EventEmitter();\n\n  private _list: BehaviorSubject<any> = new BehaviorSubject({});\n\n  constructor() {}\n\n  get grow(): EventEmitter<any> {\n    return this._grow;\n  }\n\n  get select(): EventEmitter<any> {\n    return this._select;\n  }\n\n  get rate(): EventEmitter<any> {\n    return this._rate;\n  }\n\n  get rotate(): EventEmitter<any> {\n    return this._rotate;\n  }\n}","export * from './ms-list';\nexport * from './ms-editor';\nexport * from './ms-qrcode';\nexport * from './ms-menu';\nexport * from './ms-dialog';\n","import { Properties, Point, PointProperties } from \"./types\";\r\n\r\nexport class LinearPosition implements Properties {\r\n  private x0: number;\r\n  private x1: number;\r\n  private y0: number;\r\n  private y1: number;\r\n\r\n  constructor(x0: number, x1: number, y0: number, y1: number) {\r\n    this.x0 = x0;\r\n    this.x1 = x1;\r\n    this.y0 = y0;\r\n    this.y1 = y1;\r\n  }\r\n\r\n  public getTotalLength = () => {\r\n    return Math.sqrt(Math.pow(this.x0 - this.x1, 2) + Math.pow(this.y0 - this.y1, 2));\r\n  };\r\n\r\n  public getPointAtLength = (pos: number): Point => {\r\n    let fraction = pos / Math.sqrt(Math.pow(this.x0 - this.x1, 2) + Math.pow(this.y0 - this.y1, 2));\r\n\r\n    fraction = Number.isNaN(fraction) ? 1 : fraction;\r\n    const newDeltaX = (this.x1 - this.x0) * fraction;\r\n    const newDeltaY = (this.y1 - this.y0) * fraction;\r\n\r\n    return { x: this.x0 + newDeltaX, y: this.y0 + newDeltaY };\r\n  };\r\n\r\n  public getTangentAtLength = (_: number): Point => {\r\n    const module = Math.sqrt(\r\n      (this.x1 - this.x0) * (this.x1 - this.x0) + (this.y1 - this.y0) * (this.y1 - this.y0)\r\n    );\r\n    return { x: (this.x1 - this.x0) / module, y: (this.y1 - this.y0) / module };\r\n  };\r\n\r\n  public getPropertiesAtLength = (pos: number): PointProperties => {\r\n    const point = this.getPointAtLength(pos);\r\n    const tangent = this.getTangentAtLength(pos);\r\n    return { x: point.x, y: point.y, tangentX: tangent.x, tangentY: tangent.y };\r\n  };\r\n}\r\n","// Legendre-Gauss abscissae (xi values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\r\nexport const tValues = [\r\n  [],\r\n  [],\r\n  [\r\n    -0.5773502691896257645091487805019574556476,\r\n    0.5773502691896257645091487805019574556476\r\n  ],\r\n  [\r\n    0,\r\n    -0.7745966692414833770358530799564799221665,\r\n    0.7745966692414833770358530799564799221665\r\n  ],\r\n  [\r\n    -0.3399810435848562648026657591032446872005,\r\n    0.3399810435848562648026657591032446872005,\r\n    -0.8611363115940525752239464888928095050957,\r\n    0.8611363115940525752239464888928095050957\r\n  ],\r\n  [\r\n    0,\r\n    -0.5384693101056830910363144207002088049672,\r\n    0.5384693101056830910363144207002088049672,\r\n    -0.9061798459386639927976268782993929651256,\r\n    0.9061798459386639927976268782993929651256\r\n  ],\r\n  [\r\n    0.6612093864662645136613995950199053470064,\r\n    -0.6612093864662645136613995950199053470064,\r\n    -0.2386191860831969086305017216807119354186,\r\n    0.2386191860831969086305017216807119354186,\r\n    -0.9324695142031520278123015544939946091347,\r\n    0.9324695142031520278123015544939946091347\r\n  ],\r\n  [\r\n    0,\r\n    0.4058451513773971669066064120769614633473,\r\n    -0.4058451513773971669066064120769614633473,\r\n    -0.7415311855993944398638647732807884070741,\r\n    0.7415311855993944398638647732807884070741,\r\n    -0.9491079123427585245261896840478512624007,\r\n    0.9491079123427585245261896840478512624007\r\n  ],\r\n  [\r\n    -0.1834346424956498049394761423601839806667,\r\n    0.1834346424956498049394761423601839806667,\r\n    -0.5255324099163289858177390491892463490419,\r\n    0.5255324099163289858177390491892463490419,\r\n    -0.7966664774136267395915539364758304368371,\r\n    0.7966664774136267395915539364758304368371,\r\n    -0.9602898564975362316835608685694729904282,\r\n    0.9602898564975362316835608685694729904282\r\n  ],\r\n  [\r\n    0,\r\n    -0.8360311073266357942994297880697348765441,\r\n    0.8360311073266357942994297880697348765441,\r\n    -0.9681602395076260898355762029036728700494,\r\n    0.9681602395076260898355762029036728700494,\r\n    -0.3242534234038089290385380146433366085719,\r\n    0.3242534234038089290385380146433366085719,\r\n    -0.6133714327005903973087020393414741847857,\r\n    0.6133714327005903973087020393414741847857\r\n  ],\r\n  [\r\n    -0.1488743389816312108848260011297199846175,\r\n    0.1488743389816312108848260011297199846175,\r\n    -0.4333953941292471907992659431657841622,\r\n    0.4333953941292471907992659431657841622,\r\n    -0.6794095682990244062343273651148735757692,\r\n    0.6794095682990244062343273651148735757692,\r\n    -0.8650633666889845107320966884234930485275,\r\n    0.8650633666889845107320966884234930485275,\r\n    -0.9739065285171717200779640120844520534282,\r\n    0.9739065285171717200779640120844520534282\r\n  ],\r\n  [\r\n    0,\r\n    -0.2695431559523449723315319854008615246796,\r\n    0.2695431559523449723315319854008615246796,\r\n    -0.5190961292068118159257256694586095544802,\r\n    0.5190961292068118159257256694586095544802,\r\n    -0.7301520055740493240934162520311534580496,\r\n    0.7301520055740493240934162520311534580496,\r\n    -0.8870625997680952990751577693039272666316,\r\n    0.8870625997680952990751577693039272666316,\r\n    -0.9782286581460569928039380011228573907714,\r\n    0.9782286581460569928039380011228573907714\r\n  ],\r\n  [\r\n    -0.1252334085114689154724413694638531299833,\r\n    0.1252334085114689154724413694638531299833,\r\n    -0.3678314989981801937526915366437175612563,\r\n    0.3678314989981801937526915366437175612563,\r\n    -0.587317954286617447296702418940534280369,\r\n    0.587317954286617447296702418940534280369,\r\n    -0.7699026741943046870368938332128180759849,\r\n    0.7699026741943046870368938332128180759849,\r\n    -0.9041172563704748566784658661190961925375,\r\n    0.9041172563704748566784658661190961925375,\r\n    -0.9815606342467192506905490901492808229601,\r\n    0.9815606342467192506905490901492808229601\r\n  ],\r\n  [\r\n    0,\r\n    -0.2304583159551347940655281210979888352115,\r\n    0.2304583159551347940655281210979888352115,\r\n    -0.4484927510364468528779128521276398678019,\r\n    0.4484927510364468528779128521276398678019,\r\n    -0.6423493394403402206439846069955156500716,\r\n    0.6423493394403402206439846069955156500716,\r\n    -0.8015780907333099127942064895828598903056,\r\n    0.8015780907333099127942064895828598903056,\r\n    -0.9175983992229779652065478365007195123904,\r\n    0.9175983992229779652065478365007195123904,\r\n    -0.9841830547185881494728294488071096110649,\r\n    0.9841830547185881494728294488071096110649\r\n  ],\r\n  [\r\n    -0.1080549487073436620662446502198347476119,\r\n    0.1080549487073436620662446502198347476119,\r\n    -0.3191123689278897604356718241684754668342,\r\n    0.3191123689278897604356718241684754668342,\r\n    -0.5152486363581540919652907185511886623088,\r\n    0.5152486363581540919652907185511886623088,\r\n    -0.6872929048116854701480198030193341375384,\r\n    0.6872929048116854701480198030193341375384,\r\n    -0.8272013150697649931897947426503949610397,\r\n    0.8272013150697649931897947426503949610397,\r\n    -0.928434883663573517336391139377874264477,\r\n    0.928434883663573517336391139377874264477,\r\n    -0.986283808696812338841597266704052801676,\r\n    0.986283808696812338841597266704052801676\r\n  ],\r\n  [\r\n    0,\r\n    -0.2011940939974345223006283033945962078128,\r\n    0.2011940939974345223006283033945962078128,\r\n    -0.3941513470775633698972073709810454683627,\r\n    0.3941513470775633698972073709810454683627,\r\n    -0.5709721726085388475372267372539106412383,\r\n    0.5709721726085388475372267372539106412383,\r\n    -0.7244177313601700474161860546139380096308,\r\n    0.7244177313601700474161860546139380096308,\r\n    -0.8482065834104272162006483207742168513662,\r\n    0.8482065834104272162006483207742168513662,\r\n    -0.9372733924007059043077589477102094712439,\r\n    0.9372733924007059043077589477102094712439,\r\n    -0.9879925180204854284895657185866125811469,\r\n    0.9879925180204854284895657185866125811469\r\n  ],\r\n  [\r\n    -0.0950125098376374401853193354249580631303,\r\n    0.0950125098376374401853193354249580631303,\r\n    -0.281603550779258913230460501460496106486,\r\n    0.281603550779258913230460501460496106486,\r\n    -0.45801677765722738634241944298357757354,\r\n    0.45801677765722738634241944298357757354,\r\n    -0.6178762444026437484466717640487910189918,\r\n    0.6178762444026437484466717640487910189918,\r\n    -0.7554044083550030338951011948474422683538,\r\n    0.7554044083550030338951011948474422683538,\r\n    -0.8656312023878317438804678977123931323873,\r\n    0.8656312023878317438804678977123931323873,\r\n    -0.9445750230732325760779884155346083450911,\r\n    0.9445750230732325760779884155346083450911,\r\n    -0.9894009349916499325961541734503326274262,\r\n    0.9894009349916499325961541734503326274262\r\n  ],\r\n  [\r\n    0,\r\n    -0.1784841814958478558506774936540655574754,\r\n    0.1784841814958478558506774936540655574754,\r\n    -0.3512317634538763152971855170953460050405,\r\n    0.3512317634538763152971855170953460050405,\r\n    -0.5126905370864769678862465686295518745829,\r\n    0.5126905370864769678862465686295518745829,\r\n    -0.6576711592166907658503022166430023351478,\r\n    0.6576711592166907658503022166430023351478,\r\n    -0.7815140038968014069252300555204760502239,\r\n    0.7815140038968014069252300555204760502239,\r\n    -0.8802391537269859021229556944881556926234,\r\n    0.8802391537269859021229556944881556926234,\r\n    -0.9506755217687677612227169578958030214433,\r\n    0.9506755217687677612227169578958030214433,\r\n    -0.9905754753144173356754340199406652765077,\r\n    0.9905754753144173356754340199406652765077\r\n  ],\r\n  [\r\n    -0.0847750130417353012422618529357838117333,\r\n    0.0847750130417353012422618529357838117333,\r\n    -0.2518862256915055095889728548779112301628,\r\n    0.2518862256915055095889728548779112301628,\r\n    -0.4117511614628426460359317938330516370789,\r\n    0.4117511614628426460359317938330516370789,\r\n    -0.5597708310739475346078715485253291369276,\r\n    0.5597708310739475346078715485253291369276,\r\n    -0.6916870430603532078748910812888483894522,\r\n    0.6916870430603532078748910812888483894522,\r\n    -0.8037049589725231156824174550145907971032,\r\n    0.8037049589725231156824174550145907971032,\r\n    -0.8926024664975557392060605911271455154078,\r\n    0.8926024664975557392060605911271455154078,\r\n    -0.9558239495713977551811958929297763099728,\r\n    0.9558239495713977551811958929297763099728,\r\n    -0.9915651684209309467300160047061507702525,\r\n    0.9915651684209309467300160047061507702525\r\n  ],\r\n  [\r\n    0,\r\n    -0.1603586456402253758680961157407435495048,\r\n    0.1603586456402253758680961157407435495048,\r\n    -0.3165640999636298319901173288498449178922,\r\n    0.3165640999636298319901173288498449178922,\r\n    -0.4645707413759609457172671481041023679762,\r\n    0.4645707413759609457172671481041023679762,\r\n    -0.6005453046616810234696381649462392798683,\r\n    0.6005453046616810234696381649462392798683,\r\n    -0.7209661773352293786170958608237816296571,\r\n    0.7209661773352293786170958608237816296571,\r\n    -0.8227146565371428249789224867127139017745,\r\n    0.8227146565371428249789224867127139017745,\r\n    -0.9031559036148179016426609285323124878093,\r\n    0.9031559036148179016426609285323124878093,\r\n    -0.960208152134830030852778840687651526615,\r\n    0.960208152134830030852778840687651526615,\r\n    -0.9924068438435844031890176702532604935893,\r\n    0.9924068438435844031890176702532604935893\r\n  ],\r\n  [\r\n    -0.0765265211334973337546404093988382110047,\r\n    0.0765265211334973337546404093988382110047,\r\n    -0.227785851141645078080496195368574624743,\r\n    0.227785851141645078080496195368574624743,\r\n    -0.3737060887154195606725481770249272373957,\r\n    0.3737060887154195606725481770249272373957,\r\n    -0.5108670019508270980043640509552509984254,\r\n    0.5108670019508270980043640509552509984254,\r\n    -0.6360536807265150254528366962262859367433,\r\n    0.6360536807265150254528366962262859367433,\r\n    -0.7463319064601507926143050703556415903107,\r\n    0.7463319064601507926143050703556415903107,\r\n    -0.8391169718222188233945290617015206853296,\r\n    0.8391169718222188233945290617015206853296,\r\n    -0.9122344282513259058677524412032981130491,\r\n    0.9122344282513259058677524412032981130491,\r\n    -0.963971927277913791267666131197277221912,\r\n    0.963971927277913791267666131197277221912,\r\n    -0.9931285991850949247861223884713202782226,\r\n    0.9931285991850949247861223884713202782226\r\n  ],\r\n  [\r\n    0,\r\n    -0.1455618541608950909370309823386863301163,\r\n    0.1455618541608950909370309823386863301163,\r\n    -0.288021316802401096600792516064600319909,\r\n    0.288021316802401096600792516064600319909,\r\n    -0.4243421202074387835736688885437880520964,\r\n    0.4243421202074387835736688885437880520964,\r\n    -0.551618835887219807059018796724313286622,\r\n    0.551618835887219807059018796724313286622,\r\n    -0.667138804197412319305966669990339162597,\r\n    0.667138804197412319305966669990339162597,\r\n    -0.7684399634756779086158778513062280348209,\r\n    0.7684399634756779086158778513062280348209,\r\n    -0.8533633645833172836472506385875676702761,\r\n    0.8533633645833172836472506385875676702761,\r\n    -0.9200993341504008287901871337149688941591,\r\n    0.9200993341504008287901871337149688941591,\r\n    -0.9672268385663062943166222149076951614246,\r\n    0.9672268385663062943166222149076951614246,\r\n    -0.9937521706203895002602420359379409291933,\r\n    0.9937521706203895002602420359379409291933\r\n  ],\r\n  [\r\n    -0.0697392733197222212138417961186280818222,\r\n    0.0697392733197222212138417961186280818222,\r\n    -0.2078604266882212854788465339195457342156,\r\n    0.2078604266882212854788465339195457342156,\r\n    -0.3419358208920842251581474204273796195591,\r\n    0.3419358208920842251581474204273796195591,\r\n    -0.4693558379867570264063307109664063460953,\r\n    0.4693558379867570264063307109664063460953,\r\n    -0.5876404035069115929588769276386473488776,\r\n    0.5876404035069115929588769276386473488776,\r\n    -0.6944872631866827800506898357622567712673,\r\n    0.6944872631866827800506898357622567712673,\r\n    -0.7878168059792081620042779554083515213881,\r\n    0.7878168059792081620042779554083515213881,\r\n    -0.8658125777203001365364256370193787290847,\r\n    0.8658125777203001365364256370193787290847,\r\n    -0.9269567721871740005206929392590531966353,\r\n    0.9269567721871740005206929392590531966353,\r\n    -0.9700604978354287271239509867652687108059,\r\n    0.9700604978354287271239509867652687108059,\r\n    -0.994294585482399292073031421161298980393,\r\n    0.994294585482399292073031421161298980393\r\n  ],\r\n  [\r\n    0,\r\n    -0.1332568242984661109317426822417661370104,\r\n    0.1332568242984661109317426822417661370104,\r\n    -0.264135680970344930533869538283309602979,\r\n    0.264135680970344930533869538283309602979,\r\n    -0.390301038030290831421488872880605458578,\r\n    0.390301038030290831421488872880605458578,\r\n    -0.5095014778460075496897930478668464305448,\r\n    0.5095014778460075496897930478668464305448,\r\n    -0.6196098757636461563850973116495956533871,\r\n    0.6196098757636461563850973116495956533871,\r\n    -0.7186613631319501944616244837486188483299,\r\n    0.7186613631319501944616244837486188483299,\r\n    -0.8048884016188398921511184069967785579414,\r\n    0.8048884016188398921511184069967785579414,\r\n    -0.8767523582704416673781568859341456716389,\r\n    0.8767523582704416673781568859341456716389,\r\n    -0.9329710868260161023491969890384229782357,\r\n    0.9329710868260161023491969890384229782357,\r\n    -0.9725424712181152319560240768207773751816,\r\n    0.9725424712181152319560240768207773751816,\r\n    -0.9947693349975521235239257154455743605736,\r\n    0.9947693349975521235239257154455743605736\r\n  ],\r\n  [\r\n    -0.0640568928626056260850430826247450385909,\r\n    0.0640568928626056260850430826247450385909,\r\n    -0.1911188674736163091586398207570696318404,\r\n    0.1911188674736163091586398207570696318404,\r\n    -0.3150426796961633743867932913198102407864,\r\n    0.3150426796961633743867932913198102407864,\r\n    -0.4337935076260451384870842319133497124524,\r\n    0.4337935076260451384870842319133497124524,\r\n    -0.5454214713888395356583756172183723700107,\r\n    0.5454214713888395356583756172183723700107,\r\n    -0.6480936519369755692524957869107476266696,\r\n    0.6480936519369755692524957869107476266696,\r\n    -0.7401241915785543642438281030999784255232,\r\n    0.7401241915785543642438281030999784255232,\r\n    -0.8200019859739029219539498726697452080761,\r\n    0.8200019859739029219539498726697452080761,\r\n    -0.8864155270044010342131543419821967550873,\r\n    0.8864155270044010342131543419821967550873,\r\n    -0.9382745520027327585236490017087214496548,\r\n    0.9382745520027327585236490017087214496548,\r\n    -0.9747285559713094981983919930081690617411,\r\n    0.9747285559713094981983919930081690617411,\r\n    -0.9951872199970213601799974097007368118745,\r\n    0.9951872199970213601799974097007368118745\r\n  ]\r\n];\r\n\r\n// Legendre-Gauss weights (wi values, defined by a function linked to in the Bezier primer article)\r\nexport const cValues = [\r\n  [],\r\n  [],\r\n  [1.0, 1.0],\r\n  [\r\n    0.8888888888888888888888888888888888888888,\r\n    0.5555555555555555555555555555555555555555,\r\n    0.5555555555555555555555555555555555555555\r\n  ],\r\n  [\r\n    0.6521451548625461426269360507780005927646,\r\n    0.6521451548625461426269360507780005927646,\r\n    0.3478548451374538573730639492219994072353,\r\n    0.3478548451374538573730639492219994072353\r\n  ],\r\n  [\r\n    0.5688888888888888888888888888888888888888,\r\n    0.4786286704993664680412915148356381929122,\r\n    0.4786286704993664680412915148356381929122,\r\n    0.2369268850561890875142640407199173626432,\r\n    0.2369268850561890875142640407199173626432\r\n  ],\r\n  [\r\n    0.3607615730481386075698335138377161116615,\r\n    0.3607615730481386075698335138377161116615,\r\n    0.4679139345726910473898703439895509948116,\r\n    0.4679139345726910473898703439895509948116,\r\n    0.1713244923791703450402961421727328935268,\r\n    0.1713244923791703450402961421727328935268\r\n  ],\r\n  [\r\n    0.4179591836734693877551020408163265306122,\r\n    0.3818300505051189449503697754889751338783,\r\n    0.3818300505051189449503697754889751338783,\r\n    0.2797053914892766679014677714237795824869,\r\n    0.2797053914892766679014677714237795824869,\r\n    0.1294849661688696932706114326790820183285,\r\n    0.1294849661688696932706114326790820183285\r\n  ],\r\n  [\r\n    0.3626837833783619829651504492771956121941,\r\n    0.3626837833783619829651504492771956121941,\r\n    0.3137066458778872873379622019866013132603,\r\n    0.3137066458778872873379622019866013132603,\r\n    0.2223810344533744705443559944262408844301,\r\n    0.2223810344533744705443559944262408844301,\r\n    0.1012285362903762591525313543099621901153,\r\n    0.1012285362903762591525313543099621901153\r\n  ],\r\n  [\r\n    0.3302393550012597631645250692869740488788,\r\n    0.1806481606948574040584720312429128095143,\r\n    0.1806481606948574040584720312429128095143,\r\n    0.0812743883615744119718921581105236506756,\r\n    0.0812743883615744119718921581105236506756,\r\n    0.3123470770400028400686304065844436655987,\r\n    0.3123470770400028400686304065844436655987,\r\n    0.2606106964029354623187428694186328497718,\r\n    0.2606106964029354623187428694186328497718\r\n  ],\r\n  [\r\n    0.295524224714752870173892994651338329421,\r\n    0.295524224714752870173892994651338329421,\r\n    0.2692667193099963550912269215694693528597,\r\n    0.2692667193099963550912269215694693528597,\r\n    0.2190863625159820439955349342281631924587,\r\n    0.2190863625159820439955349342281631924587,\r\n    0.1494513491505805931457763396576973324025,\r\n    0.1494513491505805931457763396576973324025,\r\n    0.0666713443086881375935688098933317928578,\r\n    0.0666713443086881375935688098933317928578\r\n  ],\r\n  [\r\n    0.272925086777900630714483528336342189156,\r\n    0.2628045445102466621806888698905091953727,\r\n    0.2628045445102466621806888698905091953727,\r\n    0.2331937645919904799185237048431751394317,\r\n    0.2331937645919904799185237048431751394317,\r\n    0.1862902109277342514260976414316558916912,\r\n    0.1862902109277342514260976414316558916912,\r\n    0.1255803694649046246346942992239401001976,\r\n    0.1255803694649046246346942992239401001976,\r\n    0.0556685671161736664827537204425485787285,\r\n    0.0556685671161736664827537204425485787285\r\n  ],\r\n  [\r\n    0.2491470458134027850005624360429512108304,\r\n    0.2491470458134027850005624360429512108304,\r\n    0.2334925365383548087608498989248780562594,\r\n    0.2334925365383548087608498989248780562594,\r\n    0.2031674267230659217490644558097983765065,\r\n    0.2031674267230659217490644558097983765065,\r\n    0.160078328543346226334652529543359071872,\r\n    0.160078328543346226334652529543359071872,\r\n    0.1069393259953184309602547181939962242145,\r\n    0.1069393259953184309602547181939962242145,\r\n    0.047175336386511827194615961485017060317,\r\n    0.047175336386511827194615961485017060317\r\n  ],\r\n  [\r\n    0.2325515532308739101945895152688359481566,\r\n    0.2262831802628972384120901860397766184347,\r\n    0.2262831802628972384120901860397766184347,\r\n    0.2078160475368885023125232193060527633865,\r\n    0.2078160475368885023125232193060527633865,\r\n    0.1781459807619457382800466919960979955128,\r\n    0.1781459807619457382800466919960979955128,\r\n    0.1388735102197872384636017768688714676218,\r\n    0.1388735102197872384636017768688714676218,\r\n    0.0921214998377284479144217759537971209236,\r\n    0.0921214998377284479144217759537971209236,\r\n    0.0404840047653158795200215922009860600419,\r\n    0.0404840047653158795200215922009860600419\r\n  ],\r\n  [\r\n    0.2152638534631577901958764433162600352749,\r\n    0.2152638534631577901958764433162600352749,\r\n    0.2051984637212956039659240656612180557103,\r\n    0.2051984637212956039659240656612180557103,\r\n    0.1855383974779378137417165901251570362489,\r\n    0.1855383974779378137417165901251570362489,\r\n    0.1572031671581935345696019386238421566056,\r\n    0.1572031671581935345696019386238421566056,\r\n    0.1215185706879031846894148090724766259566,\r\n    0.1215185706879031846894148090724766259566,\r\n    0.0801580871597602098056332770628543095836,\r\n    0.0801580871597602098056332770628543095836,\r\n    0.0351194603317518630318328761381917806197,\r\n    0.0351194603317518630318328761381917806197\r\n  ],\r\n  [\r\n    0.2025782419255612728806201999675193148386,\r\n    0.1984314853271115764561183264438393248186,\r\n    0.1984314853271115764561183264438393248186,\r\n    0.1861610000155622110268005618664228245062,\r\n    0.1861610000155622110268005618664228245062,\r\n    0.1662692058169939335532008604812088111309,\r\n    0.1662692058169939335532008604812088111309,\r\n    0.1395706779261543144478047945110283225208,\r\n    0.1395706779261543144478047945110283225208,\r\n    0.1071592204671719350118695466858693034155,\r\n    0.1071592204671719350118695466858693034155,\r\n    0.0703660474881081247092674164506673384667,\r\n    0.0703660474881081247092674164506673384667,\r\n    0.0307532419961172683546283935772044177217,\r\n    0.0307532419961172683546283935772044177217\r\n  ],\r\n  [\r\n    0.1894506104550684962853967232082831051469,\r\n    0.1894506104550684962853967232082831051469,\r\n    0.1826034150449235888667636679692199393835,\r\n    0.1826034150449235888667636679692199393835,\r\n    0.1691565193950025381893120790303599622116,\r\n    0.1691565193950025381893120790303599622116,\r\n    0.1495959888165767320815017305474785489704,\r\n    0.1495959888165767320815017305474785489704,\r\n    0.1246289712555338720524762821920164201448,\r\n    0.1246289712555338720524762821920164201448,\r\n    0.0951585116824927848099251076022462263552,\r\n    0.0951585116824927848099251076022462263552,\r\n    0.0622535239386478928628438369943776942749,\r\n    0.0622535239386478928628438369943776942749,\r\n    0.0271524594117540948517805724560181035122,\r\n    0.0271524594117540948517805724560181035122\r\n  ],\r\n  [\r\n    0.1794464703562065254582656442618856214487,\r\n    0.1765627053669926463252709901131972391509,\r\n    0.1765627053669926463252709901131972391509,\r\n    0.1680041021564500445099706637883231550211,\r\n    0.1680041021564500445099706637883231550211,\r\n    0.1540457610768102880814315948019586119404,\r\n    0.1540457610768102880814315948019586119404,\r\n    0.1351363684685254732863199817023501973721,\r\n    0.1351363684685254732863199817023501973721,\r\n    0.1118838471934039710947883856263559267358,\r\n    0.1118838471934039710947883856263559267358,\r\n    0.0850361483171791808835353701910620738504,\r\n    0.0850361483171791808835353701910620738504,\r\n    0.0554595293739872011294401653582446605128,\r\n    0.0554595293739872011294401653582446605128,\r\n    0.0241483028685479319601100262875653246916,\r\n    0.0241483028685479319601100262875653246916\r\n  ],\r\n  [\r\n    0.1691423829631435918406564701349866103341,\r\n    0.1691423829631435918406564701349866103341,\r\n    0.1642764837458327229860537764659275904123,\r\n    0.1642764837458327229860537764659275904123,\r\n    0.1546846751262652449254180038363747721932,\r\n    0.1546846751262652449254180038363747721932,\r\n    0.1406429146706506512047313037519472280955,\r\n    0.1406429146706506512047313037519472280955,\r\n    0.1225552067114784601845191268002015552281,\r\n    0.1225552067114784601845191268002015552281,\r\n    0.1009420441062871655628139849248346070628,\r\n    0.1009420441062871655628139849248346070628,\r\n    0.0764257302548890565291296776166365256053,\r\n    0.0764257302548890565291296776166365256053,\r\n    0.0497145488949697964533349462026386416808,\r\n    0.0497145488949697964533349462026386416808,\r\n    0.0216160135264833103133427102664524693876,\r\n    0.0216160135264833103133427102664524693876\r\n  ],\r\n  [\r\n    0.1610544498487836959791636253209167350399,\r\n    0.1589688433939543476499564394650472016787,\r\n    0.1589688433939543476499564394650472016787,\r\n    0.152766042065859666778855400897662998461,\r\n    0.152766042065859666778855400897662998461,\r\n    0.1426067021736066117757461094419029724756,\r\n    0.1426067021736066117757461094419029724756,\r\n    0.1287539625393362276755157848568771170558,\r\n    0.1287539625393362276755157848568771170558,\r\n    0.1115666455473339947160239016817659974813,\r\n    0.1115666455473339947160239016817659974813,\r\n    0.0914900216224499994644620941238396526609,\r\n    0.0914900216224499994644620941238396526609,\r\n    0.0690445427376412265807082580060130449618,\r\n    0.0690445427376412265807082580060130449618,\r\n    0.0448142267656996003328381574019942119517,\r\n    0.0448142267656996003328381574019942119517,\r\n    0.0194617882297264770363120414644384357529,\r\n    0.0194617882297264770363120414644384357529\r\n  ],\r\n  [\r\n    0.1527533871307258506980843319550975934919,\r\n    0.1527533871307258506980843319550975934919,\r\n    0.1491729864726037467878287370019694366926,\r\n    0.1491729864726037467878287370019694366926,\r\n    0.1420961093183820513292983250671649330345,\r\n    0.1420961093183820513292983250671649330345,\r\n    0.1316886384491766268984944997481631349161,\r\n    0.1316886384491766268984944997481631349161,\r\n    0.118194531961518417312377377711382287005,\r\n    0.118194531961518417312377377711382287005,\r\n    0.1019301198172404350367501354803498761666,\r\n    0.1019301198172404350367501354803498761666,\r\n    0.0832767415767047487247581432220462061001,\r\n    0.0832767415767047487247581432220462061001,\r\n    0.0626720483341090635695065351870416063516,\r\n    0.0626720483341090635695065351870416063516,\r\n    0.040601429800386941331039952274932109879,\r\n    0.040601429800386941331039952274932109879,\r\n    0.0176140071391521183118619623518528163621,\r\n    0.0176140071391521183118619623518528163621\r\n  ],\r\n  [\r\n    0.1460811336496904271919851476833711882448,\r\n    0.1445244039899700590638271665537525436099,\r\n    0.1445244039899700590638271665537525436099,\r\n    0.1398873947910731547221334238675831108927,\r\n    0.1398873947910731547221334238675831108927,\r\n    0.132268938633337461781052574496775604329,\r\n    0.132268938633337461781052574496775604329,\r\n    0.1218314160537285341953671771257335983563,\r\n    0.1218314160537285341953671771257335983563,\r\n    0.1087972991671483776634745780701056420336,\r\n    0.1087972991671483776634745780701056420336,\r\n    0.0934444234560338615532897411139320884835,\r\n    0.0934444234560338615532897411139320884835,\r\n    0.0761001136283793020170516533001831792261,\r\n    0.0761001136283793020170516533001831792261,\r\n    0.0571344254268572082836358264724479574912,\r\n    0.0571344254268572082836358264724479574912,\r\n    0.0369537897708524937999506682993296661889,\r\n    0.0369537897708524937999506682993296661889,\r\n    0.0160172282577743333242246168584710152658,\r\n    0.0160172282577743333242246168584710152658\r\n  ],\r\n  [\r\n    0.1392518728556319933754102483418099578739,\r\n    0.1392518728556319933754102483418099578739,\r\n    0.1365414983460151713525738312315173965863,\r\n    0.1365414983460151713525738312315173965863,\r\n    0.1311735047870623707329649925303074458757,\r\n    0.1311735047870623707329649925303074458757,\r\n    0.1232523768105124242855609861548144719594,\r\n    0.1232523768105124242855609861548144719594,\r\n    0.1129322960805392183934006074217843191142,\r\n    0.1129322960805392183934006074217843191142,\r\n    0.1004141444428809649320788378305362823508,\r\n    0.1004141444428809649320788378305362823508,\r\n    0.0859416062170677274144436813727028661891,\r\n    0.0859416062170677274144436813727028661891,\r\n    0.0697964684245204880949614189302176573987,\r\n    0.0697964684245204880949614189302176573987,\r\n    0.0522933351526832859403120512732112561121,\r\n    0.0522933351526832859403120512732112561121,\r\n    0.0337749015848141547933022468659129013491,\r\n    0.0337749015848141547933022468659129013491,\r\n    0.0146279952982722006849910980471854451902,\r\n    0.0146279952982722006849910980471854451902\r\n  ],\r\n  [\r\n    0.1336545721861061753514571105458443385831,\r\n    0.132462039404696617371642464703316925805,\r\n    0.132462039404696617371642464703316925805,\r\n    0.1289057221880821499785953393997936532597,\r\n    0.1289057221880821499785953393997936532597,\r\n    0.1230490843067295304675784006720096548158,\r\n    0.1230490843067295304675784006720096548158,\r\n    0.1149966402224113649416435129339613014914,\r\n    0.1149966402224113649416435129339613014914,\r\n    0.1048920914645414100740861850147438548584,\r\n    0.1048920914645414100740861850147438548584,\r\n    0.0929157660600351474770186173697646486034,\r\n    0.0929157660600351474770186173697646486034,\r\n    0.0792814117767189549228925247420432269137,\r\n    0.0792814117767189549228925247420432269137,\r\n    0.0642324214085258521271696151589109980391,\r\n    0.0642324214085258521271696151589109980391,\r\n    0.0480376717310846685716410716320339965612,\r\n    0.0480376717310846685716410716320339965612,\r\n    0.0309880058569794443106942196418845053837,\r\n    0.0309880058569794443106942196418845053837,\r\n    0.0134118594871417720813094934586150649766,\r\n    0.0134118594871417720813094934586150649766\r\n  ],\r\n  [\r\n    0.1279381953467521569740561652246953718517,\r\n    0.1279381953467521569740561652246953718517,\r\n    0.1258374563468282961213753825111836887264,\r\n    0.1258374563468282961213753825111836887264,\r\n    0.121670472927803391204463153476262425607,\r\n    0.121670472927803391204463153476262425607,\r\n    0.1155056680537256013533444839067835598622,\r\n    0.1155056680537256013533444839067835598622,\r\n    0.1074442701159656347825773424466062227946,\r\n    0.1074442701159656347825773424466062227946,\r\n    0.0976186521041138882698806644642471544279,\r\n    0.0976186521041138882698806644642471544279,\r\n    0.086190161531953275917185202983742667185,\r\n    0.086190161531953275917185202983742667185,\r\n    0.0733464814110803057340336152531165181193,\r\n    0.0733464814110803057340336152531165181193,\r\n    0.0592985849154367807463677585001085845412,\r\n    0.0592985849154367807463677585001085845412,\r\n    0.0442774388174198061686027482113382288593,\r\n    0.0442774388174198061686027482113382288593,\r\n    0.0285313886289336631813078159518782864491,\r\n    0.0285313886289336631813078159518782864491,\r\n    0.0123412297999871995468056670700372915759,\r\n    0.0123412297999871995468056670700372915759\r\n  ]\r\n];\r\n\r\n// LUT for binomial coefficient arrays per curve order 'n'\r\nexport const binomialCoefficients = [[1], [1, 1], [1, 2, 1], [1, 3, 3, 1]];\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuardService as AuthGuard } from './auth-guard.service';\nimport { LoginComponent } from './login/login.component';\n\n// https://github.com/Mokkapps/angular-manual-lazy-load-demo/blob/master/src/app/lazy-loader.service.ts\n// firebase notification lazy load\n// https://github.com/mebjas/html5-qrcode - qr code scanning\n\n// filter, add, attach\nconst routes: Routes = [\n  {\n    path: 'login',\n    component: LoginComponent,\n  },\n  // dating - can browse events from organizer\n  {\n    path: 'dating',\n    loadChildren: () =>\n      import('./dating/dating.module').then((m) => m.DatingModule),\n    canLoad: [AuthGuard],\n  },\n  // business also can attach event organizer's event as a group event -\n  // can set random - (groups has been rated together as in the case of dating)\n  // jobs, group invite, idea sharing\n  {\n    path: 'business',\n    loadChildren: () =>\n      import('./business/business.module').then((m) => m.BusinessModule),\n    canLoad: [AuthGuard],\n  },\n  {\n    path: 'job',\n    loadChildren: () =>\n      import('./job/job.module').then((m) => m.JobModule),\n    canLoad: [AuthGuard],\n  },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, { scrollPositionRestoration: 'enabled' }),\n  ],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport firebase from 'firebase/app';\nimport * as firebaseui from 'firebaseui';\nimport { NavigationService } from '../navigation.service';\nimport { HttpService } from '../services/http.service';\n\nconst uiConfig = {\n  callbacks: {\n    signInSuccessWithAuthResult(authResult, redirectUrl): boolean {\n      return false;\n    },\n    uiShown(): void {\n      console.log('aaaaa');\n      document.getElementById('loader').style.display = 'none';\n    },\n  },\n  // signInFlow: 'popup',\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\n  ],\n  tosUrl: 'https://www.termsfeed.com/live/db6d4315-9907-46cd-929f-868630e81f69', // terms\n  privacyPolicyUrl:\n    'https://www.termsfeed.com/live/bab86d2c-6ed7-4fa2-8f8e-eda206765d42',\n};\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n})\nexport class LoginComponent implements OnInit {\n  server = true;\n  msg;\n\n  constructor(\n    private navService: NavigationService,\n    private httpService: HttpService,\n    private domSanitizer: DomSanitizer\n  ) {}\n  ngOnInit(): void {\n    if (this.navService.locale === undefined) {\n      this.httpService.get('/messages').subscribe({\n        next: (value) => {\n          const evt = value['msg'];\n\n          if (evt['expl.videos']) {\n            evt['expl.videos'] = evt['expl.videos'].map((video) =>\n              this.domSanitizer.bypassSecurityTrustResourceUrl(video)\n            );\n          }\n\n          this.navService.locale = evt;\n          this.msg = this.navService.locale;\n\n          this.initFirebase();\n        },\n        error: (error) => {\n          console.log('Server is down!');\n        },\n        complete: () => {},\n      });\n    } else {\n      this.msg = this.navService.locale;\n      this.initFirebase();\n    }\n  }\n\n  initFirebase() {\n    setTimeout(() => {\n      const ui =\n        firebaseui.auth.AuthUI.getInstance() ||\n        new firebaseui.auth.AuthUI(firebase.auth());\n      ui.start('#firebaseui-auth-container', uiConfig);\n    });\n  }\n}\n","<div class=\"mat-intro-background\">\n  <div class=\"mat-into-header\">\n    <img src=\"assets/img/logo/logo.png\" />\n    <h1>yScoutee</h1>\n    <div class=\"info\" style=\"display: grid; text-align: center;\">\n      <p class=\"mobile-only\">Mobile Only</p>\n      <p class=\"version\" *ngIf=\"msg\">v{{ msg['expl.version'] }}</p>\n    </div>\n    <h3 *ngIf=\"!msg\" class=\"server-msg\">Server is down!</h3>\n  </div>\n\n  <div class=\"addToHome\"><h3>Add to home screen to enable notification!</h3></div>\n\n  <div *ngIf=\"msg\" class=\"mat-into-panel\">\n    <div [innerHtml]=\"msg['expl.build']\"></div>\n    <div id=\"firebaseui-auth-container\"></div>\n    <div id=\"loader\">{{ msg['expl.loading'] }}</div>\n  </div>\n\n  <div *ngIf=\"msg\" class=\"mat-into-panel\">\n    <h2>{{ msg['expl.intro'] }}</h2>\n    <iframe\n      *ngFor=\"let video of msg['expl.videos']\"\n      width=\"100%\"\n      height=\"200vh\"\n      src=\"https://www.youtube.com/embed/videoseries?list=PLxtLUXGICqdHaHC36Dv1t2IVchqwA7uz4\"\n      title=\"YouTube video player\"\n      frameborder=\"0\"\n      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n      allowfullscreen\n    ></iframe>\n  </div>\n\n  <div class=\"mat-into-panel\" *ngIf=\"msg\" [innerHtml]=\"msg['expl.time']\"></div>\n\n  <div\n    class=\"mat-into-panel\"\n    *ngIf=\"msg\"\n    [innerHtml]=\"msg['expl.priority']\"\n  ></div>\n\n  <div\n    class=\"mat-into-panel\"\n    *ngIf=\"msg\"\n    [innerHtml]=\"msg['expl.group_dating']\"\n  ></div>\n\n  <div\n    class=\"mat-into-panel\"\n    *ngIf=\"msg\"\n    [innerHtml]=\"msg['expl.equal_opportunity']\"\n  ></div>\n\n  <div\n    class=\"mat-into-panel\"\n    *ngIf=\"msg\"\n    [innerHtml]=\"msg['expl.security']\"\n  ></div>\n\n  <div class=\"mat-into-panel\">\n    <h2 *ngIf=\"msg\">{{ msg['expl.report'] }}</h2>\n    <div class=\"btn_bar\">\n      <div style=\"display: flex; grid-area: 1 / 1\">\n        <div class=\"btn_base\">\n          <div class=\"github container\">\n            <a href=\"https://github.com/myscoutee/myscoutee\" target=\"_blank\">\n              <img class=\"img\" />\n            </a>\n          </div>\n        </div>\n      </div>\n      <ms-menu style=\"grid-area: 1 / 1; pointer-events: none\"></ms-menu>\n    </div>\n  </div>\n\n  <div class=\"mat-into-panel\">\n    <h2 *ngIf=\"msg\">{{ msg['expl.follow'] }}</h2>\n    <div class=\"btn_bar\">\n      <div style=\"display: flex\">\n        <div class=\"btn_base\">\n          <div class=\"youtube container\">\n            <a\n              href=\"https://www.youtube.com/channel/UC3J3oi23kHx-8PKYJ2hxcdA\"\n              target=\"_blank\"\n            >\n              <img class=\"img\" />\n            </a>\n          </div>\n        </div>\n        <div class=\"btn_base\">\n          <div class=\"facebook container\">\n            <a href=\"https://www.facebook.com/MyScouteeT\" target=\"_blank\">\n              <img class=\"img\" />\n            </a>\n          </div>\n        </div>\n        <div class=\"btn_base\">\n          <div class=\"twitter container\">\n            <a href=\"https://twitter.com/MyScoutee\" target=\"_blank\">\n              <img class=\"img\" />\n            </a>\n          </div>\n        </div>\n        <div class=\"btn_base\">\n          <div class=\"linkedin container\">\n            <a\n              href=\"https://www.linkedin.com/company/myscoutee\"\n              target=\"_blank\"\n            >\n              <img class=\"img\" />\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"mat-into-footer\">\n    <h3 style=\"display: flex\">\n      &#169; MyScoutee.com, All Rights Reserved\n      <div *ngIf=\"msg\">, v{{ msg['expl.version'] }}</div>\n    </h3>\n  </div>\n</div>\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport { EventBusService } from 'src/app/services/event-bus.service';\nimport { Magnifier, Transform } from './magnifier';\n\n//no rotate buttons - it should be on multi touch\n//it will be zoomable calendar - create element, not just for image\n@Component({\n  selector: 'ms-editor',\n  templateUrl: './index.html',\n})\nexport class MsEditor implements OnInit, OnChanges {\n  @Input() data: any;\n\n  private alias: any;\n  private magnifier: Magnifier;\n\n  @ViewChild('editor', { static: true }) editorRef: ElementRef;\n  @ViewChild('item', { static: true }) itemRef: ElementRef;\n\n  @Output() changed: EventEmitter<any> = new EventEmitter();\n\n  constructor(\n    private _renderer: Renderer2,\n    private navService: EventBusService\n  ) {\n    if (this.data !== undefined) {\n      this.data.src = this.data.src + '?' + Date.now();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.notify();\n  }\n\n  loaded(evt) {\n    if (this.data.value !== undefined) {\n      this.update(this.data.value.mtx);\n    }\n  }\n\n  // init\n  ngOnInit(): void {\n    this.notify();\n    /*QRCode.toCanvas(this.canvasRef.nativeElement, 'sample text', function (error) {\n            if (error) console.error(error)\n            console.log('success!');\n        });*/\n\n    let transform = new Transform();\n    if (this.data.value !== undefined) {\n      transform = new Transform(this.data.value.matrix);\n    }\n\n    this.magnifier = new Magnifier(\n      this.editorRef.nativeElement,\n      this._renderer,\n      transform\n    );\n\n    this.magnifier.listen((mtx) => {\n      this.update(mtx);\n    });\n\n    this.navService.rotate.subscribe((tr) => {\n      const mtx = this.magnifier.rotate(tr.degree);\n      this.update(mtx);\n    });\n  }\n\n  update(mtx) {\n    this._renderer.setStyle(\n      this.itemRef.nativeElement,\n      'transform',\n      'translate(' +\n        mtx.pos.x +\n        'px,' +\n        mtx.pos.y +\n        'px) scale(' +\n        mtx.scale +\n        ',' +\n        mtx.scale +\n        ') rotate(' +\n        mtx.angle +\n        'deg)'\n    );\n    this.changed.emit({ mtx });\n  }\n\n  notify(): void {\n    setTimeout(() => {\n      this.changed.emit({\n        mtx: this.magnifier.transform.mtx,\n        img: this.itemRef.nativeElement,\n        size: {\n          height: this.editorRef.nativeElement.clientHeight,\n          width: this.editorRef.nativeElement.clientWidth,\n        },\n      });\n    });\n  }\n}\n","<div #editor class=\"editor\">\n    <img #item class=\"img\" [src]=\"data.src\" (load)=\"loaded($event)\">\n</div>","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n//https://juristr.com/blog/2016/11/configure-proxy-api-angular-cli/\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => {\n    console.log(err);\n  });\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}